{"version":3,"file":"index-Brcqh0jV.js","sources":["../../src/hooks/use-toast.ts","../../src/lib/utils.ts","../../src/components/ui/toast.tsx","../../src/components/ui/toaster.tsx","../../src/components/ui/sonner.tsx","../../src/components/ui/tooltip.tsx","../../src/components/ui/animations.tsx","../../src/utils/generateLinks.ts","../../src/pages/Index.tsx","../../src/components/ui/SlideTransition.tsx","../../src/components/ui/ContributorCard.tsx","../../src/lib/firebase.ts","../../src/pages/Collector.tsx","../../src/components/ui/VerificationPayment.tsx","../../src/pages/Contributor.tsx","../../src/pages/NotFound.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","import { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n","import * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","\nimport { ReactNode } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n// Fade in animation\nexport const FadeIn = ({ \n  children, \n  duration = 0.5, \n  delay = 0,\n  className = \"\" \n}: { \n  children: ReactNode; \n  duration?: number;\n  delay?: number;\n  className?: string;\n}) => (\n  <motion.div\n    initial={{ opacity: 0 }}\n    animate={{ opacity: 1 }}\n    exit={{ opacity: 0 }}\n    transition={{ duration, delay, ease: \"easeInOut\" }}\n    className={className}\n  >\n    {children}\n  </motion.div>\n);\n\n// Scale animation\nexport const ScaleIn = ({ \n  children, \n  duration = 0.3,\n  delay = 0,\n  className = \"\" \n}: { \n  children: ReactNode; \n  duration?: number;\n  delay?: number;\n  className?: string;\n}) => (\n  <motion.div\n    initial={{ opacity: 0, scale: 0.95 }}\n    animate={{ opacity: 1, scale: 1 }}\n    exit={{ opacity: 0, scale: 0.95 }}\n    transition={{ duration, delay, ease: \"easeOut\" }}\n    className={className}\n  >\n    {children}\n  </motion.div>\n);\n\n// Hover scale effect\nexport const HoverScale = ({ \n  children, \n  scale = 1.03,\n  className = \"\" \n}: { \n  children: ReactNode; \n  scale?: number;\n  className?: string;\n}) => (\n  <motion.div\n    whileHover={{ scale }}\n    whileTap={{ scale: 0.98 }}\n    transition={{ duration: 0.2 }}\n    className={className}\n  >\n    {children}\n  </motion.div>\n);\n\n// Pulse animation\nexport const Pulse = ({ \n  children,\n  className = \"\" \n}: { \n  children: ReactNode;\n  className?: string;\n}) => (\n  <motion.div\n    animate={{ \n      scale: [1, 1.03, 1],\n      opacity: [1, 0.8, 1] \n    }}\n    transition={{ \n      duration: 2,\n      repeat: Infinity,\n      ease: \"easeInOut\" \n    }}\n    className={className}\n  >\n    {children}\n  </motion.div>\n);\n\n// Shimmer effect for loading states\nexport const Shimmer = ({ \n  width, \n  height, \n  rounded = \"rounded-md\",\n  className = \"\" \n}: { \n  width: string; \n  height: string;\n  rounded?: string;\n  className?: string;\n}) => (\n  <div \n    className={`bg-muted/30 animate-pulse ${rounded} ${width} ${height} ${className} shimmer`}\n  />\n);\n\n// Success checkmark animation\nexport const SuccessCheckmark = ({ size = 48, className = \"\" }: { size?: number; className?: string }) => (\n  <motion.svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 50 50\"\n    className={className}\n  >\n    <motion.circle\n      cx=\"25\"\n      cy=\"25\"\n      r=\"20\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"3\"\n      strokeLinecap=\"round\"\n      initial={{ pathLength: 0, opacity: 0 }}\n      animate={{ pathLength: 1, opacity: 1 }}\n      transition={{ duration: 0.5, ease: \"easeInOut\" }}\n    />\n    <motion.path\n      d=\"M15 25 L22 32 L35 18\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"3\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      initial={{ pathLength: 0, opacity: 0 }}\n      animate={{ pathLength: 1, opacity: 1 }}\n      transition={{ duration: 0.5, delay: 0.3, ease: \"easeInOut\" }}\n    />\n  </motion.svg>\n);\n","\n/**\n * Generates a payment link for a contributor\n * @param poolId The ID of the pool\n * @param contributorName Optional name of the contributor to include in URL parameters\n * @param baseUrl The base URL of the application, defaults to window.location.origin\n * @returns The complete payment URL\n */\nexport const generatePaymentLink = (\n  poolId: string = \"demo\",\n  contributorName?: string,\n  baseUrl: string = window.location.origin\n): string => {\n  const url = `${baseUrl}/app/pay/${poolId}`;\n  return contributorName ? `${url}?name=${encodeURIComponent(contributorName)}` : url;\n};\n\n/**\n * Generates a collector link for a pool\n * @param poolId The ID of the pool\n * @param amount Optional amount to include in URL parameters\n * @param baseUrl The base URL of the application, defaults to window.location.origin\n * @returns The complete collector URL\n */\nexport const generateCollectorLink = (\n  poolId: string = \"demo\",\n  amount?: number,\n  baseUrl: string = window.location.origin\n): string => {\n  const url = `${baseUrl}/app/collect/${poolId}`;\n  return amount ? `${url}?amount=${amount}` : url;\n};\n\n/**\n * Generate a unique ID string\n * @returns Random string ID\n */\nexport const generateUniqueId = (): string => {\n  return Math.random().toString(36).substring(2, 10);\n};\n\n/**\n * Calculate remaining amount after contributors' allocations\n * @param contributors List of contributors\n * @param totalAmount Total pool amount\n * @returns Remaining unallocated amount\n */\nexport const calculateRemainingAmount = (contributors: any[], totalAmount: number): number => {\n  const allocated = contributors.reduce((sum, contributor) => sum + (contributor.amount || 0), 0);\n  return parseFloat((totalAmount - allocated).toFixed(2));\n};\n\n/**\n * Distributes amount evenly among contributors\n * @param contributors List of contributors\n * @param totalAmount Total pool amount\n * @returns Updated contributors with evenly distributed amounts\n */\nexport const distributeAmountEvenly = (contributors: any[], totalAmount: number): any[] => {\n  if (contributors.length === 0) return [];\n  \n  const evenAmount = totalAmount / contributors.length;\n  return contributors.map(c => ({\n    ...c,\n    amount: parseFloat(evenAmount.toFixed(2))\n  }));\n};\n","\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useToast } from \"../hooks/use-toast\";\nimport { FadeIn } from \"../components/ui/animations\";\nimport { generateUniqueId } from \"../utils/generateLinks\";\n\nconst Index = () => {\n  const [amount, setAmount] = useState(\"\");\n  const [isCreating, setIsCreating] = useState(false);\n  const navigate = useNavigate();\n  const { toast } = useToast();\n\n  // For B2B flow, we can either:\n  // 1. Auto-redirect to a demo/example collector page\n  // 2. Show a simple form for testing purposes\n  \n  const handleCreatePool = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    const numAmount = parseFloat(amount);\n    if (!amount || isNaN(numAmount) || numAmount <= 0) {\n      toast({\n        title: \"Invalid amount\",\n        description: \"Please enter a valid payment amount\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    \n    try {\n      setIsCreating(true);\n      // For testing, generate a random pool ID\n      const tempPoolId = generateUniqueId();\n      // Navigate to collector page with amount in URL\n      navigate(`/collect/${tempPoolId}?amount=${numAmount}`);\n    } catch (error) {\n      console.error(\"Error creating pool:\", error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to create payment pool. Please try again.\",\n        variant: \"destructive\"\n      });\n      setIsCreating(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <header className=\"py-6 px-4 border-b border-border\">\n        <div className=\"container max-w-6xl\">\n          <img src=\"OnePool.png\" alt=\"OnePool Logo\" className=\"logo-image primary-logo\" />\n        </div>\n      </header>\n      \n      <main className=\"flex-1 flex items-center justify-center px-4 py-12\">\n        <FadeIn className=\"w-full max-w-lg\">\n          <div className=\"text-center mb-8\">\n            <FadeIn>\n              <h1 className=\"text-4xl font-bold mb-3\">B2B Checkout Solution</h1>\n              <p className=\"text-xl text-muted-foreground\">\n                Create a test collector link with an amount\n              </p>\n            </FadeIn>\n          </div>\n          \n          <FadeIn delay={0.1}>\n            <div className=\"glass-card p-8 mb-6\">\n              <h2 className=\"text-2xl font-semibold mb-6\">Test Collector Link</h2>\n              <form onSubmit={handleCreatePool}>\n                <div className=\"mb-6\">\n                  <label htmlFor=\"amount\" className=\"block text-sm font-medium mb-2\">\n                    Total Amount\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      id=\"amount\"\n                      type=\"number\"\n                      min=\"0.01\"\n                      step=\"0.01\"\n                      value={amount}\n                      onChange={(e) => setAmount(e.target.value)}\n                      className=\"input-field pl-12 pr-12 text-lg w-full\"\n                      placeholder=\"0.00\"\n                      required\n                    />\n                    <div className=\"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground\">\n                      €\n                    </div>\n                  </div>\n                </div>\n                \n                <button\n                  type=\"submit\"\n                  className=\"btn-primary w-full text-base\"\n                  disabled={isCreating}\n                >\n                  {isCreating ? (\n                    <span className=\"flex items-center justify-center\">\n                      <div className=\"w-5 h-5 border-2 border-t-white/0 border-white rounded-full animate-spin mr-2\"></div>\n                      Creating...\n                    </span>\n                  ) : (\n                    \"Create Collector Link\"\n                  )}\n                </button>\n              </form>\n            </div>\n          </FadeIn>\n          \n          <FadeIn delay={0.3} className=\"text-center\">\n            <p className=\"text-muted-foreground\">\n              This page is for testing purposes only. In production, collector links will be created by merchants.\n            </p>\n          </FadeIn>\n        </FadeIn>\n      </main>\n      \n      <footer className=\"py-6 px-4 border-t border-border\">\n        <div className=\"container max-w-6xl text-center text-sm text-muted-foreground\">\n          OnePool © {new Date().getFullYear()} — All rights reserved\n        </div>\n      </footer>\n    </div>\n  );\n};\n\nexport default Index;\n","\nimport { ReactNode, useRef, useEffect } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\n\ninterface SlideTransitionProps {\n  children: ReactNode;\n  isVisible?: boolean;\n  direction?: \"up\" | \"down\" | \"left\" | \"right\";\n  duration?: number;\n  delay?: number;\n  className?: string;\n}\n\nexport const SlideTransition = ({\n  children,\n  isVisible = true,\n  direction = \"up\",\n  duration = 0.5,\n  delay = 0,\n  className = \"\",\n}: SlideTransitionProps) => {\n  const directionMap = {\n    up: { y: [20, 0] },\n    down: { y: [-20, 0] },\n    left: { x: [20, 0] },\n    right: { x: [-20, 0] },\n  };\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div\n          initial={{ opacity: 0, ...getInitialState(direction) }}\n          animate={{ \n            opacity: 1, \n            ...getFinalState(direction),\n            transition: { duration, delay, ease: \"easeOut\" }\n          }}\n          exit={{ \n            opacity: 0,\n            ...getInitialState(direction),\n            transition: { duration: duration * 0.8, ease: \"easeIn\" }\n          }}\n          className={className}\n        >\n          {children}\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\n// Helper function to get initial state based on direction\nfunction getInitialState(direction: \"up\" | \"down\" | \"left\" | \"right\") {\n  switch (direction) {\n    case \"up\": return { y: 20 };\n    case \"down\": return { y: -20 };\n    case \"left\": return { x: 20 };\n    case \"right\": return { x: -20 };\n  }\n}\n\n// Helper function to get final state based on direction\nfunction getFinalState(direction: \"up\" | \"down\" | \"left\" | \"right\") {\n  switch (direction) {\n    case \"up\": return { y: 0 };\n    case \"down\": return { y: 0 };\n    case \"left\": return { x: 0 };\n    case \"right\": return { x: 0 };\n  }\n}\n\n// Page transition component with scroll restoration\nexport const PageTransition = ({ children }: { children: ReactNode }) => {\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  // Scroll to top when component mounts\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTo(0, 0);\n    }\n  }, [children]);\n\n  return (\n    <div ref={scrollRef} className=\"h-full w-full overflow-y-auto\">\n      <motion.div\n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        exit={{ opacity: 0, y: -10 }}\n        transition={{ duration: 0.4, ease: \"easeInOut\" }}\n        className=\"min-h-full\"\n      >\n        {children}\n      </motion.div>\n    </div>\n  );\n};\n\n// Staggered children component\nexport const StaggerChildren = ({ \n  children, \n  staggerDelay = 0.1, \n  className = \"\" \n}: { \n  children: ReactNode[]; \n  staggerDelay?: number;\n  className?: string;\n}) => {\n  return (\n    <div className={className}>\n      <AnimatePresence>\n        {children.map((child, index) => (\n          <motion.div\n            key={index}\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -10 }}\n            transition={{ \n              duration: 0.4, \n              delay: index * staggerDelay,\n              ease: \"easeOut\" \n            }}\n          >\n            {child}\n          </motion.div>\n        ))}\n      </AnimatePresence>\n    </div>\n  );\n};\n","\nimport { motion } from \"framer-motion\";\nimport { Check, X, User, DollarSign, Euro } from \"lucide-react\";\nimport { FadeIn, HoverScale } from \"./animations\";\n\nexport interface Contributor {\n  id: string;\n  name: string;\n  amount: number;\n  hasPaid?: boolean;\n  hasVerified?: boolean;\n  isEditing?: boolean;\n}\n\ninterface ContributorCardProps {\n  contributor: Contributor;\n  totalAmount: number;\n  onRemove?: (id: string) => void;\n  onEdit?: (id: string, amount: number) => void;\n  onNameChange?: (id: string, name: string) => void;\n  isCollector?: boolean;\n  index?: number;\n}\n\nexport const ContributorCard = ({\n  contributor,\n  totalAmount,\n  onRemove,\n  onEdit,\n  onNameChange,\n  isCollector = true,\n  index = 0,\n}: ContributorCardProps) => {\n  const percentage = (contributor.amount / totalAmount) * 100;\n\n  return (\n    <FadeIn delay={index * 0.1}>\n      <HoverScale scale={1.02}>\n        <div className=\"glass-card p-4 mb-3\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center text-primary\">\n                <User size={18} />\n              </div>\n              {isCollector && contributor.isEditing ? (\n                <input\n                  className=\"input-field py-1 px-2 text-sm w-[120px]\"\n                  value={contributor.name || \"\"}\n                  onChange={(e) => onNameChange?.(contributor.id, e.target.value)}\n                  placeholder=\"Name\"\n                  autoFocus\n                />\n              ) : (\n                <div>\n                  <p className=\"font-medium\">{contributor.name || \"Unnamed\"}</p>\n                  <div className=\"flex items-center mt-1 text-xs text-muted-foreground\">\n                    {contributor.hasVerified && (\n                      <div className=\"flex items-center text-emerald-600\">\n                        <Check size={12} className=\"mr-1\" />\n                        <span>Verified</span>\n                      </div>\n                    )}\n                    {contributor.hasPaid && (\n                      <div className=\"flex items-center text-emerald-600 ml-2\">\n                        <Check size={12} className=\"mr-1\" />\n                        <span>Paid</span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n            \n            <div className=\"flex items-center gap-2\">\n              {isCollector && contributor.isEditing ? (\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  step=\"0.01\"\n                  className=\"input-field py-1 px-2 text-sm w-[100px]\"\n                  value={contributor.amount}\n                  onChange={(e) => onEdit?.(contributor.id, parseFloat(e.target.value) || 0)}\n                />\n              ) : (\n                <div className=\"flex items-center px-3 py-1.5 bg-primary/5 rounded-lg\">\n                  <span className=\"font-medium\">\n                    {contributor.amount.toFixed(2)}\n                  </span>\n                  <Euro size={14} className=\"ml-1 text-muted-foreground\" />\n                </div>\n              )}\n              \n              {isCollector && onRemove && (\n                <button\n                  onClick={() => onRemove(contributor.id)}\n                  className=\"w-8 h-8 flex items-center justify-center rounded-full text-destructive hover:bg-destructive/10 transition-colors\"\n                >\n                  <X size={16} />\n                </button>\n              )}\n            </div>\n          </div>\n          \n          {isCollector && (\n            <div className=\"mt-3\">\n              <div className=\"relative h-2 bg-secondary rounded-full overflow-hidden\">\n                <motion.div\n                  initial={{ width: 0 }}\n                  animate={{ width: `${percentage}%` }}\n                  transition={{ duration: 0.5, ease: \"easeOut\" }}\n                  className=\"absolute top-0 left-0 h-full bg-primary\"\n                />\n              </div>\n              <div className=\"flex justify-between mt-1 text-xs text-muted-foreground\">\n                <span>{percentage.toFixed(1)}%</span>\n                <span>of ${totalAmount.toFixed(2)}</span>\n              </div>\n            </div>\n          )}\n        </div>\n      </HoverScale>\n    </FadeIn>\n  );\n};\n","\nimport { initializeApp } from \"firebase/app\";\nimport { \n  getFirestore, \n  collection, \n  doc, \n  setDoc, \n  getDoc, \n  query, \n  where, \n  getDocs,\n  addDoc,\n  DocumentData,\n  serverTimestamp,\n  Timestamp\n} from \"firebase/firestore\";\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA4GUJv-M4W5ZaY-5-6yGY6um_X1EBWEQg\",\n  authDomain: \"onepool-800e2.firebaseapp.com\",\n  projectId: \"onepool-800e2\",\n  storageBucket: \"onepool-800e2.appspot.com\",\n  messagingSenderId: \"370160885219\",\n  appId: \"1:370160885219:web:7a5c223281ab96c047d4d6\",\n  measurementId: \"G-QSTDV4QVZM\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nexport const db = getFirestore(app);\n\n// Pool interfaces\nexport interface Contributor {\n  id: string;\n  name: string;\n  amount: number;\n  hasVerified?: boolean;\n  hasPaid?: boolean;\n  isEditing?: boolean;\n}\n\nexport interface Pool {\n  id: string;\n  createdAt: Timestamp | null;\n  totalAmount: number;\n  subscriptionName: string;\n  contributors: Contributor[];\n}\n\n// Pool services\nexport const createPool = async (\n  totalAmount: number, \n  subscriptionName: string = \"Payment\",\n  contributors: Contributor[] = []\n): Promise<string> => {\n  try {\n    // Generate a custom ID or get one from Firestore\n    const poolsCollectionRef = collection(db, \"pools\");\n    \n    const poolData: Pool = {\n      id: \"\", // Will be updated after document creation\n      createdAt: Timestamp.now(),\n      totalAmount,\n      subscriptionName,\n      contributors\n    };\n    \n    // Add the document to get an ID\n    const docRef = await addDoc(poolsCollectionRef, poolData);\n    const poolId = docRef.id;\n    \n    // Update the pool with its ID\n    await setDoc(docRef, { ...poolData, id: poolId }, { merge: true });\n    \n    return poolId;\n  } catch (error) {\n    console.error(\"Error creating pool:\", error);\n    throw error;\n  }\n};\n\nexport const getPool = async (poolId: string): Promise<Pool | null> => {\n  try {\n    const poolRef = doc(db, \"pools\", poolId);\n    const poolSnap = await getDoc(poolRef);\n    \n    if (poolSnap.exists()) {\n      return poolSnap.data() as Pool;\n    } else {\n      console.log(\"No such pool exists!\");\n      return null;\n    }\n  } catch (error) {\n    console.error(\"Error getting pool:\", error);\n    throw error;\n  }\n};\n\nexport const updatePoolContributors = async (\n  poolId: string, \n  contributors: Contributor[]\n): Promise<void> => {\n  try {\n    const poolRef = doc(db, \"pools\", poolId);\n    await setDoc(poolRef, { contributors }, { merge: true });\n  } catch (error) {\n    console.error(\"Error updating pool contributors:\", error);\n    throw error;\n  }\n};\n\nexport const updateContributorStatus = async (\n  poolId: string,\n  contributorId: string,\n  status: { hasVerified?: boolean; hasPaid?: boolean; name?: string }\n): Promise<void> => {\n  try {\n    // Get the current pool\n    const pool = await getPool(poolId);\n    if (!pool) throw new Error(\"Pool not found\");\n    \n    // Find and update the contributor\n    const updatedContributors = pool.contributors.map(contributor => \n      contributor.id === contributorId \n        ? { ...contributor, ...status } \n        : contributor\n    );\n    \n    // Update the pool\n    await updatePoolContributors(poolId, updatedContributors);\n  } catch (error) {\n    console.error(\"Error updating contributor status:\", error);\n    throw error;\n  }\n};\n\n// Get all subscription templates\nexport const getSubscriptionTemplates = async (): Promise<Record<string, {name: string, amount: number}>> => {\n  try {\n    const templatesRef = collection(db, \"subscriptionTemplates\");\n    const templatesSnap = await getDocs(templatesRef);\n    \n    const templates: Record<string, {name: string, amount: number}> = {};\n    \n    templatesSnap.forEach((doc) => {\n      templates[doc.id] = doc.data() as {name: string, amount: number};\n    });\n    \n    return templates;\n  } catch (error) {\n    console.error(\"Error getting subscription templates:\", error);\n    return {\n      netflix: {name: \"Netflix\", amount: 19.99},\n      spotify: {name: \"Spotify\", amount: 9.99},\n      amazon: {name: \"Amazon Prime\", amount: 14.99},\n      disney: {name: \"Disney+\", amount: 8.99}\n    };\n  }\n};\n","\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useSearchParams, useNavigate } from \"react-router-dom\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Euro, Users, Plus, Copy, Link } from \"lucide-react\";\nimport { FadeIn } from \"@/components/ui/animations\";\nimport { SlideTransition } from \"@/components/ui/SlideTransition\";\nimport { ContributorCard } from \"@/components/ui/ContributorCard\";\nimport { \n  getPool, \n  updatePoolContributors, \n  Contributor,\n  createPool\n} from \"../lib/firebase\";\nimport { \n  generatePaymentLink, \n  generateUniqueId, \n  distributeAmountEvenly,\n  calculateRemainingAmount\n} from \"../utils/generateLinks\";\n\nconst Collector = () => {\n  const { poolId = \"demo\" } = useParams();\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  \n  const [totalAmount, setTotalAmount] = useState(0);\n  const [contributors, setContributors] = useState<Contributor[]>([]);\n  const [remainingAmount, setRemainingAmount] = useState(0);\n  const [editingContributorId, setEditingContributorId] = useState<string | null>(null);\n  const [subscriptionName, setSubscriptionName] = useState(\"Payment\");\n  const [isLoading, setIsLoading] = useState(true);\n  const [isNewPool, setIsNewPool] = useState(false);\n  \n  const { toast } = useToast();\n\n  // Fetch pool data on component mount\n  useEffect(() => {\n    const fetchPoolData = async () => {\n      try {\n        // Get amount from URL params\n        const amountParam = searchParams.get(\"amount\");\n        const amount = amountParam ? parseFloat(amountParam) : 0;\n        \n        if (!amountParam || isNaN(amount) || amount <= 0) {\n          toast({\n            title: \"Invalid amount\",\n            description: \"Please provide a valid amount in the URL\",\n            variant: \"destructive\"\n          });\n          navigate(\"/\");\n          return;\n        }\n        \n        if (poolId === \"demo\") {\n          // For demo or new pools, create a temporary pool with the amount\n          setTotalAmount(amount);\n          setRemainingAmount(amount);\n          setContributors([]);\n          setIsNewPool(true);\n        } else {\n          // Try to fetch existing pool\n          const existingPool = await getPool(poolId);\n          \n          if (!existingPool) {\n            // If pool doesn't exist, create a new one with the amount from URL\n            setTotalAmount(amount);\n            setRemainingAmount(amount);\n            setContributors([]);\n            setIsNewPool(true);\n          } else {\n            // Use existing pool data\n            setTotalAmount(existingPool.totalAmount);\n            setContributors(existingPool.contributors || []);\n            setSubscriptionName(existingPool.subscriptionName || \"Payment\");\n            \n            // Calculate remaining amount\n            const allocatedAmount = existingPool.contributors.reduce(\n              (sum, contributor) => sum + contributor.amount, \n              0\n            );\n            setRemainingAmount(parseFloat((existingPool.totalAmount - allocatedAmount).toFixed(2)));\n            setIsNewPool(false);\n          }\n        }\n      } catch (error) {\n        console.error(\"Error fetching pool:\", error);\n        toast({\n          title: \"Error\",\n          description: \"Failed to load payment pool data\",\n          variant: \"destructive\"\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    \n    fetchPoolData();\n  }, [poolId, searchParams, navigate, toast]);\n\n  // Update remaining amount when contributors change\n  useEffect(() => {\n    setRemainingAmount(calculateRemainingAmount(contributors, totalAmount));\n  }, [contributors, totalAmount]);\n\n  const addContributor = () => {\n    const newContributor: Contributor = {\n      id: generateUniqueId(),\n      name: `Person ${contributors.length + 1}`,\n      amount: 0,\n      isEditing: true\n    };\n    \n    setContributors([...contributors, newContributor]);\n    setEditingContributorId(newContributor.id);\n    \n    setTimeout(() => {\n      const element = document.getElementById(`contributor-${newContributor.id}`);\n      element?.scrollIntoView({ behavior: \"smooth\", block: \"end\" });\n    }, 100);\n  };\n\n  const removeContributor = (id: string) => {\n    setContributors(contributors.filter(c => c.id !== id));\n  };\n\n  const updateContributorAmount = (id: string, amount: number) => {\n    setContributors(\n      contributors.map(c => \n        c.id === id ? { ...c, amount } : c\n      )\n    );\n  };\n\n  const updateContributorName = (id: string, name: string) => {\n    setContributors(\n      contributors.map(c => \n        c.id === id ? { ...c, name } : c\n      )\n    );\n  };\n\n  const distributeEvenly = () => {\n    if (contributors.length === 0) {\n      toast({\n        title: \"No contributors\",\n        description: \"Add contributors first to distribute the amount\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    \n    setContributors(distributeAmountEvenly(contributors, totalAmount));\n  };\n\n  const toggleEditing = (id: string) => {\n    setContributors(\n      contributors.map(c => \n        c.id === id ? { ...c, isEditing: !c.isEditing } : c\n      )\n    );\n    \n    setEditingContributorId(\n      editingContributorId === id ? null : id\n    );\n  };\n\n  const saveContributors = async () => {\n    if (contributors.length === 0) {\n      toast({\n        title: \"No contributors\",\n        description: \"Add contributors first to save\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    \n    if (contributors.some(c => !c.name || c.name.trim() === \"\")) {\n      toast({\n        title: \"Missing names\",\n        description: \"Please provide names for all contributors\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    \n    try {\n      let finalPoolId = poolId;\n      \n      // If this is a new pool, create it in Firebase\n      if (isNewPool) {\n        finalPoolId = await createPool(totalAmount, subscriptionName, contributors);\n        // Navigate to the new pool URL\n        navigate(`/collect/${finalPoolId}?amount=${totalAmount}`, { replace: true });\n        setIsNewPool(false);\n      } else {\n        // Update existing pool\n        await updatePoolContributors(poolId, contributors);\n      }\n      \n      toast({\n        title: \"Contributors saved\",\n        description: `Saved ${contributors.length} contributors to the pool`\n      });\n    } catch (error) {\n      console.error(\"Error saving contributors:\", error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to save contributors\",\n        variant: \"destructive\"\n      });\n    }\n  };\n\n  const getContributorLink = (contributor: Contributor) => {\n    return generatePaymentLink(poolId, contributor.name);\n  };\n\n  const copyContributorLink = (contributor: Contributor) => {\n    navigator.clipboard.writeText(getContributorLink(contributor));\n    toast({\n      title: \"Link copied\",\n      description: `Payment link for ${contributor.name} copied to clipboard`\n    });\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"h-screen flex items-center justify-center\">\n        <div className=\"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  if (totalAmount <= 0) return null;\n\n  return (\n    <SlideTransition>\n      <div className=\"max-w-2xl mx-auto px-4 py-8\">\n        <FadeIn>\n          <div className=\"mb-8\">\n            <div className=\"chip mb-2 bg-primary/10 text-primary\">PAYMENT COLLECTION</div>\n            <h1 className=\"text-3xl font-semibold mb-2\">Collect {subscriptionName}</h1>\n            <p className=\"text-muted-foreground\">\n              Add contributors and distribute the payment amount\n            </p>\n          </div>\n\n          <div className=\"glass-card p-5 mb-6\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <div className=\"flex items-center\">\n                <div className=\"p-2.5 rounded-full bg-primary/10 text-primary mr-3\">\n                  <Euro size={18} />\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Total Amount</p>\n                  <div className=\"flex items-center\">\n                    <span className=\"text-2xl font-semibold\">{totalAmount.toFixed(2)}</span>\n                    <Euro size={16} className=\"ml-1 text-muted-foreground\" />\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between pt-3 border-t border-border\">\n              <div className=\"flex items-start\">\n                <div className=\"p-2.5 rounded-full bg-primary/10 text-primary mr-3 mt-1\">\n                  <Users size={18} />\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Contributors</p>\n                  <p className=\"text-xl font-medium\">{contributors.length}</p>\n                </div>\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-sm text-muted-foreground\">Remaining</p>\n                <div\n                  className={`text-xl font-medium ${\n                    remainingAmount !== 0 ? \"text-amber-500\" : \"text-emerald-500\"\n                  }`}\n                >\n                  {remainingAmount.toFixed(2)} €\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex justify-between items-center mb-4\">\n            <h2 className=\"text-xl font-medium\">Contributors</h2>\n          </div>\n\n          <div className=\"flex gap-2 mb-6\">\n            <button\n              onClick={distributeEvenly}\n              className=\"px-4 py-2 border border-input rounded-lg text-sm font-medium hover:bg-secondary transition-colors flex items-center\"\n              disabled={contributors.length === 0}\n            >\n              <Users size={16} className=\"mr-2\" />\n              Split Evenly\n            </button>\n            <button onClick={addContributor} className=\"btn-primary flex items-center\">\n              <Plus size={16} className=\"mr-2\" />\n              Add Person\n            </button>\n          </div>\n\n          {contributors.length === 0 ? (\n            <FadeIn>\n              <div className=\"glass-card p-6 text-center mb-6\">\n                <div className=\"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mx-auto mb-3\">\n                  <Users size={24} />\n                </div>\n                <h3 className=\"text-lg font-medium mb-2\">No Contributors Yet</h3>\n                <p className=\"text-muted-foreground mb-4\">\n                  Add people to split the payment amount\n                </p>\n                <button\n                  onClick={addContributor}\n                  className=\"btn-primary inline-flex items-center\"\n                >\n                  <Plus size={16} className=\"mr-2\" />\n                  Add Person\n                </button>\n              </div>\n            </FadeIn>\n          ) : (\n            <>\n              <FadeIn delay={0.1} className=\"mb-6\">\n                {contributors.map((contributor, index) => (\n                  <div\n                    id={`contributor-${contributor.id}`}\n                    key={contributor.id}\n                    className=\"relative mb-4 group\"\n                    onClick={() => toggleEditing(contributor.id)}\n                  >\n                    <ContributorCard\n                      contributor={contributor}\n                      totalAmount={totalAmount}\n                      onRemove={removeContributor}\n                      onEdit={updateContributorAmount}\n                      onNameChange={updateContributorName}\n                      index={index}\n                    />\n                    {!contributor.isEditing && (\n                      <div className=\"absolute right-3 top-4 opacity-0 group-hover:opacity-100 transition-opacity\">\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            copyContributorLink(contributor);\n                          }}\n                          className=\"p-2 rounded-full bg-primary/5 text-primary hover:bg-primary/10 transition-colors\"\n                          title={`Copy payment link for ${contributor.name}`}\n                        >\n                          <Copy size={14} />\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </FadeIn>\n\n              {contributors.length > 0 && remainingAmount === 0 && (\n                <div className=\"flex justify-end mb-6\">\n                  <button onClick={saveContributors} className=\"btn-primary\">\n                    {isNewPool ? \"Create Pool & Save\" : \"Save Contributors\"}\n                  </button>\n                </div>\n              )}\n\n              {contributors.some(c => c.name && c.amount > 0) && (\n                <FadeIn>\n                  <div className=\"glass-card p-5 mb-6\">\n                    <h3 className=\"font-medium mb-3\">Contributor Links</h3>\n                    <p className=\"text-sm text-muted-foreground mb-4\">\n                      Share these links with individual contributors to collect their payments\n                    </p>\n                    <div className=\"space-y-3\">\n                      {contributors.filter(c => c.name && c.amount > 0).map((contributor) => (\n                        <div key={`link-${contributor.id}`} className=\"flex items-center justify-between p-3 bg-secondary/30 rounded-lg\">\n                          <div className=\"font-medium truncate mr-2\">{contributor.name}</div>\n                          <div className=\"flex items-center gap-2\">\n                            <div className=\"text-xs text-muted-foreground\">\n                              {contributor.amount.toFixed(2)} €\n                            </div>\n                            <button\n                              onClick={() => copyContributorLink(contributor)}\n                              className=\"p-1.5 rounded-full bg-primary/10 text-primary hover:bg-primary/20 transition-colors\"\n                              title={`Copy payment link for ${contributor.name}`}\n                            >\n                              <Copy size={14} />\n                            </button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </FadeIn>\n              )}\n            </>\n          )}\n        </FadeIn>\n      </div>\n    </SlideTransition>\n  );\n};\n\nexport default Collector;\n","\nimport { useState } from \"react\";\nimport { Check, CreditCard, Euro } from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { SlideTransition, StaggerChildren } from \"./SlideTransition\";\nimport { FadeIn, SuccessCheckmark } from \"./animations\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface VerificationPaymentProps {\n  onSuccess: () => void;\n  onCancel: () => void;\n}\n\nexport const VerificationPayment = ({ onSuccess, onCancel }: VerificationPaymentProps) => {\n  const [step, setStep] = useState<\"initial\" | \"processing\" | \"success\">(\"initial\");\n  const { toast } = useToast();\n\n  const handleVerify = () => {\n    setStep(\"processing\");\n    \n    // Simulate verification process\n    setTimeout(() => {\n      setStep(\"success\");\n      toast({\n        title: \"Verification successful\",\n        description: \"Your payment method has been verified\",\n      });\n      \n      // Trigger success callback after showing success state\n      setTimeout(() => {\n        onSuccess();\n      }, 1500);\n    }, 2000);\n  };\n\n  return (\n    <div className=\"w-full max-w-md mx-auto\">\n      {step === \"initial\" && (\n        <SlideTransition>\n          <div className=\"glass-card p-6\">\n            <div className=\"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mx-auto mb-4\">\n              <CreditCard size={24} />\n            </div>\n            \n            <h3 className=\"text-xl font-medium text-center mb-2\">\n              Verification Payment\n            </h3>\n            \n            <p className=\"text-muted-foreground text-center mb-6\">\n              We'll make a temporary 0€ verification charge to confirm your payment method\n            </p>\n            \n            <div className=\"flex items-center justify-center mb-6\">\n              <div className=\"px-5 py-3 bg-primary/5 rounded-lg flex items-center justify-center\">\n                <span className=\"font-medium text-2xl\">0.00</span>\n                <Euro size={20} className=\"ml-1 text-muted-foreground\" />\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-2 gap-3\">\n              <button\n                onClick={onCancel}\n                className=\"px-4 py-2.5 border border-input rounded-lg text-sm font-medium hover:bg-secondary transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleVerify}\n                className=\"btn-primary\"\n              >\n                Verify\n              </button>\n            </div>\n          </div>\n        </SlideTransition>\n      )}\n      \n      {step === \"processing\" && (\n        <SlideTransition>\n          <div className=\"glass-card p-6 flex flex-col items-center\">\n            <div className=\"w-16 h-16 rounded-full border-4 border-t-primary border-r-primary/30 border-b-primary/10 border-l-primary/30 animate-spin mb-6\" />\n            <h3 className=\"text-xl font-medium mb-2\">Processing</h3>\n            <p className=\"text-muted-foreground text-center\">\n              Verifying your payment method...\n            </p>\n          </div>\n        </SlideTransition>\n      )}\n      \n      {step === \"success\" && (\n        <SlideTransition>\n          <div className=\"glass-card p-6 flex flex-col items-center\">\n            <div className=\"text-emerald-500 mb-4\">\n              <SuccessCheckmark size={64} />\n            </div>\n            <h3 className=\"text-xl font-medium mb-2\">Verification Complete!</h3>\n            <p className=\"text-muted-foreground text-center\">\n              Your payment method has been successfully verified\n            </p>\n          </div>\n        </SlideTransition>\n      )}\n    </div>\n  );\n};\n","\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useSearchParams, useNavigate } from \"react-router-dom\";\nimport { useToast } from \"../hooks/use-toast\";\nimport { Euro, UserCircle, Check, ArrowRight } from \"lucide-react\";\nimport { FadeIn } from \"../components/ui/animations\";\nimport { SlideTransition } from \"@/components/ui/SlideTransition\";\nimport { ContributorCard } from \"../components/ui/ContributorCard\";\nimport { VerificationPayment } from \"../components/ui/VerificationPayment\";\nimport { \n  getPool, \n  Contributor as ContributorType,\n  updateContributorStatus\n} from \"../lib/firebase\";\n\nconst Contributor = () => {\n  const { poolId = \"demo\" } = useParams();\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  \n  const [step, setStep] = useState<\"details\" | \"verification\" | \"success\">(\"details\");\n  const [contributorName, setContributorName] = useState(\"\");\n  const [amount, setAmount] = useState(0);\n  const [pool, setPool] = useState<any>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [contributorId, setContributorId] = useState(\"\");\n  \n  const { toast } = useToast();\n\n  useEffect(() => {\n    const fetchPoolData = async () => {\n      try {\n        if (!poolId) {\n          navigate(\"/\");\n          return;\n        }\n        \n        // Get contributor name from URL\n        const nameParam = searchParams.get(\"name\");\n        if (nameParam) {\n          setContributorName(decodeURIComponent(nameParam));\n        }\n        \n        // Fetch pool data\n        const poolData = await getPool(poolId);\n        \n        if (!poolData) {\n          toast({\n            title: \"Pool not found\",\n            description: \"The requested payment pool doesn't exist\",\n            variant: \"destructive\"\n          });\n          navigate(\"/\");\n          return;\n        }\n        \n        setPool(poolData);\n        \n        // If name is provided in URL, find matching contributor\n        if (nameParam) {\n          const contributor = poolData.contributors.find(\n            (c: ContributorType) => c.name === decodeURIComponent(nameParam)\n          );\n          \n          if (contributor) {\n            setAmount(contributor.amount);\n            setContributorId(contributor.id);\n          } else {\n            // If contributor not found, show error and redirect\n            toast({\n              title: \"Contributor not found\",\n              description: \"Your name was not found in this payment pool\",\n              variant: \"destructive\"\n            });\n          }\n        }\n        \n      } catch (error) {\n        console.error(\"Error fetching pool data:\", error);\n        toast({\n          title: \"Error\",\n          description: \"Failed to load payment details\",\n          variant: \"destructive\"\n        });\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    \n    fetchPoolData();\n  }, [poolId, searchParams, navigate, toast]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!contributorName) {\n      toast({\n        title: \"Name required\",\n        description: \"Please enter your name to continue\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n    \n    // Find contributor by name if not already set\n    if (!contributorId && pool) {\n      const contributor = pool.contributors.find(\n        (c: ContributorType) => c.name === contributorName\n      );\n      \n      if (contributor) {\n        setAmount(contributor.amount);\n        setContributorId(contributor.id);\n      } else {\n        toast({\n          title: \"Contributor not found\",\n          description: \"Your name was not found in this payment pool\",\n          variant: \"destructive\"\n        });\n        return;\n      }\n    }\n    \n    setStep(\"verification\");\n  };\n\n  const handleVerificationSuccess = async () => {\n    try {\n      // Update contributor status in Firebase if it's a real pool\n      if (poolId !== \"demo\" && contributorId) {\n        await updateContributorStatus(poolId, contributorId, {\n          hasVerified: true,\n          hasPaid: true\n        });\n      }\n      \n      setStep(\"success\");\n      \n      toast({\n        title: \"Verification successful\",\n        description: \"Your payment method has been verified\"\n      });\n    } catch (error) {\n      console.error(\"Error updating contributor status:\", error);\n      setStep(\"success\"); // Still show success to user even if update fails\n    }\n  };\n\n  const handleCancel = () => {\n    setStep(\"details\");\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"h-screen flex items-center justify-center\">\n        <div className=\"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  // If pool not found\n  if (!pool) return null;\n\n  const contributorData: ContributorType = {\n    id: contributorId || \"temp-id\",\n    name: contributorName || \"You\",\n    amount: amount,\n    hasVerified: step === \"success\",\n    hasPaid: step === \"success\"\n  };\n\n  return (\n    <div className=\"max-w-md mx-auto px-4 py-8\">\n      {step === \"details\" && (\n        <FadeIn>\n          <div className=\"mb-8\">\n            <div className=\"chip mb-2 bg-primary/10 text-primary\">PAYMENT REQUEST</div>\n            <h1 className=\"text-3xl font-semibold mb-2\">Your Payment</h1>\n            <p className=\"text-muted-foreground\">\n              Complete the form below to make your payment\n            </p>\n          </div>\n\n          <FadeIn>\n            <form onSubmit={handleSubmit} className=\"mb-6\">\n              <div className=\"glass-card p-5\">\n                <h2 className=\"text-lg font-medium mb-4\">Who Are You?</h2>\n                <div className=\"mb-4\">\n                  <label htmlFor=\"name\" className=\"block text-sm font-medium mb-1\">\n                    Your Name\n                  </label>\n                  <div className=\"relative\">\n                    <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground\">\n                      <UserCircle size={18} />\n                    </div>\n                    <input\n                      id=\"name\"\n                      type=\"text\"\n                      value={contributorName}\n                      onChange={(e) => setContributorName(e.target.value)}\n                      className=\"input-field pl-10 w-full\"\n                      placeholder=\"Enter your name\"\n                      required\n                      disabled={!!searchParams.get(\"name\")}\n                    />\n                  </div>\n                  {searchParams.get(\"name\") && (\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Your name is provided in the payment link\n                    </p>\n                  )}\n                </div>\n                <button\n                  type=\"submit\"\n                  className=\"btn-primary w-full flex items-center justify-center\"\n                >\n                  Continue to Payment\n                  <ArrowRight size={16} className=\"ml-2\" />\n                </button>\n              </div>\n            </form>\n          </FadeIn>\n\n          {contributorId && (\n            <FadeIn delay={0.2}>\n              <ContributorCard\n                contributor={contributorData}\n                totalAmount={pool.totalAmount}\n                isCollector={false}\n              />\n            </FadeIn>\n          )}\n        </FadeIn>\n      )}\n\n      {step === \"verification\" && (\n        <FadeIn>\n          <div className=\"mb-8\">\n            <div className=\"chip mb-2 bg-primary/10 text-primary\">PAYMENT VERIFICATION</div>\n            <h1 className=\"text-3xl font-semibold mb-2\">Verify Payment</h1>\n            <p className=\"text-muted-foreground\">\n              Complete a 0€ verification to confirm your payment method\n            </p>\n          </div>\n          <VerificationPayment\n            onSuccess={handleVerificationSuccess}\n            onCancel={handleCancel}\n          />\n        </FadeIn>\n      )}\n\n      {step === \"success\" && (\n        <FadeIn>\n          <div className=\"text-center mb-8\">\n            <div className=\"text-emerald-500 mb-4 inline-block\">\n              <Check className=\"w-20 h-20 p-4 rounded-full bg-emerald-100\" />\n            </div>\n            <h1 className=\"text-3xl font-semibold mb-2\">Payment Complete!</h1>\n            <p className=\"text-muted-foreground\">\n              Thank you, {contributorName}. Your payment has been successfully processed.\n            </p>\n          </div>\n\n          <FadeIn>\n            <div className=\"glass-card p-5 mb-6\">\n              <div className=\"flex justify-between items-center\">\n                <div className=\"flex items-center\">\n                  <div className=\"p-2.5 rounded-full bg-emerald-100 text-emerald-600 mr-3\">\n                    <Check size={18} />\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-muted-foreground\">Paid Amount</p>\n                    <div className=\"flex items-center\">\n                      <span className=\"text-2xl font-semibold\">{amount.toFixed(2)}</span>\n                      <Euro size={18} className=\"ml-1 text-muted-foreground\" />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"chip bg-emerald-100 text-emerald-700\">Complete</div>\n              </div>\n            </div>\n          </FadeIn>\n\n          <FadeIn delay={0.2}>\n            <ContributorCard\n              contributor={contributorData}\n              totalAmount={pool.totalAmount}\n              isCollector={false}\n            />\n          </FadeIn>\n        </FadeIn>\n      )}\n    </div>\n  );\n};\n\nexport default Contributor;\n","\nimport { useLocation } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Home } from \"lucide-react\";\nimport { FadeIn } from \"@/components/ui/animations\";\n\nconst NotFound = () => {\n  const location = useLocation();\n\n  useEffect(() => {\n    console.error(\n      \"404 Error: User attempted to access non-existent route:\",\n      location.pathname\n    );\n  }, [location.pathname]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center p-4 bg-background\">\n      <FadeIn className=\"text-center\">\n        <h1 className=\"text-9xl font-bold text-primary/20\">404</h1>\n        <h2 className=\"text-2xl font-bold mt-6 mb-3\">Page Not Found</h2>\n        <p className=\"text-muted-foreground mb-8 max-w-md mx-auto\">\n          The page you're looking for doesn't exist or has been removed.\n        </p>\n        <Link \n          to=\"/\" \n          className=\"btn-primary inline-flex items-center px-4 py-2 rounded bg-primary text-primary-foreground hover:bg-primary/90\"\n        >\n          <Home size={18} className=\"mr-2\" />\n          Return Home\n        </Link>\n      </FadeIn>\n    </div>\n  );\n};\n\nexport default NotFound;\n","\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { Toaster as Sonner } from \"@/components/ui/sonner\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport Index from \"./pages/Index\";\nimport Collector from \"./pages/Collector\";\nimport Contributor from \"./pages/Contributor\";\nimport NotFound from \"./pages/NotFound\";\n\nconst queryClient = new QueryClient();\n\nconst App = () => (\n  <QueryClientProvider client={queryClient}>\n    <TooltipProvider>\n      <Toaster />\n      <Sonner />\n      <BrowserRouter basename=\"/app\">\n        <Routes>\n          <Route path=\"/\" element={<Index />} />\n          <Route path=\"/collect/:poolId\" element={<Collector />} />\n          <Route path=\"/pay/:poolId\" element={<Contributor />} />\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </BrowserRouter>\n    </TooltipProvider>\n  </QueryClientProvider>\n);\n\nexport default App;\n","\nimport { createRoot } from 'react-dom/client'\nimport App from './App.tsx'\nimport './index.css'\n\n// Make sure the root element exists\nconst rootElement = document.getElementById(\"root\");\nif (!rootElement) {\n  console.error(\"Failed to find the root element\");\n  // Create a fallback root element\n  const fallbackRoot = document.createElement('div');\n  fallbackRoot.id = 'root';\n  document.body.appendChild(fallbackRoot);\n  \n  const root = createRoot(fallbackRoot);\n  try {\n    root.render(<App />);\n  } catch (error) {\n    console.error(\"Error rendering the app:\", error);\n    fallbackRoot.innerHTML = '<div style=\"color: red; padding: 20px;\">An error occurred while loading the application. Please refresh the page or check the console for more details.</div>';\n  }\n} else {\n  const root = createRoot(rootElement);\n  \n  // Render with error boundary\n  try {\n    root.render(<App />);\n  } catch (error) {\n    console.error(\"Error rendering the app:\", error);\n    rootElement.innerHTML = '<div style=\"color: red; padding: 20px;\">An error occurred while loading the application. Please refresh the page or check the console for more details.</div>';\n  }\n}\n"],"names":["TOAST_LIMIT","TOAST_REMOVE_DELAY","count","genId","toastTimeouts","addToRemoveQueue","toastId","timeout","dispatch","reducer","state","action","t","toast","listeners","memoryState","listener","props","id","update","dismiss","open","useToast","setState","React.useState","React.useEffect","index","cn","inputs","twMerge","clsx","ToastProvider","ToastPrimitives.Provider","ToastViewport","React.forwardRef","className","ref","jsx","ToastPrimitives.Viewport","toastVariants","cva","Toast","variant","ToastPrimitives.Root","ToastAction","ToastPrimitives.Action","ToastClose","ToastPrimitives.Close","X","ToastTitle","ToastPrimitives.Title","ToastDescription","ToastPrimitives.Description","Toaster","toasts","title","description","jsxs","theme","useTheme","Sonner","TooltipProvider","TooltipPrimitive.Provider","TooltipContent","sideOffset","TooltipPrimitive.Content","FadeIn","children","duration","delay","motion","HoverScale","scale","SuccessCheckmark","size","generatePaymentLink","poolId","contributorName","baseUrl","url","generateUniqueId","calculateRemainingAmount","contributors","totalAmount","allocated","sum","contributor","distributeAmountEvenly","evenAmount","c","Index","amount","setAmount","useState","isCreating","setIsCreating","navigate","useNavigate","handleCreatePool","e","numAmount","tempPoolId","error","SlideTransition","isVisible","direction","AnimatePresence","getInitialState","getFinalState","ContributorCard","onRemove","onEdit","onNameChange","isCollector","percentage","User","Check","Euro","firebaseConfig","app","initializeApp","db","getFirestore","createPool","subscriptionName","poolsCollectionRef","collection","poolData","Timestamp","docRef","addDoc","setDoc","getPool","poolRef","doc","poolSnap","getDoc","updatePoolContributors","updateContributorStatus","contributorId","status","pool","updatedContributors","Collector","useParams","searchParams","useSearchParams","setTotalAmount","setContributors","remainingAmount","setRemainingAmount","editingContributorId","setEditingContributorId","setSubscriptionName","isLoading","setIsLoading","isNewPool","setIsNewPool","useEffect","amountParam","existingPool","allocatedAmount","addContributor","newContributor","element","removeContributor","updateContributorAmount","updateContributorName","name","distributeEvenly","toggleEditing","saveContributors","finalPoolId","getContributorLink","copyContributorLink","Users","Plus","Fragment","Copy","VerificationPayment","onSuccess","onCancel","step","setStep","handleVerify","CreditCard","Contributor","setContributorName","setPool","setContributorId","nameParam","handleSubmit","handleVerificationSuccess","handleCancel","contributorData","UserCircle","ArrowRight","NotFound","location","useLocation","Link","Home","queryClient","QueryClient","App","QueryClientProvider","BrowserRouter","Routes","Route","rootElement","root","createRoot","fallbackRoot"],"mappings":"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"}