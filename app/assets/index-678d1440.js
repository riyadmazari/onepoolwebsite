var e,t,n,r,i,s,o,a,l,u,c,d,h,f,p,m,g,y,v,b,w,x,E,S,k,C,T,N,_,P,A,I,D,j,R,M,L,O,F,V=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},U=(e,t,n)=>(V(e,t,"read from private field"),n?n.call(e):t.get(e)),B=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},z=(e,t,n,r)=>(V(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$=(e,t,n,r)=>({set _(r){z(e,t,r,n)},get _(){return U(e,t,r)}}),q=(e,t,n)=>(V(e,t,"access private method"),n);function W(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function H(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var K={exports:{}},Q={},G={exports:{}},Y={},X=Symbol.for("react.element"),J=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),re=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),oe=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),le=Symbol.iterator;var ue={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ce=Object.assign,de={};function he(e,t,n){this.props=e,this.context=t,this.refs=de,this.updater=n||ue}function fe(){}function pe(e,t,n){this.props=e,this.context=t,this.refs=de,this.updater=n||ue}he.prototype.isReactComponent={},he.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},he.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},fe.prototype=he.prototype;var me=pe.prototype=new fe;me.constructor=pe,ce(me,he.prototype),me.isPureReactComponent=!0;var ge=Array.isArray,ye=Object.prototype.hasOwnProperty,ve={current:null},be={key:!0,ref:!0,__self:!0,__source:!0};function we(e,t,n){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)ye.call(t,r)&&!be.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:X,type:e,key:s,ref:o,props:i,_owner:ve.current}}function xe(e){return"object"==typeof e&&null!==e&&e.$$typeof===X}var Ee=/\/+/g;function Se(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function ke(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var o=!1;if(null===e)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case X:case J:o=!0}}if(o)return i=i(o=e),e=""===r?"."+Se(o,0):r,ge(i)?(n="",null!=e&&(n=e.replace(Ee,"$&/")+"/"),ke(i,t,n,"",(function(e){return e}))):null!=i&&(xe(i)&&(i=function(e,t){return{$$typeof:X,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ee,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=""===r?".":r+":",ge(e))for(var a=0;a<e.length;a++){var l=r+Se(s=e[a],a);o+=ke(s,t,n,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=le&&e[le]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),a=0;!(s=e.next()).done;)o+=ke(s=s.value,t,n,l=r+Se(s,a++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ce(e,t,n){if(null==e)return e;var r=[],i=0;return ke(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function Te(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var Ne={current:null},_e={transition:null},Pe={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:_e,ReactCurrentOwner:ve};function Ae(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:Ce,forEach:function(e,t,n){Ce(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return Ce(e,(function(){t++})),t},toArray:function(e){return Ce(e,(function(e){return e}))||[]},only:function(e){if(!xe(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},Y.Component=he,Y.Fragment=Z,Y.Profiler=te,Y.PureComponent=pe,Y.StrictMode=ee,Y.Suspense=se,Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pe,Y.act=Ae,Y.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ce({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=ve.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)ye.call(t,l)&&!be.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:X,type:e.type,key:i,ref:s,props:r,_owner:o}},Y.createContext=function(e){return(e={$$typeof:re,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:ne,_context:e},e.Consumer=e},Y.createElement=we,Y.createFactory=function(e){var t=we.bind(null,e);return t.type=e,t},Y.createRef=function(){return{current:null}},Y.forwardRef=function(e){return{$$typeof:ie,render:e}},Y.isValidElement=xe,Y.lazy=function(e){return{$$typeof:ae,_payload:{_status:-1,_result:e},_init:Te}},Y.memo=function(e,t){return{$$typeof:oe,type:e,compare:void 0===t?null:t}},Y.startTransition=function(e){var t=_e.transition;_e.transition={};try{e()}finally{_e.transition=t}},Y.unstable_act=Ae,Y.useCallback=function(e,t){return Ne.current.useCallback(e,t)},Y.useContext=function(e){return Ne.current.useContext(e)},Y.useDebugValue=function(){},Y.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)},Y.useEffect=function(e,t){return Ne.current.useEffect(e,t)},Y.useId=function(){return Ne.current.useId()},Y.useImperativeHandle=function(e,t,n){return Ne.current.useImperativeHandle(e,t,n)},Y.useInsertionEffect=function(e,t){return Ne.current.useInsertionEffect(e,t)},Y.useLayoutEffect=function(e,t){return Ne.current.useLayoutEffect(e,t)},Y.useMemo=function(e,t){return Ne.current.useMemo(e,t)},Y.useReducer=function(e,t,n){return Ne.current.useReducer(e,t,n)},Y.useRef=function(e){return Ne.current.useRef(e)},Y.useState=function(e){return Ne.current.useState(e)},Y.useSyncExternalStore=function(e,t,n){return Ne.current.useSyncExternalStore(e,t,n)},Y.useTransition=function(){return Ne.current.useTransition()},Y.version="18.3.1",G.exports=Y;var Ie=G.exports;const De=H(Ie),je=W({__proto__:null,default:De},[Ie]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Re=Ie,Me=Symbol.for("react.element"),Le=Symbol.for("react.fragment"),Oe=Object.prototype.hasOwnProperty,Fe=Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ve={key:!0,ref:!0,__self:!0,__source:!0};function Ue(e,t,n){var r,i={},s=null,o=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(o=t.ref),t)Oe.call(t,r)&&!Ve.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:Me,type:e,key:s,ref:o,props:i,_owner:Fe.current}}Q.Fragment=Le,Q.jsx=Ue,Q.jsxs=Ue,K.exports=Q;var Be=K.exports,ze={exports:{}},$e={},qe={exports:{}},We={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>i(l,n))u<s&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<s&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,D(x);else{var t=n(u);null!==t&&j(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,y(C),C=-1),f=!0;var s=h;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!_());){var o=d.callback;if("function"==typeof o){d.callback=null,h=d.priorityLevel;var a=o(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?d.callback=a:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&j(w,g.startTime-i),c=!1}return c}finally{d=null,h=s,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,k=null,C=-1,T=5,N=-1;function _(){return!(e.unstable_now()-N<T)}function P(){if(null!==k){var t=e.unstable_now();N=t;var n=!0;try{n=k(!0,t)}finally{n?E():(S=!1,k=null)}}else S=!1}if("function"==typeof v)E=function(){v(P)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=P,E=function(){I.postMessage(null)}}else E=function(){g(P,0)};function D(e){k=e,S||(S=!0,E())}function j(t,n){C=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,D(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,s){var o=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?o+s:o:s=o,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(r.sortIndex=s,t(u,r),null===n(l)&&r===n(u)&&(m?(y(C),C=-1):m=!0,j(w,s-o))):(r.sortIndex=a,t(l,r),p||f||(p=!0,D(x))),r},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(We),qe.exports=We;var He=qe.exports,Ke=Ie,Qe=He;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ye=new Set,Xe={};function Je(e,t){Ze(e,t),Ze(e+"Capture",t)}function Ze(e,t){for(Xe[e]=t,e=0;e<t.length;e++)Ye.add(t[e])}var et=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),tt=Object.prototype.hasOwnProperty,nt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rt={},it={};function st(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ot[e]=new st(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ot[t]=new st(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ot[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ot[e]=new st(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ot[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ot[e]=new st(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ot[e]=new st(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ot[e]=new st(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ot[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)}));var at=/[\-:]([a-z])/g;function lt(e){return e[1].toUpperCase()}function ut(e,t,n,r){var i=ot.hasOwnProperty(t)?ot[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!tt.call(it,e)||!tt.call(rt,e)&&(nt.test(e)?it[e]=!0:(rt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(at,lt);ot[t]=new st(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(at,lt);ot[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(at,lt);ot[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ot[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)})),ot.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ot[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)}));var ct=Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dt=Symbol.for("react.element"),ht=Symbol.for("react.portal"),ft=Symbol.for("react.fragment"),pt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),gt=Symbol.for("react.provider"),yt=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),bt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),St=Symbol.for("react.offscreen"),kt=Symbol.iterator;function Ct(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=kt&&e[kt]||e["@@iterator"])?e:null}var Tt,Nt=Object.assign;function _t(e){if(void 0===Tt)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tt=t&&t[1]||""}return"\n"+Tt+e}var Pt=!1;function At(e,t){if(!e||Pt)return"";Pt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{Pt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_t(e):""}function It(e){switch(e.tag){case 5:return _t(e.type);case 16:return _t("Lazy");case 13:return _t("Suspense");case 19:return _t("SuspenseList");case 0:case 2:case 15:return e=At(e.type,!1);case 11:return e=At(e.type.render,!1);case 1:return e=At(e.type,!0);default:return""}}function Dt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ft:return"Fragment";case ht:return"Portal";case mt:return"Profiler";case pt:return"StrictMode";case bt:return"Suspense";case wt:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case yt:return(e.displayName||"Context")+".Consumer";case gt:return(e._context.displayName||"Context")+".Provider";case vt:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case xt:return null!==(t=e.displayName||null)?t:Dt(e.type)||"Memo";case Et:t=e._payload,e=e._init;try{return Dt(e(t))}catch(n){}}return null}function jt(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dt(t);case 8:return t===pt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Rt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Mt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Lt(e){e._valueTracker||(e._valueTracker=function(e){var t=Mt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ot(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ft(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Vt(e,t){var n=t.checked;return Nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ut(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Rt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Bt(e,t){null!=(t=t.checked)&&ut(e,"checked",t,!1)}function zt(e,t){Bt(e,t);var n=Rt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?qt(e,t.type,n):t.hasOwnProperty("defaultValue")&&qt(e,t.type,Rt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $t(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function qt(e,t,n){"number"===t&&Ft(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wt=Array.isArray;function Ht(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Kt(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(Ge(91));return Nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qt(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(Ge(92));if(Wt(n)){if(1<n.length)throw Error(Ge(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Rt(n)}}function Gt(e,t){var n=Rt(t.value),r=Rt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Yt(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Xt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jt(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Xt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Zt,en,tn=(en=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Zt=Zt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return en(e,t)}))}:en);function nn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sn=["Webkit","ms","Moz","O"];function on(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||rn.hasOwnProperty(e)&&rn[e]?(""+t).trim():t+"px"}function an(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=on(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(rn).forEach((function(e){sn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rn[t]=rn[e]}))}));var ln=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function un(e,t){if(t){if(ln[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(Ge(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(Ge(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ge(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(Ge(62))}}function cn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dn=null;function hn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var fn=null,pn=null,mn=null;function gn(e){if(e=uo(e)){if("function"!=typeof fn)throw Error(Ge(280));var t=e.stateNode;t&&(t=ho(t),fn(e.stateNode,e.type,t))}}function yn(e){pn?mn?mn.push(e):mn=[e]:pn=e}function vn(){if(pn){var e=pn,t=mn;if(mn=pn=null,gn(e),t)for(e=0;e<t.length;e++)gn(t[e])}}function bn(e,t){return e(t)}function wn(){}var xn=!1;function En(e,t,n){if(xn)return e(t,n);xn=!0;try{return bn(e,t,n)}finally{xn=!1,(null!==pn||null!==mn)&&(wn(),vn())}}function Sn(e,t){var n=e.stateNode;if(null===n)return null;var r=ho(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(Ge(231,t,typeof n));return n}var kn=!1;if(et)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch(en){kn=!1}function Tn(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Nn=!1,_n=null,Pn=!1,An=null,In={onError:function(e){Nn=!0,_n=e}};function Dn(e,t,n,r,i,s,o,a,l){Nn=!1,_n=null,Tn.apply(In,arguments)}function jn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Rn(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Mn(e){if(jn(e)!==e)throw Error(Ge(188))}function Ln(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=jn(e)))throw Error(Ge(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Mn(i),e;if(s===r)return Mn(i),t;s=s.sibling}throw Error(Ge(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ge(189))}}if(n.alternate!==r)throw Error(Ge(190))}if(3!==n.tag)throw Error(Ge(188));return n.stateNode.current===n?e:t}(e))?On(e):null}function On(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=On(e);if(null!==t)return t;e=e.sibling}return null}var Fn=Qe.unstable_scheduleCallback,Vn=Qe.unstable_cancelCallback,Un=Qe.unstable_shouldYield,Bn=Qe.unstable_requestPaint,zn=Qe.unstable_now,$n=Qe.unstable_getCurrentPriorityLevel,qn=Qe.unstable_ImmediatePriority,Wn=Qe.unstable_UserBlockingPriority,Hn=Qe.unstable_NormalPriority,Kn=Qe.unstable_LowPriority,Qn=Qe.unstable_IdlePriority,Gn=null,Yn=null;var Xn=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(Jn(e)/Zn|0)|0},Jn=Math.log,Zn=Math.LN2;var er=64,tr=4194304;function nr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rr(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=nr(a):0!==(s&=o)&&(r=nr(s))}else 0!==(o=n&~i)?r=nr(o):0!==s&&(r=nr(s));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&4194240&s))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Xn(t)),r|=e[n],t&=~i;return r}function ir(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function sr(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function or(){var e=er;return!(4194240&(er<<=1))&&(er=64),e}function ar(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lr(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Xn(t)]=n}function ur(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var cr=0;function dr(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var hr,fr,pr,mr,gr,yr=!1,vr=[],br=null,wr=null,xr=null,Er=new Map,Sr=new Map,kr=[],Cr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tr(e,t){switch(e){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":Er.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sr.delete(t.pointerId)}}function Nr(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=uo(t))&&fr(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function _r(e){var t=lo(e.target);if(null!==t){var n=jn(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Rn(n)))return e.blockedOn=t,void gr(e.priority,(function(){pr(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pr(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ur(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=uo(n))&&fr(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);dn=r,n.target.dispatchEvent(r),dn=null,t.shift()}return!0}function Ar(e,t,n){Pr(e)&&n.delete(t)}function Ir(){yr=!1,null!==br&&Pr(br)&&(br=null),null!==wr&&Pr(wr)&&(wr=null),null!==xr&&Pr(xr)&&(xr=null),Er.forEach(Ar),Sr.forEach(Ar)}function Dr(e,t){e.blockedOn===t&&(e.blockedOn=null,yr||(yr=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,Ir)))}function jr(e){function t(t){return Dr(t,e)}if(0<vr.length){Dr(vr[0],e);for(var n=1;n<vr.length;n++){var r=vr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==br&&Dr(br,e),null!==wr&&Dr(wr,e),null!==xr&&Dr(xr,e),Er.forEach(t),Sr.forEach(t),n=0;n<kr.length;n++)(r=kr[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kr.length&&null===(n=kr[0]).blockedOn;)_r(n),null===n.blockedOn&&kr.shift()}var Rr=ct.ReactCurrentBatchConfig,Mr=!0;function Lr(e,t,n,r){var i=cr,s=Rr.transition;Rr.transition=null;try{cr=1,Fr(e,t,n,r)}finally{cr=i,Rr.transition=s}}function Or(e,t,n,r){var i=cr,s=Rr.transition;Rr.transition=null;try{cr=4,Fr(e,t,n,r)}finally{cr=i,Rr.transition=s}}function Fr(e,t,n,r){if(Mr){var i=Ur(e,t,n,r);if(null===i)Rs(e,t,r,Vr,n),Tr(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return br=Nr(br,e,t,n,r,i),!0;case"dragenter":return wr=Nr(wr,e,t,n,r,i),!0;case"mouseover":return xr=Nr(xr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Er.set(s,Nr(Er.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sr.set(s,Nr(Sr.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Tr(e,r),4&t&&-1<Cr.indexOf(e)){for(;null!==i;){var s=uo(i);if(null!==s&&hr(s),null===(s=Ur(e,t,n,r))&&Rs(e,t,r,Vr,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Rs(e,t,r,null,n)}}var Vr=null;function Ur(e,t,n,r){if(Vr=null,null!==(e=lo(e=hn(r))))if(null===(t=jn(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Rn(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vr=e,null}function Br(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($n()){case qn:return 1;case Wn:return 4;case Hn:case Kn:return 16;case Qn:return 536870912;default:return 16}default:return 16}}var zr=null,$r=null,qr=null;function Wr(){if(qr)return qr;var e,t,n=$r,r=n.length,i="value"in zr?zr.value:zr.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return qr=i.slice(e,1<t?1-t:void 0)}function Hr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kr(){return!0}function Qr(){return!1}function Gr(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kr:Qr,this.isPropagationStopped=Qr,this}return Nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var Yr,Xr,Jr,Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=Gr(Zr),ti=Nt({},Zr,{view:0,detail:0}),ni=Gr(ti),ri=Nt({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&"mousemove"===e.type?(Yr=e.screenX-Jr.screenX,Xr=e.screenY-Jr.screenY):Xr=Yr=0,Jr=e),Yr)},movementY:function(e){return"movementY"in e?e.movementY:Xr}}),ii=Gr(ri),si=Gr(Nt({},ri,{dataTransfer:0})),oi=Gr(Nt({},ti,{relatedTarget:0})),ai=Gr(Nt({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0})),li=Nt({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ui=Gr(li),ci=Gr(Nt({},Zr,{data:0})),di={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fi[e])&&!!t[e]}function mi(){return pi}var gi=Nt({},ti,{key:function(e){if(e.key){var t=di[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Hr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(e){return"keypress"===e.type?Hr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Hr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),yi=Gr(gi),vi=Gr(Nt({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bi=Gr(Nt({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi})),wi=Gr(Nt({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0})),xi=Nt({},ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ei=Gr(xi),Si=[9,13,27,32],ki=et&&"CompositionEvent"in window,Ci=null;et&&"documentMode"in document&&(Ci=document.documentMode);var Ti=et&&"TextEvent"in window&&!Ci,Ni=et&&(!ki||Ci&&8<Ci&&11>=Ci),_i=String.fromCharCode(32),Pi=!1;function Ai(e,t){switch(e){case"keyup":return-1!==Si.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ii(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Di=!1;var ji={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ji[e.type]:"textarea"===t}function Mi(e,t,n,r){yn(r),0<(t=Ls(t,"onChange")).length&&(n=new ei("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Li=null,Oi=null;function Fi(e){_s(e,0)}function Vi(e){if(Ot(co(e)))return e}function Ui(e,t){if("change"===e)return t}var Bi=!1;if(et){var zi;if(et){var $i="oninput"in document;if(!$i){var qi=document.createElement("div");qi.setAttribute("oninput","return;"),$i="function"==typeof qi.oninput}zi=$i}else zi=!1;Bi=zi&&(!document.documentMode||9<document.documentMode)}function Wi(){Li&&(Li.detachEvent("onpropertychange",Hi),Oi=Li=null)}function Hi(e){if("value"===e.propertyName&&Vi(Oi)){var t=[];Mi(t,Oi,e,hn(e)),En(Fi,t)}}function Ki(e,t,n){"focusin"===e?(Wi(),Oi=n,(Li=t).attachEvent("onpropertychange",Hi)):"focusout"===e&&Wi()}function Qi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vi(Oi)}function Gi(e,t){if("click"===e)return Vi(t)}function Yi(e,t){if("input"===e||"change"===e)return Vi(t)}var Xi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Ji(e,t){if(Xi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tt.call(t,i)||!Xi(e[i],t[i]))return!1}return!0}function Zi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function es(e,t){var n,r=Zi(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zi(r)}}function ts(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ts(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ns(){for(var e=window,t=Ft();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Ft((e=t.contentWindow).document)}return t}function rs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function is(e){var t=ns(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ts(n.ownerDocument.documentElement,n)){if(null!==r&&rs(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=es(n,s);var o=es(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ss=et&&"documentMode"in document&&11>=document.documentMode,os=null,as=null,ls=null,us=!1;function cs(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;us||null==os||os!==Ft(r)||("selectionStart"in(r=os)&&rs(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ls&&Ji(ls,r)||(ls=r,0<(r=Ls(as,"onSelect")).length&&(t=new ei("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=os)))}function ds(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hs={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionend:ds("Transition","TransitionEnd")},fs={},ps={};function ms(e){if(fs[e])return fs[e];if(!hs[e])return e;var t,n=hs[e];for(t in n)if(n.hasOwnProperty(t)&&t in ps)return fs[e]=n[t];return e}et&&(ps=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);var gs=ms("animationend"),ys=ms("animationiteration"),vs=ms("animationstart"),bs=ms("transitionend"),ws=new Map,xs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(e,t){ws.set(e,t),Je(t,[e])}for(var Ss=0;Ss<xs.length;Ss++){var ks=xs[Ss];Es(ks.toLowerCase(),"on"+(ks[0].toUpperCase()+ks.slice(1)))}Es(gs,"onAnimationEnd"),Es(ys,"onAnimationIteration"),Es(vs,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(bs,"onTransitionEnd"),Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"]),Je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Je("onBeforeInput",["compositionend","keypress","textInput","paste"]),Je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ts=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cs));function Ns(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,a,l){if(Dn.apply(this,arguments),Nn){if(!Nn)throw Error(Ge(198));var u=_n;Nn=!1,_n=null,Pn||(Pn=!0,An=u)}}(r,t,void 0,e),e.currentTarget=null}function _s(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ns(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ns(i,a,u),s=l}}}if(Pn)throw e=An,Pn=!1,An=null,e}function Ps(e,t){var n=t[so];void 0===n&&(n=t[so]=new Set);var r=e+"__bubble";n.has(r)||(js(t,e,2,!1),n.add(r))}function As(e,t,n){var r=0;t&&(r|=4),js(n,e,r,t)}var Is="_reactListening"+Math.random().toString(36).slice(2);function Ds(e){if(!e[Is]){e[Is]=!0,Ye.forEach((function(t){"selectionchange"!==t&&(Ts.has(t)||As(t,!1,e),As(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Is]||(t[Is]=!0,As("selectionchange",!1,t))}}function js(e,t,n,r){switch(Br(t)){case 1:var i=Lr;break;case 4:i=Or;break;default:i=Fr}n=i.bind(null,t,n,e),i=void 0,!kn||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rs(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=lo(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}En((function(){var r=s,i=hn(n),o=[];e:{var a=ws.get(e);if(void 0!==a){var l=ei,u=e;switch(e){case"keypress":if(0===Hr(n))break e;case"keydown":case"keyup":l=yi;break;case"focusin":u="focus",l=oi;break;case"focusout":u="blur",l=oi;break;case"beforeblur":case"afterblur":l=oi;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ii;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=si;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=bi;break;case gs:case ys:case vs:l=ai;break;case bs:l=wi;break;case"scroll":l=ni;break;case"wheel":l=Ei;break;case"copy":case"cut":case"paste":l=ui;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=vi}var c=!!(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Sn(p,h))&&c.push(Ms(p,m,f)))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===dn||!(u=n.relatedTarget||n.fromElement)||!lo(u)&&!u[io])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?lo(u):null)&&(u!==(d=jn(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=ii,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=vi,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:co(l),f=null==u?a:co(u),(a=new c(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,lo(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Os(f))p++;for(f=0,m=h;m;m=Os(m))f++;for(;0<p-f;)c=Os(c),p--;for(;0<f-p;)h=Os(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Os(c),h=Os(h)}c=null}else c=null;null!==l&&Fs(o,a,l,c,!1),null!==u&&null!==d&&Fs(o,d,u,c,!0)}if("select"===(l=(a=r?co(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Ui;else if(Ri(a))if(Bi)g=Yi;else{g=Qi;var y=Ki}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=Gi);switch(g&&(g=g(e,r))?Mi(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&qt(a,"number",a.value)),y=r?co(r):window,e){case"focusin":(Ri(y)||"true"===y.contentEditable)&&(os=y,as=r,ls=null);break;case"focusout":ls=as=os=null;break;case"mousedown":us=!0;break;case"contextmenu":case"mouseup":case"dragend":us=!1,cs(o,n,i);break;case"selectionchange":if(ss)break;case"keydown":case"keyup":cs(o,n,i)}var v;if(ki)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Di?Ai(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ni&&"ko"!==n.locale&&(Di||"onCompositionStart"!==b?"onCompositionEnd"===b&&Di&&(v=Wr()):($r="value"in(zr=i)?zr.value:zr.textContent,Di=!0)),0<(y=Ls(r,b)).length&&(b=new ci(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Ii(n))&&(b.data=v))),(v=Ti?function(e,t){switch(e){case"compositionend":return Ii(t);case"keypress":return 32!==t.which?null:(Pi=!0,_i);case"textInput":return(e=t.data)===_i&&Pi?null:e;default:return null}}(e,n):function(e,t){if(Di)return"compositionend"===e||!ki&&Ai(e,t)?(e=Wr(),qr=$r=zr=null,Di=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ni&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ls(r,"onBeforeInput")).length&&(i=new ci("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}_s(o,t)}))}function Ms(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ls(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Sn(e,n))&&r.unshift(Ms(e,s,i)),null!=(s=Sn(e,t))&&r.push(Ms(e,s,i))),e=e.return}return r}function Os(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fs(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Sn(n,s))&&o.unshift(Ms(n,l,a)):i||null!=(l=Sn(n,s))&&o.push(Ms(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Vs=/\r\n?/g,Us=/\u0000|\uFFFD/g;function Bs(e){return("string"==typeof e?e:""+e).replace(Vs,"\n").replace(Us,"")}function zs(e,t,n){if(t=Bs(t),Bs(e)!==t&&n)throw Error(Ge(425))}function $s(){}var qs=null,Ws=null;function Hs(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ks="function"==typeof setTimeout?setTimeout:void 0,Qs="function"==typeof clearTimeout?clearTimeout:void 0,Gs="function"==typeof Promise?Promise:void 0,Ys="function"==typeof queueMicrotask?queueMicrotask:void 0!==Gs?function(e){return Gs.resolve(null).then(e).catch(Xs)}:Ks;function Xs(e){setTimeout((function(){throw e}))}function Js(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jr(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jr(t)}function Zs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function eo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var to=Math.random().toString(36).slice(2),no="__reactFiber$"+to,ro="__reactProps$"+to,io="__reactContainer$"+to,so="__reactEvents$"+to,oo="__reactListeners$"+to,ao="__reactHandles$"+to;function lo(e){var t=e[no];if(t)return t;for(var n=e.parentNode;n;){if(t=n[io]||n[no]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=eo(e);null!==e;){if(n=e[no])return n;e=eo(e)}return t}n=(e=n).parentNode}return null}function uo(e){return!(e=e[no]||e[io])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function co(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(Ge(33))}function ho(e){return e[ro]||null}var fo=[],po=-1;function mo(e){return{current:e}}function go(e){0>po||(e.current=fo[po],fo[po]=null,po--)}function yo(e,t){po++,fo[po]=e.current,e.current=t}var vo={},bo=mo(vo),wo=mo(!1),xo=vo;function Eo(e,t){var n=e.type.contextTypes;if(!n)return vo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function So(e){return null!=(e=e.childContextTypes)}function ko(){go(wo),go(bo)}function Co(e,t,n){if(bo.current!==vo)throw Error(Ge(168));yo(bo,t),yo(wo,n)}function To(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(Ge(108,jt(e)||"Unknown",i));return Nt({},n,r)}function No(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vo,xo=bo.current,yo(bo,e),yo(wo,wo.current),!0}function _o(e,t,n){var r=e.stateNode;if(!r)throw Error(Ge(169));n?(e=To(e,t,xo),r.__reactInternalMemoizedMergedChildContext=e,go(wo),go(bo),yo(bo,e)):go(wo),yo(wo,n)}var Po=null,Ao=!1,Io=!1;function Do(e){null===Po?Po=[e]:Po.push(e)}function jo(){if(!Io&&null!==Po){Io=!0;var e=0,t=cr;try{var n=Po;for(cr=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Po=null,Ao=!1}catch(i){throw null!==Po&&(Po=Po.slice(e+1)),Fn(qn,jo),i}finally{cr=t,Io=!1}}return null}var Ro=[],Mo=0,Lo=null,Oo=0,Fo=[],Vo=0,Uo=null,Bo=1,zo="";function $o(e,t){Ro[Mo++]=Oo,Ro[Mo++]=Lo,Lo=e,Oo=t}function qo(e,t,n){Fo[Vo++]=Bo,Fo[Vo++]=zo,Fo[Vo++]=Uo,Uo=e;var r=Bo;e=zo;var i=32-Xn(r)-1;r&=~(1<<i),n+=1;var s=32-Xn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bo=1<<32-Xn(t)+i|n<<i|r,zo=s+e}else Bo=1<<s|n<<i|r,zo=e}function Wo(e){null!==e.return&&($o(e,1),qo(e,1,0))}function Ho(e){for(;e===Lo;)Lo=Ro[--Mo],Ro[Mo]=null,Oo=Ro[--Mo],Ro[Mo]=null;for(;e===Uo;)Uo=Fo[--Vo],Fo[Vo]=null,zo=Fo[--Vo],Fo[Vo]=null,Bo=Fo[--Vo],Fo[Vo]=null}var Ko=null,Qo=null,Go=!1,Yo=null;function Xo(e,t){var n=xd(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Jo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ko=e,Qo=Zs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ko=e,Qo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Uo?{id:Bo,overflow:zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=xd(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ko=e,Qo=null,!0);default:return!1}}function Zo(e){return!(!(1&e.mode)||128&e.flags)}function ea(e){if(Go){var t=Qo;if(t){var n=t;if(!Jo(e,t)){if(Zo(e))throw Error(Ge(418));t=Zs(n.nextSibling);var r=Ko;t&&Jo(e,t)?Xo(r,n):(e.flags=-4097&e.flags|2,Go=!1,Ko=e)}}else{if(Zo(e))throw Error(Ge(418));e.flags=-4097&e.flags|2,Go=!1,Ko=e}}}function ta(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ko=e}function na(e){if(e!==Ko)return!1;if(!Go)return ta(e),Go=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Hs(e.type,e.memoizedProps)),t&&(t=Qo)){if(Zo(e))throw ra(),Error(Ge(418));for(;t;)Xo(e,t),t=Zs(t.nextSibling)}if(ta(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(Ge(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Qo=Zs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Qo=null}}else Qo=Ko?Zs(e.stateNode.nextSibling):null;return!0}function ra(){for(var e=Qo;e;)e=Zs(e.nextSibling)}function ia(){Qo=Ko=null,Go=!1}function sa(e){null===Yo?Yo=[e]:Yo.push(e)}var oa=ct.ReactCurrentBatchConfig;function aa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(Ge(309));var r=n.stateNode}if(!r)throw Error(Ge(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(Ge(284));if(!n._owner)throw Error(Ge(290,e))}return e}function la(e,t){throw e=Object.prototype.toString.call(t),Error(Ge(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ua(e){return(0,e._init)(e._payload)}function ca(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Sd(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=Nd(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===ft?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===Et&&ua(s)===t.type)?((r=i(t,n.props)).ref=aa(e,t,n),r.return=e,r):((r=kd(n.type,n.key,n.props,null,e.mode,r)).ref=aa(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=_d(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,s){return null===t||7!==t.tag?((t=Cd(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Nd(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case dt:return(n=kd(t.type,t.key,t.props,null,e.mode,n)).ref=aa(e,null,t),n.return=e,n;case ht:return(t=_d(t,e.mode,n)).return=e,t;case Et:return d(e,(0,t._init)(t._payload),n)}if(Wt(t)||Ct(t))return(t=Cd(t,e.mode,n,null)).return=e,t;la(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case dt:return n.key===i?l(e,t,n,r):null;case ht:return n.key===i?u(e,t,n,r):null;case Et:return h(e,t,(i=n._init)(n._payload),r)}if(Wt(n)||Ct(n))return null!==i?null:c(e,t,n,r,null);la(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case dt:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case ht:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Et:return f(e,t,n,(0,r._init)(r._payload),i)}if(Wt(r)||Ct(r))return c(t,e=e.get(n)||null,r,i,null);la(t,r)}return null}return function a(l,u,c,p){if("object"==typeof c&&null!==c&&c.type===ft&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case dt:e:{for(var m=c.key,g=u;null!==g;){if(g.key===m){if((m=c.type)===ft){if(7===g.tag){n(l,g.sibling),(u=i(g,c.props.children)).return=l,l=u;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===Et&&ua(m)===g.type){n(l,g.sibling),(u=i(g,c.props)).ref=aa(l,g,c),u.return=l,l=u;break e}n(l,g);break}t(l,g),g=g.sibling}c.type===ft?((u=Cd(c.props.children,l.mode,p,c.key)).return=l,l=u):((p=kd(c.type,c.key,c.props,null,l.mode,p)).ref=aa(l,u,c),p.return=l,l=p)}return o(l);case ht:e:{for(g=c.key;null!==u;){if(u.key===g){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=_d(c,l.mode,p)).return=l,l=u}return o(l);case Et:return a(l,u,(g=c._init)(c._payload),p)}if(Wt(c))return function(i,o,a,l){for(var u=null,c=null,p=o,m=o=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var y=h(i,p,a[m],l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,p=g}if(m===a.length)return n(i,p),Go&&$o(i,m),u;if(null===p){for(;m<a.length;m++)null!==(p=d(i,a[m],l))&&(o=s(p,o,m),null===c?u=p:c.sibling=p,c=p);return Go&&$o(i,m),u}for(p=r(i,p);m<a.length;m++)null!==(g=f(p,i,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),Go&&$o(i,m),u}(l,u,c,p);if(Ct(c))return function(i,o,a,l){var u=Ct(a);if("function"!=typeof u)throw Error(Ge(150));if(null==(a=u.call(a)))throw Error(Ge(151));for(var c=u=null,p=o,m=o=0,g=null,y=a.next();null!==p&&!y.done;m++,y=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var v=h(i,p,y.value,l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,p=g}if(y.done)return n(i,p),Go&&$o(i,m),u;if(null===p){for(;!y.done;m++,y=a.next())null!==(y=d(i,y.value,l))&&(o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return Go&&$o(i,m),u}for(p=r(i,p);!y.done;m++,y=a.next())null!==(y=f(p,i,m,y.value,l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(i,e)})),Go&&$o(i,m),u}(l,u,c,p);la(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l,l=u):(n(l,u),(u=Nd(c,l.mode,p)).return=l,l=u),o(l)):n(l,u)}}var da=ca(!0),ha=ca(!1),fa=mo(null),pa=null,ma=null,ga=null;function ya(){ga=ma=pa=null}function va(e){var t=fa.current;go(fa),e._currentValue=t}function ba(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wa(e,t){pa=e,ga=ma=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(uu=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(ga!==e)if(e={context:e,memoizedValue:t,next:null},null===ma){if(null===pa)throw Error(Ge(308));ma=e,pa.dependencies={lanes:0,firstContext:e}}else ma=ma.next=e;return t}var Ea=null;function Sa(e){null===Ea?Ea=[e]:Ea.push(e)}function ka(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ta=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _a(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&vc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Ia(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ur(e,n)}}function Da(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Ta=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,c=u=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=Nt({},d,h);break e;case 2:Ta=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Tc|=o,e.lanes=o,e.memoizedState=d}}function Ra(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(Ge(191,i));i.call(r)}}}var Ma={},La=mo(Ma),Oa=mo(Ma),Fa=mo(Ma);function Va(e){if(e===Ma)throw Error(Ge(174));return e}function Ua(e,t){switch(yo(Fa,t),yo(Oa,e),yo(La,Ma),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jt(null,"");break;default:t=Jt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}go(La),yo(La,t)}function Ba(){go(La),go(Oa),go(Fa)}function za(e){Va(Fa.current);var t=Va(La.current),n=Jt(t,e.type);t!==n&&(yo(Oa,e),yo(La,n))}function $a(e){Oa.current===e&&(go(La),go(Oa))}var qa=mo(0);function Wa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ha=[];function Ka(){for(var e=0;e<Ha.length;e++)Ha[e]._workInProgressVersionPrimary=null;Ha.length=0}var Qa=ct.ReactCurrentDispatcher,Ga=ct.ReactCurrentBatchConfig,Ya=0,Xa=null,Ja=null,Za=null,el=!1,tl=!1,nl=0,rl=0;function il(){throw Error(Ge(321))}function sl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xi(e[n],t[n]))return!1;return!0}function ol(e,t,n,r,i,s){if(Ya=s,Xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qa.current=null===e||null===e.memoizedState?$l:ql,e=n(r,i),tl){s=0;do{if(tl=!1,nl=0,25<=s)throw Error(Ge(301));s+=1,Za=Ja=null,t.updateQueue=null,Qa.current=Wl,e=n(r,i)}while(tl)}if(Qa.current=zl,t=null!==Ja&&null!==Ja.next,Ya=0,Za=Ja=Xa=null,el=!1,t)throw Error(Ge(300));return e}function al(){var e=0!==nl;return nl=0,e}function ll(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Za?Xa.memoizedState=Za=e:Za=Za.next=e,Za}function ul(){if(null===Ja){var e=Xa.alternate;e=null!==e?e.memoizedState:null}else e=Ja.next;var t=null===Za?Xa.memoizedState:Za.next;if(null!==t)Za=t,Ja=e;else{if(null===e)throw Error(Ge(310));e={memoizedState:(Ja=e).memoizedState,baseState:Ja.baseState,baseQueue:Ja.baseQueue,queue:Ja.queue,next:null},null===Za?Xa.memoizedState=Za=e:Za=Za.next=e}return Za}function cl(e,t){return"function"==typeof t?t(e):t}function dl(e){var t=ul(),n=t.queue;if(null===n)throw Error(Ge(311));n.lastRenderedReducer=e;var r=Ja,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ya&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(a=l=d,o=r):l=l.next=d,Xa.lanes|=c,Tc|=c}u=u.next}while(null!==u&&u!==s);null===l?o=r:l.next=a,Xi(r,t.memoizedState)||(uu=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,Xa.lanes|=s,Tc|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hl(e){var t=ul(),n=t.queue;if(null===n)throw Error(Ge(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Xi(s,t.memoizedState)||(uu=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function fl(){}function pl(e,t){var n=Xa,r=ul(),i=t(),s=!Xi(r.memoizedState,i);if(s&&(r.memoizedState=i,uu=!0),r=r.queue,Tl(yl.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==Za&&1&Za.memoizedState.tag){if(n.flags|=2048,xl(9,gl.bind(null,n,r,i,t),void 0,null),null===bc)throw Error(Ge(349));30&Ya||ml(n,t,i)}return i}function ml(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Xa.updateQueue)?(t={lastEffect:null,stores:null},Xa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function gl(e,t,n,r){t.value=n,t.getSnapshot=r,vl(t)&&bl(e)}function yl(e,t,n){return n((function(){vl(t)&&bl(e)}))}function vl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xi(e,n)}catch(r){return!0}}function bl(e){var t=Ca(e,1);null!==t&&Hc(t,e,1,-1)}function wl(e){var t=ll();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:e},t.queue=e,e=e.dispatch=Fl.bind(null,Xa,e),[t.memoizedState,e]}function xl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Xa.updateQueue)?(t={lastEffect:null,stores:null},Xa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function El(){return ul().memoizedState}function Sl(e,t,n,r){var i=ll();Xa.flags|=e,i.memoizedState=xl(1|t,n,void 0,void 0===r?null:r)}function kl(e,t,n,r){var i=ul();r=void 0===r?null:r;var s=void 0;if(null!==Ja){var o=Ja.memoizedState;if(s=o.destroy,null!==r&&sl(r,o.deps))return void(i.memoizedState=xl(t,n,s,r))}Xa.flags|=e,i.memoizedState=xl(1|t,n,s,r)}function Cl(e,t){return Sl(8390656,8,e,t)}function Tl(e,t){return kl(2048,8,e,t)}function Nl(e,t){return kl(4,2,e,t)}function _l(e,t){return kl(4,4,e,t)}function Pl(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Al(e,t,n){return n=null!=n?n.concat([e]):null,kl(4,4,Pl.bind(null,t,e),n)}function Il(){}function Dl(e,t){var n=ul();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jl(e,t){var n=ul();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rl(e,t,n){return 21&Ya?(Xi(n,t)||(n=or(),Xa.lanes|=n,Tc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,uu=!0),e.memoizedState=n)}function Ml(e,t){var n=cr;cr=0!==n&&4>n?n:4,e(!0);var r=Ga.transition;Ga.transition={};try{e(!1),t()}finally{cr=n,Ga.transition=r}}function Ll(){return ul().memoizedState}function Ol(e,t,n){var r=Wc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vl(e))Ul(t,n);else if(null!==(n=ka(e,t,n,r))){Hc(n,e,r,qc()),Bl(n,t,r)}}function Fl(e,t,n){var r=Wc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vl(e))Ul(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xi(a,o)){var l=t.interleaved;return null===l?(i.next=i,Sa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=ka(e,t,i,r))&&(Hc(n,e,r,i=qc()),Bl(n,t,r))}}function Vl(e){var t=e.alternate;return e===Xa||null!==t&&t===Xa}function Ul(e,t){tl=el=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bl(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ur(e,n)}}var zl={readContext:xa,useCallback:il,useContext:il,useEffect:il,useImperativeHandle:il,useInsertionEffect:il,useLayoutEffect:il,useMemo:il,useReducer:il,useRef:il,useState:il,useDebugValue:il,useDeferredValue:il,useTransition:il,useMutableSource:il,useSyncExternalStore:il,useId:il,unstable_isNewReconciler:!1},$l={readContext:xa,useCallback:function(e,t){return ll().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:Cl,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Sl(4194308,4,Pl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sl(4,2,e,t)},useMemo:function(e,t){var n=ll();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ll();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ol.bind(null,Xa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ll().memoizedState=e},useState:wl,useDebugValue:Il,useDeferredValue:function(e){return ll().memoizedState=e},useTransition:function(){var e=wl(!1),t=e[0];return e=Ml.bind(null,e[1]),ll().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xa,i=ll();if(Go){if(void 0===n)throw Error(Ge(407));n=n()}else{if(n=t(),null===bc)throw Error(Ge(349));30&Ya||ml(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Cl(yl.bind(null,r,s,e),[e]),r.flags|=2048,xl(9,gl.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ll(),t=bc.identifierPrefix;if(Go){var n=zo;t=":"+t+"R"+(n=(Bo&~(1<<32-Xn(Bo)-1)).toString(32)+n),0<(n=nl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=rl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ql={readContext:xa,useCallback:Dl,useContext:xa,useEffect:Tl,useImperativeHandle:Al,useInsertionEffect:Nl,useLayoutEffect:_l,useMemo:jl,useReducer:dl,useRef:El,useState:function(){return dl(cl)},useDebugValue:Il,useDeferredValue:function(e){return Rl(ul(),Ja.memoizedState,e)},useTransition:function(){return[dl(cl)[0],ul().memoizedState]},useMutableSource:fl,useSyncExternalStore:pl,useId:Ll,unstable_isNewReconciler:!1},Wl={readContext:xa,useCallback:Dl,useContext:xa,useEffect:Tl,useImperativeHandle:Al,useInsertionEffect:Nl,useLayoutEffect:_l,useMemo:jl,useReducer:hl,useRef:El,useState:function(){return hl(cl)},useDebugValue:Il,useDeferredValue:function(e){var t=ul();return null===Ja?t.memoizedState=e:Rl(t,Ja.memoizedState,e)},useTransition:function(){return[hl(cl)[0],ul().memoizedState]},useMutableSource:fl,useSyncExternalStore:pl,useId:Ll,unstable_isNewReconciler:!1};function Hl(e,t){if(e&&e.defaultProps){for(var n in t=Nt({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Kl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Nt({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ql={isMounted:function(e){return!!(e=e._reactInternals)&&jn(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qc(),i=Wc(e),s=Pa(r,i);s.payload=t,null!=n&&(s.callback=n),null!==(t=Aa(e,s,i))&&(Hc(t,e,i,r),Ia(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qc(),i=Wc(e),s=Pa(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=Aa(e,s,i))&&(Hc(t,e,i,r),Ia(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qc(),r=Wc(e),i=Pa(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Aa(e,i,r))&&(Hc(t,e,r,n),Ia(t,e,r))}};function Gl(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Ji(n,r)||!Ji(i,s))}function Yl(e,t,n){var r=!1,i=vo,s=t.contextType;return"object"==typeof s&&null!==s?s=xa(s):(i=So(t)?xo:bo.current,s=(r=null!=(r=t.contextTypes))?Eo(e,i):vo),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ql,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Xl(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ql.enqueueReplaceState(t,t.state,null)}function Jl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Na(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=xa(s):(s=So(t)?xo:bo.current,i.context=Eo(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(Kl(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ql.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Zl(e,t){try{var n="",r=t;do{n+=It(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function eu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function tu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var nu="function"==typeof WeakMap?WeakMap:Map;function ru(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Rc||(Rc=!0,Mc=r),tu(0,t)},n}function iu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){tu(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){tu(0,t),"function"!=typeof r&&(null===Lc?Lc=new Set([this]):Lc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function su(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=md.bind(null,e,t,n),t.then(e,e))}function ou(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function au(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Aa(n,t,1))),n.lanes|=1),e)}var lu=ct.ReactCurrentOwner,uu=!1;function cu(e,t,n,r){t.child=null===e?ha(t,null,n,r):da(t,e.child,n,r)}function du(e,t,n,r,i){n=n.render;var s=t.ref;return wa(t,i),r=ol(e,t,n,r,s,i),n=al(),null===e||uu?(Go&&n&&Wo(t),t.flags|=1,cu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ru(e,t,i))}function hu(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||Ed(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=kd(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,fu(e,t,s,r,i))}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Ji)(o,r)&&e.ref===t.ref)return Ru(e,t,i)}return t.flags|=1,(e=Sd(s,r)).ref=t.ref,e.return=t,t.child=e}function fu(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Ji(s,r)&&e.ref===t.ref){if(uu=!1,t.pendingProps=r=s,!(e.lanes&i))return t.lanes=e.lanes,Ru(e,t,i);131072&e.flags&&(uu=!0)}}return gu(e,t,n,r,i)}function pu(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yo(Sc,Ec),Ec|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,yo(Sc,Ec),Ec|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yo(Sc,Ec),Ec|=n;else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,yo(Sc,Ec),Ec|=r;return cu(e,t,i,n),t.child}function mu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gu(e,t,n,r,i){var s=So(n)?xo:bo.current;return s=Eo(t,s),wa(t,i),n=ol(e,t,n,r,s,i),r=al(),null===e||uu?(Go&&r&&Wo(t),t.flags|=1,cu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ru(e,t,i))}function yu(e,t,n,r,i){if(So(n)){var s=!0;No(t)}else s=!1;if(wa(t,i),null===t.stateNode)ju(e,t),Yl(t,n,r),Jl(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=xa(u):u=Eo(t,u=So(n)?xo:bo.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&Xl(t,o,r,u),Ta=!1;var h=t.memoizedState;o.state=h,ja(t,r,o,i),l=t.memoizedState,a!==r||h!==l||wo.current||Ta?("function"==typeof c&&(Kl(t,n,c,r),l=t.memoizedState),(a=Ta||Gl(t,n,a,r,h,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,_a(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Hl(t.type,a),o.props=u,d=t.pendingProps,h=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=xa(l):l=Eo(t,l=So(n)?xo:bo.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==d||h!==l)&&Xl(t,o,r,l),Ta=!1,h=t.memoizedState,o.state=h,ja(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||wo.current||Ta?("function"==typeof f&&(Kl(t,n,f,r),p=t.memoizedState),(u=Ta||Gl(t,n,u,r,h,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return vu(e,t,n,r,s,i)}function vu(e,t,n,r,i,s){mu(e,t);var o=!!(128&t.flags);if(!r&&!o)return i&&_o(t,n,!1),Ru(e,t,s);r=t.stateNode,lu.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=da(t,e.child,null,s),t.child=da(t,null,a,s)):cu(e,t,a,s),t.memoizedState=r.state,i&&_o(t,n,!0),t.child}function bu(e){var t=e.stateNode;t.pendingContext?Co(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Co(0,t.context,!1),Ua(e,t.containerInfo)}function wu(e,t,n,r,i){return ia(),sa(i),t.flags|=256,cu(e,t,n,r),t.child}var xu,Eu,Su,ku,Cu={dehydrated:null,treeContext:null,retryLane:0};function Tu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nu(e,t,n){var r,i=t.pendingProps,s=qa.current,o=!1,a=!!(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),yo(qa,1&s),null===e)return ea(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},1&i||null===o?o=Td(a,i,0,null):(o.childLanes=0,o.pendingProps=a),e=Cd(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Tu(n),t.memoizedState=Cu,e):_u(t,a));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,Pu(e,t,o,r=eu(Error(Ge(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Td({mode:"visible",children:r.children},i,0,null),(s=Cd(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,1&t.mode&&da(t,e.child,null,o),t.child.memoizedState=Tu(o),t.memoizedState=Cu,s);if(!(1&t.mode))return Pu(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var a=r.dgst;return r=a,Pu(e,t,o,r=eu(s=Error(Ge(419)),r,void 0))}if(a=!!(o&e.childLanes),uu||a){if(null!==(r=bc)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|o)?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ca(e,i),Hc(r,e,i,-1))}return sd(),Pu(e,t,o,r=eu(Error(Ge(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=yd.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Qo=Zs(i.nextSibling),Ko=t,Go=!0,Yo=null,null!==e&&(Fo[Vo++]=Bo,Fo[Vo++]=zo,Fo[Vo++]=Uo,Bo=e.id,zo=e.overflow,Uo=t),t=_u(t,r.children),t.flags|=4096,t)}(e,t,a,i,r,s,n);if(o){o=i.fallback,a=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 1&a||t.child===s?(i=Sd(s,l)).subtreeFlags=14680064&s.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null),null!==r?o=Sd(r,o):(o=Cd(o,a,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,a=null===(a=e.child.memoizedState)?Tu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Cu,i}return e=(o=e.child).sibling,i=Sd(o,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function _u(e,t){return(t=Td({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Pu(e,t,n,r){return null!==r&&sa(r),da(t,e.child,null,n),(e=_u(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Au(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ba(e.return,t,n)}function Iu(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Du(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(cu(e,t,r.children,n),2&(r=qa.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Au(e,n,t);else if(19===e.tag)Au(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(yo(qa,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Wa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Iu(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Wa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Iu(t,!0,n,null,s);break;case"together":Iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ju(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ru(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Tc|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(Ge(153));if(null!==t.child){for(n=Sd(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Sd(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Mu(e,t){if(!Go)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Lu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ou(e,t,n){var r=t.pendingProps;switch(Ho(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lu(t),null;case 1:case 17:return So(t.type)&&ko(),Lu(t),null;case 3:return r=t.stateNode,Ba(),go(wo),go(bo),Ka(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(na(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Yo&&(Yc(Yo),Yo=null))),Eu(e,t),Lu(t),null;case 5:$a(t);var i=Va(Fa.current);if(n=t.type,null!==e&&null!=t.stateNode)Su(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(Ge(166));return Lu(t),null}if(e=Va(La.current),na(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[no]=t,r[ro]=s,e=!!(1&t.mode),n){case"dialog":Ps("cancel",r),Ps("close",r);break;case"iframe":case"object":case"embed":Ps("load",r);break;case"video":case"audio":for(i=0;i<Cs.length;i++)Ps(Cs[i],r);break;case"source":Ps("error",r);break;case"img":case"image":case"link":Ps("error",r),Ps("load",r);break;case"details":Ps("toggle",r);break;case"input":Ut(r,s),Ps("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ps("invalid",r);break;case"textarea":Qt(r,s),Ps("invalid",r)}for(var o in un(n,s),i=null,s)if(s.hasOwnProperty(o)){var a=s[o];"children"===o?"string"==typeof a?r.textContent!==a&&(!0!==s.suppressHydrationWarning&&zs(r.textContent,a,e),i=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(!0!==s.suppressHydrationWarning&&zs(r.textContent,a,e),i=["children",""+a]):Xe.hasOwnProperty(o)&&null!=a&&"onScroll"===o&&Ps("scroll",r)}switch(n){case"input":Lt(r),$t(r,s,!0);break;case"textarea":Lt(r),Yt(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=$s)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=Xt(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[no]=t,e[ro]=r,xu(e,t,!1,!1),t.stateNode=e;e:{switch(o=cn(n,r),n){case"dialog":Ps("cancel",e),Ps("close",e),i=r;break;case"iframe":case"object":case"embed":Ps("load",e),i=r;break;case"video":case"audio":for(i=0;i<Cs.length;i++)Ps(Cs[i],e);i=r;break;case"source":Ps("error",e),i=r;break;case"img":case"image":case"link":Ps("error",e),Ps("load",e),i=r;break;case"details":Ps("toggle",e),i=r;break;case"input":Ut(e,r),i=Vt(e,r),Ps("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Nt({},r,{value:void 0}),Ps("invalid",e);break;case"textarea":Qt(e,r),i=Kt(e,r),Ps("invalid",e)}for(s in un(n,i),a=i)if(a.hasOwnProperty(s)){var l=a[s];"style"===s?an(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&tn(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&nn(e,l):"number"==typeof l&&nn(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(Xe.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Ps("scroll",e):null!=l&&ut(e,s,l,o))}switch(n){case"input":Lt(e),$t(e,r,!1);break;case"textarea":Lt(e),Yt(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Rt(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?Ht(e,!!r.multiple,s,!1):null!=r.defaultValue&&Ht(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=$s)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Lu(t),null;case 6:if(e&&null!=t.stateNode)ku(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(Ge(166));if(n=Va(Fa.current),Va(La.current),na(t)){if(r=t.stateNode,n=t.memoizedProps,r[no]=t,(s=r.nodeValue!==n)&&null!==(e=Ko))switch(e.tag){case 3:zs(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&zs(r.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[no]=t,t.stateNode=r}return Lu(t),null;case 13:if(go(qa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Go&&null!==Qo&&1&t.mode&&!(128&t.flags))ra(),ia(),t.flags|=98560,s=!1;else if(s=na(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(Ge(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(Ge(317));s[no]=t}else ia(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Lu(t),s=!1}else null!==Yo&&(Yc(Yo),Yo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&qa.current?0===kc&&(kc=3):sd())),null!==t.updateQueue&&(t.flags|=4),Lu(t),null);case 4:return Ba(),Eu(e,t),null===e&&Ds(t.stateNode.containerInfo),Lu(t),null;case 10:return va(t.type._context),Lu(t),null;case 19:if(go(qa),null===(s=t.memoizedState))return Lu(t),null;if(r=!!(128&t.flags),null===(o=s.rendering))if(r)Mu(s,!1);else{if(0!==kc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=Wa(e))){for(t.flags|=128,Mu(s,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return yo(qa,1&qa.current|2),t.child}e=e.sibling}null!==s.tail&&zn()>Dc&&(t.flags|=128,r=!0,Mu(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Wa(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Mu(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!Go)return Lu(t),null}else 2*zn()-s.renderingStartTime>Dc&&1073741824!==n&&(t.flags|=128,r=!0,Mu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=s.last)?n.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=zn(),t.sibling=null,n=qa.current,yo(qa,r?1&n|2:1&n),t):(Lu(t),null);case 22:case 23:return td(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Ec)&&(Lu(t),6&t.subtreeFlags&&(t.flags|=8192)):Lu(t),null;case 24:case 25:return null}throw Error(Ge(156,t.tag))}function Fu(e,t){switch(Ho(t),t.tag){case 1:return So(t.type)&&ko(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ba(),go(wo),go(bo),Ka(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $a(t),null;case 13:if(go(qa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(Ge(340));ia()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return go(qa),null;case 4:return Ba(),null;case 10:return va(t.type._context),null;case 22:case 23:return td(),null;default:return null}}xu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Eu=function(){},Su=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Va(La.current);var s,o=null;switch(n){case"input":i=Vt(e,i),r=Vt(e,r),o=[];break;case"select":i=Nt({},i,{value:void 0}),r=Nt({},r,{value:void 0}),o=[];break;case"textarea":i=Kt(e,i),r=Kt(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=$s)}for(u in un(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(Xe.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(Xe.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ps("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},ku=function(e,t,n,r){n!==r&&(t.flags|=4)};var Vu=!1,Uu=!1,Bu="function"==typeof WeakSet?WeakSet:Set,zu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){pd(e,t,r)}else n.current=null}function qu(e,t,n){try{n()}catch(r){pd(e,t,r)}}var Wu=!1;function Hu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&qu(t,n,s)}i=i.next}while(i!==r)}}function Ku(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function Gu(e){var t=e.alternate;null!==t&&(e.alternate=null,Gu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[no],delete t[ro],delete t[so],delete t[oo],delete t[ao])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yu(e){return 5===e.tag||3===e.tag||4===e.tag}function Xu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Yu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ju(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=$s));else if(4!==r&&null!==(e=e.child))for(Ju(e,t,n),e=e.sibling;null!==e;)Ju(e,t,n),e=e.sibling}function Zu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Zu(e,t,n),e=e.sibling;null!==e;)Zu(e,t,n),e=e.sibling}var ec=null,tc=!1;function nc(e,t,n){for(n=n.child;null!==n;)rc(e,t,n),n=n.sibling}function rc(e,t,n){if(Yn&&"function"==typeof Yn.onCommitFiberUnmount)try{Yn.onCommitFiberUnmount(Gn,n)}catch(a){}switch(n.tag){case 5:Uu||$u(n,t);case 6:var r=ec,i=tc;ec=null,nc(e,t,n),tc=i,null!==(ec=r)&&(tc?(e=ec,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ec.removeChild(n.stateNode));break;case 18:null!==ec&&(tc?(e=ec,n=n.stateNode,8===e.nodeType?Js(e.parentNode,n):1===e.nodeType&&Js(e,n),jr(e)):Js(ec,n.stateNode));break;case 4:r=ec,i=tc,ec=n.stateNode.containerInfo,tc=!0,nc(e,t,n),ec=r,tc=i;break;case 0:case 11:case 14:case 15:if(!Uu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(2&s||4&s)&&qu(n,t,o),i=i.next}while(i!==r)}nc(e,t,n);break;case 1:if(!Uu&&($u(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pd(n,t,a)}nc(e,t,n);break;case 21:nc(e,t,n);break;case 22:1&n.mode?(Uu=(r=Uu)||null!==n.memoizedState,nc(e,t,n),Uu=r):nc(e,t,n);break;default:nc(e,t,n)}}function ic(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Bu),t.forEach((function(t){var r=vd.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function sc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;null!==a;){switch(a.tag){case 5:ec=a.stateNode,tc=!1;break e;case 3:case 4:ec=a.stateNode.containerInfo,tc=!0;break e}a=a.return}if(null===ec)throw Error(Ge(160));rc(s,o,i),ec=null,tc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){pd(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)oc(t,e),t=t.sibling}function oc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sc(t,e),ac(e),4&r){try{Hu(3,e,e.return),Ku(3,e)}catch(m){pd(e,e.return,m)}try{Hu(5,e,e.return)}catch(m){pd(e,e.return,m)}}break;case 1:sc(t,e),ac(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(sc(t,e),ac(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{nn(i,"")}catch(m){pd(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===s.type&&null!=s.name&&Bt(i,s),cn(a,o);var u=cn(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];"style"===c?an(i,d):"dangerouslySetInnerHTML"===c?tn(i,d):"children"===c?nn(i,d):ut(i,c,d,u)}switch(a){case"input":zt(i,s);break;case"textarea":Gt(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?Ht(i,!!s.multiple,f,!1):h!==!!s.multiple&&(null!=s.defaultValue?Ht(i,!!s.multiple,s.defaultValue,!0):Ht(i,!!s.multiple,s.multiple?[]:"",!1))}i[ro]=s}catch(m){pd(e,e.return,m)}}break;case 6:if(sc(t,e),ac(e),4&r){if(null===e.stateNode)throw Error(Ge(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){pd(e,e.return,m)}}break;case 3:if(sc(t,e),ac(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jr(t.containerInfo)}catch(m){pd(e,e.return,m)}break;case 4:default:sc(t,e),ac(e);break;case 13:sc(t,e),ac(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Ic=zn())),4&r&&ic(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Uu=(u=Uu)||c,sc(t,e),Uu=u):sc(t,e),ac(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&1&e.mode)for(zu=e,c=e.child;null!==c;){for(d=zu=c;null!==zu;){switch(f=(h=zu).child,h.tag){case 0:case 11:case 14:case 15:Hu(4,h,h.return);break;case 1:$u(h,h.return);var p=h.stateNode;if("function"==typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){pd(r,n,m)}}break;case 5:$u(h,h.return);break;case 22:if(null!==h.memoizedState){dc(d);continue}}null!==f?(f.return=h,zu=f):dc(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{i=d.stateNode,u?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(a=d.stateNode,o=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=on("display",o))}catch(m){pd(e,e.return,m)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){pd(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:sc(t,e),ac(e),4&r&&ic(e);case 21:}}function ac(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Yu(n)){var r=n;break e}n=n.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(nn(i,""),r.flags&=-33),Zu(e,Xu(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;Ju(e,Xu(e),s);break;default:throw Error(Ge(161))}}catch(o){pd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function lc(e,t,n){zu=e,uc(e)}function uc(e,t,n){for(var r=!!(1&e.mode);null!==zu;){var i=zu,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Vu;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Uu;a=Vu;var u=Uu;if(Vu=o,(Uu=l)&&!u)for(zu=i;null!==zu;)l=(o=zu).child,22===o.tag&&null!==o.memoizedState?hc(i):null!==l?(l.return=o,zu=l):hc(i);for(;null!==s;)zu=s,uc(s),s=s.sibling;zu=i,Vu=a,Uu=u}cc(e)}else 8772&i.subtreeFlags&&null!==s?(s.return=i,zu=s):cc(e)}}function cc(e){for(;null!==zu;){var t=zu;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Uu||Ku(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Uu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Hl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ra(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ra(t,o,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&jr(d)}}}break;default:throw Error(Ge(163))}Uu||512&t.flags&&Qu(t)}catch(h){pd(t,t.return,h)}}if(t===e){zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,zu=n;break}zu=t.return}}function dc(e){for(;null!==zu;){var t=zu;if(t===e){zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,zu=n;break}zu=t.return}}function hc(e){for(;null!==zu;){var t=zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ku(4,t)}catch(l){pd(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){pd(t,i,l)}}var s=t.return;try{Qu(t)}catch(l){pd(t,s,l)}break;case 5:var o=t.return;try{Qu(t)}catch(l){pd(t,o,l)}}}catch(l){pd(t,t.return,l)}if(t===e){zu=null;break}var a=t.sibling;if(null!==a){a.return=t.return,zu=a;break}zu=t.return}}var fc,pc=Math.ceil,mc=ct.ReactCurrentDispatcher,gc=ct.ReactCurrentOwner,yc=ct.ReactCurrentBatchConfig,vc=0,bc=null,wc=null,xc=0,Ec=0,Sc=mo(0),kc=0,Cc=null,Tc=0,Nc=0,_c=0,Pc=null,Ac=null,Ic=0,Dc=1/0,jc=null,Rc=!1,Mc=null,Lc=null,Oc=!1,Fc=null,Vc=0,Uc=0,Bc=null,zc=-1,$c=0;function qc(){return 6&vc?zn():-1!==zc?zc:zc=zn()}function Wc(e){return 1&e.mode?2&vc&&0!==xc?xc&-xc:null!==oa.transition?(0===$c&&($c=or()),$c):0!==(e=cr)?e:e=void 0===(e=window.event)?16:Br(e.type):1}function Hc(e,t,n,r){if(50<Uc)throw Uc=0,Bc=null,Error(Ge(185));lr(e,n,r),2&vc&&e===bc||(e===bc&&(!(2&vc)&&(Nc|=n),4===kc&&Xc(e,xc)),Kc(e,r),1===n&&0===vc&&!(1&t.mode)&&(Dc=zn()+500,Ao&&jo()))}function Kc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Xn(s),a=1<<o,l=i[o];-1===l?a&n&&!(a&r)||(i[o]=ir(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=rr(e,e===bc?xc:0);if(0===r)null!==n&&Vn(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Vn(n),1===t)0===e.tag?function(e){Ao=!0,Do(e)}(Jc.bind(null,e)):Do(Jc.bind(null,e)),Ys((function(){!(6&vc)&&jo()})),n=null;else{switch(dr(r)){case 1:n=qn;break;case 4:n=Wn;break;case 16:default:n=Hn;break;case 536870912:n=Qn}n=bd(n,Qc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qc(e,t){if(zc=-1,$c=0,6&vc)throw Error(Ge(327));var n=e.callbackNode;if(hd()&&e.callbackNode!==n)return null;var r=rr(e,e===bc?xc:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=od(e,r);else{t=r;var i=vc;vc|=2;var s=id();for(bc===e&&xc===t||(jc=null,Dc=zn()+500,nd(e,t));;)try{ld();break}catch(a){rd(e,a)}ya(),mc.current=s,vc=i,null!==wc?t=0:(bc=null,xc=0,t=kc)}if(0!==t){if(2===t&&(0!==(i=sr(e))&&(r=i,t=Gc(e,i))),1===t)throw n=Cc,nd(e,0),Xc(e,r),Kc(e,zn()),n;if(6===t)Xc(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xi(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=od(e,r),2===t&&(s=sr(e),0!==s&&(r=s,t=Gc(e,s))),1!==t)))throw n=Cc,nd(e,0),Xc(e,r),Kc(e,zn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ge(345));case 2:case 5:dd(e,Ac,jc);break;case 3:if(Xc(e,r),(130023424&r)===r&&10<(t=Ic+500-zn())){if(0!==rr(e,0))break;if(((i=e.suspendedLanes)&r)!==r){qc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ks(dd.bind(null,e,Ac,jc),t);break}dd(e,Ac,jc);break;case 4:if(Xc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Xn(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=zn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pc(r/1960))-r)){e.timeoutHandle=Ks(dd.bind(null,e,Ac,jc),r);break}dd(e,Ac,jc);break;default:throw Error(Ge(329))}}}return Kc(e,zn()),e.callbackNode===n?Qc.bind(null,e):null}function Gc(e,t){var n=Pc;return e.current.memoizedState.isDehydrated&&(nd(e,t).flags|=256),2!==(e=od(e,t))&&(t=Ac,Ac=n,null!==t&&Yc(t)),e}function Yc(e){null===Ac?Ac=e:Ac.push.apply(Ac,e)}function Xc(e,t){for(t&=~_c,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xn(t),r=1<<n;e[n]=-1,t&=~r}}function Jc(e){if(6&vc)throw Error(Ge(327));hd();var t=rr(e,0);if(!(1&t))return Kc(e,zn()),null;var n=od(e,t);if(0!==e.tag&&2===n){var r=sr(e);0!==r&&(t=r,n=Gc(e,r))}if(1===n)throw n=Cc,nd(e,0),Xc(e,t),Kc(e,zn()),n;if(6===n)throw Error(Ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dd(e,Ac,jc),Kc(e,zn()),null}function Zc(e,t){var n=vc;vc|=1;try{return e(t)}finally{0===(vc=n)&&(Dc=zn()+500,Ao&&jo())}}function ed(e){null!==Fc&&0===Fc.tag&&!(6&vc)&&hd();var t=vc;vc|=1;var n=yc.transition,r=cr;try{if(yc.transition=null,cr=1,e)return e()}finally{cr=r,yc.transition=n,!(6&(vc=t))&&jo()}}function td(){Ec=Sc.current,go(Sc)}function nd(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Qs(n)),null!==wc)for(n=wc.return;null!==n;){var r=n;switch(Ho(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&ko();break;case 3:Ba(),go(wo),go(bo),Ka();break;case 5:$a(r);break;case 4:Ba();break;case 13:case 19:go(qa);break;case 10:va(r.type._context);break;case 22:case 23:td()}n=n.return}if(bc=e,wc=e=Sd(e.current,null),xc=Ec=t,kc=0,Cc=null,_c=Nc=Tc=0,Ac=Pc=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ea=null}return e}function rd(e,t){for(;;){var n=wc;try{if(ya(),Qa.current=zl,el){for(var r=Xa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}el=!1}if(Ya=0,Za=Ja=Xa=null,tl=!1,nl=0,gc.current=null,null===n||null===n.return){kc=1,Cc=t,wc=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=xc,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=a,d=c.tag;if(!(1&c.mode||0!==d&&11!==d&&15!==d)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=ou(o);if(null!==f){f.flags&=-257,au(f,o,a,0,t),1&f.mode&&su(s,u,t),l=u;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(!(1&t)){su(s,u,t),sd();break e}l=Error(Ge(426))}else if(Go&&1&a.mode){var g=ou(o);if(null!==g){!(65536&g.flags)&&(g.flags|=256),au(g,o,a,0,t),sa(Zl(l,a));break e}}s=l=Zl(l,a),4!==kc&&(kc=2),null===Pc?Pc=[s]:Pc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Da(s,ru(0,l,t));break e;case 1:a=l;var y=s.type,v=s.stateNode;if(!(128&s.flags||"function"!=typeof y.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Lc&&Lc.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Da(s,iu(s,a,t));break e}}s=s.return}while(null!==s)}cd(n)}catch(b){t=b,wc===n&&null!==n&&(wc=n=n.return);continue}break}}function id(){var e=mc.current;return mc.current=zl,null===e?zl:e}function sd(){0!==kc&&3!==kc&&2!==kc||(kc=4),null===bc||!(268435455&Tc)&&!(268435455&Nc)||Xc(bc,xc)}function od(e,t){var n=vc;vc|=2;var r=id();for(bc===e&&xc===t||(jc=null,nd(e,t));;)try{ad();break}catch(i){rd(e,i)}if(ya(),vc=n,mc.current=r,null!==wc)throw Error(Ge(261));return bc=null,xc=0,kc}function ad(){for(;null!==wc;)ud(wc)}function ld(){for(;null!==wc&&!Un();)ud(wc)}function ud(e){var t=fc(e.alternate,e,Ec);e.memoizedProps=e.pendingProps,null===t?cd(e):wc=t,gc.current=null}function cd(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Fu(n,t)))return n.flags&=32767,void(wc=n);if(null===e)return kc=6,void(wc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Ou(n,t,Ec)))return void(wc=n);if(null!==(t=t.sibling))return void(wc=t);wc=t=e}while(null!==t);0===kc&&(kc=5)}function dd(e,t,n){var r=cr,i=yc.transition;try{yc.transition=null,cr=1,function(e,t,n,r){do{hd()}while(null!==Fc);if(6&vc)throw Error(Ge(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ge(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Xn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,s),e===bc&&(wc=bc=null,xc=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Oc||(Oc=!0,bd(Hn,(function(){return hd(),null}))),s=!!(15990&n.flags),!!(15990&n.subtreeFlags)||s){s=yc.transition,yc.transition=null;var o=cr;cr=1;var a=vc;vc|=4,gc.current=null,function(e,t){if(qs=Mr,rs(e=ns())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(a=o+i),d!==s||0!==r&&3!==d.nodeType||(l=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ws={focusedElem:e,selectionRange:n},Mr=!1,zu=t;null!==zu;)if(e=(t=zu).child,1028&t.subtreeFlags&&null!==e)e.return=t,zu=e;else for(;null!==zu;){t=zu;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Hl(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(Ge(163))}}catch(w){pd(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,zu=e;break}zu=t.return}p=Wu,Wu=!1}(e,n),oc(n,e),is(Ws),Mr=!!qs,Ws=qs=null,e.current=n,lc(n),Bn(),vc=a,cr=o,yc.transition=s}else e.current=n;if(Oc&&(Oc=!1,Fc=e,Vc=i),s=e.pendingLanes,0===s&&(Lc=null),function(e){if(Yn&&"function"==typeof Yn.onCommitFiberRoot)try{Yn.onCommitFiberRoot(Gn,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),Kc(e,zn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rc)throw Rc=!1,e=Mc,Mc=null,e;!!(1&Vc)&&0!==e.tag&&hd(),s=e.pendingLanes,1&s?e===Bc?Uc++:(Uc=0,Bc=e):Uc=0,jo()}(e,t,n,r)}finally{yc.transition=i,cr=r}return null}function hd(){if(null!==Fc){var e=dr(Vc),t=yc.transition,n=cr;try{if(yc.transition=null,cr=16>e?16:e,null===Fc)var r=!1;else{if(e=Fc,Fc=null,Vc=0,6&vc)throw Error(Ge(331));var i=vc;for(vc|=4,zu=e.current;null!==zu;){var s=zu,o=s.child;if(16&zu.flags){var a=s.deletions;if(null!==a){for(var l=0;l<a.length;l++){var u=a[l];for(zu=u;null!==zu;){var c=zu;switch(c.tag){case 0:case 11:case 15:Hu(8,c,s)}var d=c.child;if(null!==d)d.return=c,zu=d;else for(;null!==zu;){var h=(c=zu).sibling,f=c.return;if(Gu(c),c===u){zu=null;break}if(null!==h){h.return=f,zu=h;break}zu=f}}}var p=s.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}zu=s}}if(2064&s.subtreeFlags&&null!==o)o.return=s,zu=o;else e:for(;null!==zu;){if(2048&(s=zu).flags)switch(s.tag){case 0:case 11:case 15:Hu(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,zu=y;break e}zu=s.return}}var v=e.current;for(zu=v;null!==zu;){var b=(o=zu).child;if(2064&o.subtreeFlags&&null!==b)b.return=o,zu=b;else e:for(o=v;null!==zu;){if(2048&(a=zu).flags)try{switch(a.tag){case 0:case 11:case 15:Ku(9,a)}}catch(x){pd(a,a.return,x)}if(a===o){zu=null;break e}var w=a.sibling;if(null!==w){w.return=a.return,zu=w;break e}zu=a.return}}if(vc=i,jo(),Yn&&"function"==typeof Yn.onPostCommitFiberRoot)try{Yn.onPostCommitFiberRoot(Gn,e)}catch(x){}r=!0}return r}finally{cr=n,yc.transition=t}}return!1}function fd(e,t,n){e=Aa(e,t=ru(0,t=Zl(n,t),1),1),t=qc(),null!==e&&(lr(e,1,t),Kc(e,t))}function pd(e,t,n){if(3===e.tag)fd(e,e,n);else for(;null!==t;){if(3===t.tag){fd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Lc||!Lc.has(r))){t=Aa(t,e=iu(t,e=Zl(n,e),1),1),e=qc(),null!==t&&(lr(t,1,e),Kc(t,e));break}}t=t.return}}function md(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=qc(),e.pingedLanes|=e.suspendedLanes&n,bc===e&&(xc&n)===n&&(4===kc||3===kc&&(130023424&xc)===xc&&500>zn()-Ic?nd(e,0):_c|=n),Kc(e,t)}function gd(e,t){0===t&&(1&e.mode?(t=tr,!(130023424&(tr<<=1))&&(tr=4194304)):t=1);var n=qc();null!==(e=Ca(e,t))&&(lr(e,t,n),Kc(e,n))}function yd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),gd(e,n)}function vd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ge(314))}null!==r&&r.delete(t),gd(e,n)}function bd(e,t){return Fn(e,t)}function wd(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xd(e,t,n,r){return new wd(e,t,n,r)}function Ed(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Sd(e,t){var n=e.alternate;return null===n?((n=xd(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function kd(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)Ed(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case ft:return Cd(n.children,i,s,t);case pt:o=8,i|=8;break;case mt:return(e=xd(12,n,t,2|i)).elementType=mt,e.lanes=s,e;case bt:return(e=xd(13,n,t,i)).elementType=bt,e.lanes=s,e;case wt:return(e=xd(19,n,t,i)).elementType=wt,e.lanes=s,e;case St:return Td(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case gt:o=10;break e;case yt:o=9;break e;case vt:o=11;break e;case xt:o=14;break e;case Et:o=16,r=null;break e}throw Error(Ge(130,null==e?e:typeof e,""))}return(t=xd(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Cd(e,t,n,r){return(e=xd(7,e,r,t)).lanes=n,e}function Td(e,t,n,r){return(e=xd(22,e,r,t)).elementType=St,e.lanes=n,e.stateNode={isHidden:!1},e}function Nd(e,t,n){return(e=xd(6,e,null,t)).lanes=n,e}function _d(e,t,n){return(t=xd(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pd(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ar(0),this.expirationTimes=ar(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ad(e,t,n,r,i,s,o,a,l){return e=new Pd(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=xd(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(s),e}function Id(e){if(!e)return vo;e:{if(jn(e=e._reactInternals)!==e||1!==e.tag)throw Error(Ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(So(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(Ge(171))}if(1===e.tag){var n=e.type;if(So(n))return To(e,n,t)}return t}function Dd(e,t,n,r,i,s,o,a,l){return(e=Ad(n,r,!0,e,0,s,0,a,l)).context=Id(null),n=e.current,(s=Pa(r=qc(),i=Wc(n))).callback=null!=t?t:null,Aa(n,s,i),e.current.lanes=i,lr(e,i,r),Kc(e,r),e}function jd(e,t,n,r){var i=t.current,s=qc(),o=Wc(i);return n=Id(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Aa(i,t,o))&&(Hc(e,i,o,s),Ia(e,i,o)),o}function Rd(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Md(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Ld(e,t){Md(e,t),(e=e.alternate)&&Md(e,t)}fc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||wo.current)uu=!0;else{if(!(e.lanes&n||128&t.flags))return uu=!1,function(e,t,n){switch(t.tag){case 3:bu(t),ia();break;case 5:za(t);break;case 1:So(t.type)&&No(t);break;case 4:Ua(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;yo(fa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(yo(qa,1&qa.current),t.flags|=128,null):n&t.child.childLanes?Nu(e,t,n):(yo(qa,1&qa.current),null!==(e=Ru(e,t,n))?e.sibling:null);yo(qa,1&qa.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Du(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),yo(qa,qa.current),r)break;return null;case 22:case 23:return t.lanes=0,pu(e,t,n)}return Ru(e,t,n)}(e,t,n);uu=!!(131072&e.flags)}else uu=!1,Go&&1048576&t.flags&&qo(t,Oo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ju(e,t),e=t.pendingProps;var i=Eo(t,bo.current);wa(t,n),i=ol(null,t,r,e,i,n);var s=al();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,So(r)?(s=!0,No(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=Ql,t.stateNode=i,i._reactInternals=t,Jl(t,r,e,n),t=vu(null,t,r,!0,s,n)):(t.tag=0,Go&&s&&Wo(t),cu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ju(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Ed(e)?1:0;if(null!=e){if((e=e.$$typeof)===vt)return 11;if(e===xt)return 14}return 2}(r),e=Hl(r,e),i){case 0:t=gu(null,t,r,e,n);break e;case 1:t=yu(null,t,r,e,n);break e;case 11:t=du(null,t,r,e,n);break e;case 14:t=hu(null,t,r,Hl(r.type,e),n);break e}throw Error(Ge(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,gu(e,t,r,i=t.elementType===r?i:Hl(r,i),n);case 1:return r=t.type,i=t.pendingProps,yu(e,t,r,i=t.elementType===r?i:Hl(r,i),n);case 3:e:{if(bu(t),null===e)throw Error(Ge(387));r=t.pendingProps,i=(s=t.memoizedState).element,_a(e,t),ja(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=wu(e,t,r,n,i=Zl(Error(Ge(423)),t));break e}if(r!==i){t=wu(e,t,r,n,i=Zl(Error(Ge(424)),t));break e}for(Qo=Zs(t.stateNode.containerInfo.firstChild),Ko=t,Go=!0,Yo=null,n=ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ia(),r===i){t=Ru(e,t,n);break e}cu(e,t,r,n)}t=t.child}return t;case 5:return za(t),null===e&&ea(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,Hs(r,i)?o=null:null!==s&&Hs(r,s)&&(t.flags|=32),mu(e,t),cu(e,t,o,n),t.child;case 6:return null===e&&ea(t),null;case 13:return Nu(e,t,n);case 4:return Ua(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=da(t,null,r,n):cu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,du(e,t,r,i=t.elementType===r?i:Hl(r,i),n);case 7:return cu(e,t,t.pendingProps,n),t.child;case 8:case 12:return cu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,yo(fa,r._currentValue),r._currentValue=o,null!==s)if(Xi(s.value,o)){if(s.children===i.children&&!wo.current){t=Ru(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var a=s.dependencies;if(null!==a){o=s.child;for(var l=a.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Pa(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ba(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(Ge(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),ba(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}cu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wa(t,n),r=r(i=xa(i)),t.flags|=1,cu(e,t,r,n),t.child;case 14:return i=Hl(r=t.type,t.pendingProps),hu(e,t,r,i=Hl(r.type,i),n);case 15:return fu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Hl(r,i),ju(e,t),t.tag=1,So(r)?(e=!0,No(t)):e=!1,wa(t,n),Yl(t,r,i),Jl(t,r,i,n),vu(null,t,r,!0,e,n);case 19:return Du(e,t,n);case 22:return pu(e,t,n)}throw Error(Ge(156,t.tag))};var Od="function"==typeof reportError?reportError:function(e){console.error(e)};function Fd(e){this._internalRoot=e}function Vd(e){this._internalRoot=e}function Ud(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Bd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zd(){}function $d(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"==typeof i){var a=i;i=function(){var e=Rd(o);a.call(e)}}jd(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=Rd(o);s.call(e)}}var o=Dd(t,r,e,0,null,!1,0,"",zd);return e._reactRootContainer=o,e[io]=o.current,Ds(8===e.nodeType?e.parentNode:e),ed(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=Rd(l);a.call(e)}}var l=Ad(e,0,!1,null,0,!1,0,"",zd);return e._reactRootContainer=l,e[io]=l.current,Ds(8===e.nodeType?e.parentNode:e),ed((function(){jd(t,l,n,r)})),l}(n,t,e,i,r);return Rd(o)}Vd.prototype.render=Fd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(Ge(409));jd(e,t,null,null)},Vd.prototype.unmount=Fd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ed((function(){jd(null,e,null,null)})),t[io]=null}},Vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=mr();e={blockedOn:null,target:e,priority:t};for(var n=0;n<kr.length&&0!==t&&t<kr[n].priority;n++);kr.splice(n,0,e),0===n&&_r(e)}},hr=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=nr(t.pendingLanes);0!==n&&(ur(t,1|n),Kc(t,zn()),!(6&vc)&&(Dc=zn()+500,jo()))}break;case 13:ed((function(){var t=Ca(e,1);if(null!==t){var n=qc();Hc(t,e,1,n)}})),Ld(e,1)}},fr=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)Hc(t,e,134217728,qc());Ld(e,134217728)}},pr=function(e){if(13===e.tag){var t=Wc(e),n=Ca(e,t);if(null!==n)Hc(n,e,t,qc());Ld(e,t)}},mr=function(){return cr},gr=function(e,t){var n=cr;try{return cr=e,t()}finally{cr=n}},fn=function(e,t,n){switch(t){case"input":if(zt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ho(r);if(!i)throw Error(Ge(90));Ot(r),zt(r,i)}}}break;case"textarea":Gt(e,n);break;case"select":null!=(t=n.value)&&Ht(e,!!n.multiple,t,!1)}},bn=Zc,wn=ed;var qd={usingClientEntryPoint:!1,Events:[uo,co,ho,yn,vn,Zc]},Wd={findFiberByHostInstance:lo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hd={bundleType:Wd.bundleType,version:Wd.version,rendererPackageName:Wd.rendererPackageName,rendererConfig:Wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ln(e))?null:e.stateNode},findFiberByHostInstance:Wd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{Gn=Kd.inject(Hd),Yn=Kd}catch(en){}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qd,$e.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ud(t))throw Error(Ge(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ht,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},$e.createRoot=function(e,t){if(!Ud(e))throw Error(Ge(299));var n=!1,r="",i=Od;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ad(e,1,!1,null,0,n,0,r,i),e[io]=t.current,Ds(8===e.nodeType?e.parentNode:e),new Fd(t)},$e.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(Ge(188));throw e=Object.keys(e).join(","),Error(Ge(268,e))}return e=null===(e=Ln(t))?null:e.stateNode},$e.flushSync=function(e){return ed(e)},$e.hydrate=function(e,t,n){if(!Bd(t))throw Error(Ge(200));return $d(null,e,t,!0,n)},$e.hydrateRoot=function(e,t,n){if(!Ud(e))throw Error(Ge(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Od;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Dd(t,null,e,1,null!=n?n:null,i,0,s,o),e[io]=t.current,Ds(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vd(t)},$e.render=function(e,t,n){if(!Bd(t))throw Error(Ge(200));return $d(null,e,t,!1,n)},$e.unmountComponentAtNode=function(e){if(!Bd(e))throw Error(Ge(40));return!!e._reactRootContainer&&(ed((function(){$d(null,null,e,!1,(function(){e._reactRootContainer=null,e[io]=null}))})),!0)},$e.unstable_batchedUpdates=Zc,$e.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bd(n))throw Error(Ge(200));if(null==e||void 0===e._reactInternals)throw Error(Ge(38));return $d(e,t,n,!1,r)},$e.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),ze.exports=$e;var Qd=ze.exports;const Gd=H(Qd);var Yd,Xd=Qd;Yd=Xd.createRoot,Xd.hydrateRoot;var Jd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zd="undefined"==typeof window||"Deno"in globalThis;function eh(){}function th(e,t){return"function"==typeof e?e(t):e}function nh(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o)if(r){if(t.queryHash!==ih(o,t.options))return!1}else if(!oh(t.queryKey,o))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&((!i||i===t.state.fetchStatus)&&!(s&&!s(t)))}function rh(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(sh(t.options.mutationKey)!==sh(s))return!1}else if(!oh(t.options.mutationKey,s))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function ih(e,t){return((null==t?void 0:t.queryKeyHashFn)||sh)(e)}function sh(e){return JSON.stringify(e,((e,t)=>uh(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function oh(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((n=>!oh(e[n],t[n]))))}function ah(e,t){if(e===t)return e;const n=lh(e)&&lh(t);if(n||uh(e)&&uh(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const i=n?u:s[u];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(a[i]=void 0,l++):(a[i]=ah(e[i],t[i]),a[i]===e[i]&&void 0!==e[i]&&l++)}return i===o&&l===i?e:a}return t}function lh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function uh(e){if(!ch(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!ch(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function ch(e){return"[object Object]"===Object.prototype.toString.call(e)}function dh(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?ah(e,t):t}function hh(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function fh(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ph=Symbol();function mh(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==ph?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var gh=new(r=class extends Jd{constructor(){super(),B(this,e,void 0),B(this,t,void 0),B(this,n,void 0),z(this,n,(e=>{if(!Zd&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}))}onSubscribe(){U(this,t)||this.setEventListener(U(this,n))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=U(this,t))||e.call(this),z(this,t,void 0))}setEventListener(e){var r;z(this,n,e),null==(r=U(this,t))||r.call(this),z(this,t,e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})))}setFocused(t){U(this,e)!==t&&(z(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){var t;return"boolean"==typeof U(this,e)?U(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,n=new WeakMap,r),yh=new(a=class extends Jd{constructor(){super(),B(this,i,!0),B(this,s,void 0),B(this,o,void 0),z(this,o,(e=>{if(!Zd&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}))}onSubscribe(){U(this,s)||this.setEventListener(U(this,o))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=U(this,s))||e.call(this),z(this,s,void 0))}setEventListener(e){var t;z(this,o,e),null==(t=U(this,s))||t.call(this),z(this,s,e(this.setOnline.bind(this)))}setOnline(e){U(this,i)!==e&&(z(this,i,e),this.listeners.forEach((t=>{t(e)})))}isOnline(){return U(this,i)}},i=new WeakMap,s=new WeakMap,o=new WeakMap,a);function vh(e){return Math.min(1e3*2**e,3e4)}function bh(e){return"online"!==(e??"online")||yh.isOnline()}var wh=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function xh(e){return e instanceof wh}function Eh(e){let t,n=!1,r=0,i=!1;const s=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),o=()=>gh.isFocused()&&("always"===e.networkMode||yh.isOnline())&&e.canRun(),a=()=>bh(e.networkMode)&&e.canRun(),l=n=>{var r;i||(i=!0,null==(r=e.onSuccess)||r.call(e,n),null==t||t(),s.resolve(n))},u=n=>{var r;i||(i=!0,null==(r=e.onError)||r.call(e,n),null==t||t(),s.reject(n))},c=()=>new Promise((n=>{var r;t=e=>{(i||o())&&n(e)},null==(r=e.onPause)||r.call(e)})).then((()=>{var n;t=void 0,i||null==(n=e.onContinue)||n.call(e)})),d=()=>{if(i)return;let t;const s=0===r?e.initialPromise:void 0;try{t=s??e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(l).catch((t=>{var s;if(i)return;const a=e.retry??(Zd?0:3),l=e.retryDelay??vh,h="function"==typeof l?l(r,t):l,f=!0===a||"number"==typeof a&&r<a||"function"==typeof a&&a(r,t);var p;!n&&f?(r++,null==(s=e.onFail)||s.call(e,r,t),(p=h,new Promise((e=>{setTimeout(e,p)}))).then((()=>o()?void 0:c())).then((()=>{n?u(t):d()}))):u(t)}))};return{promise:s,cancel:t=>{var n;i||(u(new wh(t)),null==(n=e.abort)||n.call(e))},continue:()=>(null==t||t(),s),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?d():c().then(d),s)}}var Sh=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=e=>setTimeout(e,0);const s=r=>{t?e.push(r):i((()=>{n(r)}))};return{batch:s=>{let o;t++;try{o=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return o},batchCalls:e=>(...t)=>{s((()=>{e(...t)}))},schedule:s,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),kh=(u=class{constructor(){B(this,l,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&z(this,l,setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zd?1/0:3e5))}clearGcTimeout(){U(this,l)&&(clearTimeout(U(this,l)),z(this,l,void 0))}},l=new WeakMap,u),Ch=(v=class extends kh{constructor(e){super(),B(this,g),B(this,c,void 0),B(this,d,void 0),B(this,h,void 0),B(this,f,void 0),B(this,p,void 0),B(this,m,void 0),z(this,m,!1),z(this,p,e.defaultOptions),this.setOptions(e.options),this.observers=[],z(this,h,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,z(this,c,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??U(this,c),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=U(this,f))?void 0:e.promise}setOptions(e){this.options={...U(this,p),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||U(this,h).remove(this)}setData(e,t){const n=dh(this.state.data,e,this.options);return q(this,g,y).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){q(this,g,y).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null==(t=U(this,f))?void 0:t.promise;return null==(n=U(this,f))||n.cancel(e),r?r.then(eh).catch(eh):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,c))}isActive(){return this.observers.some((e=>{return!1!==(t=e.options.enabled,n=this,"function"==typeof t?t(n):t);var t,n}))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ph||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));null==t||t.refetch({cancelRefetch:!1}),null==(e=U(this,f))||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));null==t||t.refetch({cancelRefetch:!1}),null==(e=U(this,f))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),U(this,h).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(U(this,f)&&(U(this,m)?U(this,f).cancel({revert:!0}):U(this,f).cancelRetry()),this.scheduleGc()),U(this,h).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||q(this,g,y).call(this,{type:"invalidate"})}fetch(e,t){var n,r,i;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(U(this,f))return U(this,f).continueRetry(),U(this,f).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const s=new AbortController,o=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(z(this,m,!0),s.signal)})},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const e=mh(this.options,t),n={queryKey:this.queryKey,meta:this.meta};return o(n),z(this,m,!1),this.options.persister?this.options.persister(e,n,this):e(n)}};o(a),null==(n=this.options.behavior)||n.onFetch(a,this),z(this,d,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(r=a.fetchOptions)?void 0:r.meta)||q(this,g,y).call(this,{type:"fetch",meta:null==(i=a.fetchOptions)?void 0:i.meta});const l=e=>{var t,n,r,i;xh(e)&&e.silent||q(this,g,y).call(this,{type:"error",error:e}),xh(e)||(null==(n=(t=U(this,h).config).onError)||n.call(t,e,this),null==(i=(r=U(this,h).config).onSettled)||i.call(r,this.state.data,e,this)),this.scheduleGc()};return z(this,f,Eh({initialPromise:null==t?void 0:t.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:e=>{var t,n,r,i;if(void 0!==e){try{this.setData(e)}catch(s){return void l(s)}null==(n=(t=U(this,h).config).onSuccess)||n.call(t,e,this),null==(i=(r=U(this,h).config).onSettled)||i.call(r,e,this.state.error,this),this.scheduleGc()}else l(new Error(`${this.queryHash} data is undefined`))},onError:l,onFail:(e,t)=>{q(this,g,y).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{q(this,g,y).call(this,{type:"pause"})},onContinue:()=>{q(this,g,y).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,f).start()}},c=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakSet,y=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(n=t.data,r=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bh(r.networkMode)?"fetching":"paused",...void 0===n&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return xh(i)&&i.revert&&U(this,d)?{...U(this,d),fetchStatus:"idle"}:{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var n,r})(this.state),Sh.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),U(this,h).notify({query:this,type:"updated",action:e})}))},v);var Th=(w=class extends Jd{constructor(e={}){super(),B(this,b,void 0),this.config=e,z(this,b,new Map)}build(e,t,n){const r=t.queryKey,i=t.queryHash??ih(r,t);let s=this.get(i);return s||(s=new Ch({cache:this,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){U(this,b).has(e.queryHash)||(U(this,b).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=U(this,b).get(e.queryHash);t&&(e.destroy(),t===e&&U(this,b).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Sh.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return U(this,b).get(e)}getAll(){return[...U(this,b).values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>nh(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>nh(e,t))):t}notify(e){Sh.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){Sh.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){Sh.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},b=new WeakMap,w),Nh=(T=class extends kh{constructor(e){super(),B(this,k),B(this,x,void 0),B(this,E,void 0),B(this,S,void 0),this.mutationId=e.mutationId,z(this,E,e.mutationCache),z(this,x,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,x).includes(e)||(U(this,x).push(e),this.clearGcTimeout(),U(this,E).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){z(this,x,U(this,x).filter((t=>t!==e))),this.scheduleGc(),U(this,E).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,x).length||("pending"===this.state.status?this.scheduleGc():U(this,E).remove(this))}continue(){var e;return(null==(e=U(this,S))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,r,i,s,o,a,l,u,c,d,h,f,p,m,g,y,v,b,w;z(this,S,Eh({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{q(this,k,C).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{q(this,k,C).call(this,{type:"pause"})},onContinue:()=>{q(this,k,C).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,E).canRun(this)}));const x="pending"===this.state.status,T=!U(this,S).canStart();try{if(!x){q(this,k,C).call(this,{type:"pending",variables:e,isPaused:T}),await(null==(n=(t=U(this,E).config).onMutate)?void 0:n.call(t,e,this));const s=await(null==(i=(r=this.options).onMutate)?void 0:i.call(r,e));s!==this.state.context&&q(this,k,C).call(this,{type:"pending",context:s,variables:e,isPaused:T})}const f=await U(this,S).start();return await(null==(o=(s=U(this,E).config).onSuccess)?void 0:o.call(s,f,e,this.state.context,this)),await(null==(l=(a=this.options).onSuccess)?void 0:l.call(a,f,e,this.state.context)),await(null==(c=(u=U(this,E).config).onSettled)?void 0:c.call(u,f,null,this.state.variables,this.state.context,this)),await(null==(h=(d=this.options).onSettled)?void 0:h.call(d,f,null,e,this.state.context)),q(this,k,C).call(this,{type:"success",data:f}),f}catch(N){try{throw await(null==(p=(f=U(this,E).config).onError)?void 0:p.call(f,N,e,this.state.context,this)),await(null==(g=(m=this.options).onError)?void 0:g.call(m,N,e,this.state.context)),await(null==(v=(y=U(this,E).config).onSettled)?void 0:v.call(y,void 0,N,this.state.variables,this.state.context,this)),await(null==(w=(b=this.options).onSettled)?void 0:w.call(b,void 0,N,e,this.state.context)),N}finally{q(this,k,C).call(this,{type:"error",error:N})}}finally{U(this,E).runNext(this)}}},x=new WeakMap,E=new WeakMap,S=new WeakMap,k=new WeakSet,C=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Sh.batch((()=>{U(this,x).forEach((t=>{t.onMutationUpdate(e)})),U(this,E).notify({mutation:this,type:"updated",action:e})}))},T);var _h=(P=class extends Jd{constructor(e={}){super(),B(this,N,void 0),B(this,_,void 0),this.config=e,z(this,N,new Map),z(this,_,Date.now())}build(e,t,n){const r=new Nh({mutationCache:this,mutationId:++$(this,_)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=Ph(e),n=U(this,N).get(t)??[];n.push(e),U(this,N).set(t,n),this.notify({type:"added",mutation:e})}remove(e){var t;const n=Ph(e);if(U(this,N).has(n)){const r=null==(t=U(this,N).get(n))?void 0:t.filter((t=>t!==e));r&&(0===r.length?U(this,N).delete(n):U(this,N).set(n,r))}this.notify({type:"removed",mutation:e})}canRun(e){var t;const n=null==(t=U(this,N).get(Ph(e)))?void 0:t.find((e=>"pending"===e.state.status));return!n||n===e}runNext(e){var t;const n=null==(t=U(this,N).get(Ph(e)))?void 0:t.find((t=>t!==e&&t.state.isPaused));return(null==n?void 0:n.continue())??Promise.resolve()}clear(){Sh.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}getAll(){return[...U(this,N).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find((e=>rh(t,e)))}findAll(e={}){return this.getAll().filter((t=>rh(e,t)))}notify(e){Sh.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return Sh.batch((()=>Promise.all(e.map((e=>e.continue().catch(eh))))))}},N=new WeakMap,_=new WeakMap,P);function Ph(e){var t;return(null==(t=e.options.scope)?void 0:t.id)??String(e.mutationId)}function Ah(e){return{onFetch:(t,n)=>{var r,i,s,o,a;const l=t.options,u=null==(s=null==(i=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:i.fetchMore)?void 0:s.direction,c=(null==(o=t.state.data)?void 0:o.pages)||[],d=(null==(a=t.state.data)?void 0:a.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let n=!1;const r=mh(t.options,t.fetchOptions),i=async(e,i,s)=>{if(n)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);const o={queryKey:t.queryKey,pageParam:i,direction:s?"backward":"forward",meta:t.options.meta};var a;a=o,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const l=await r(o),{maxPages:u}=t.options,c=s?fh:hh;return{pages:c(e.pages,l,u),pageParams:c(e.pageParams,i,u)}};if(u&&c.length){const e="backward"===u,t={pages:c,pageParams:d},n=(e?Dh:Ih)(l,t);h=await i(t,n,e)}else{const t=e??c.length;do{const e=0===f?d[0]??l.initialPageParam:Ih(l,h);if(f>0&&null==e)break;h=await i(h,e),f++}while(f<t)}return h};t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,p,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function Ih(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Dh(e,{pages:t,pageParams:n}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n):void 0}var jh=(F=class{constructor(e={}){B(this,A,void 0),B(this,I,void 0),B(this,D,void 0),B(this,j,void 0),B(this,R,void 0),B(this,M,void 0),B(this,L,void 0),B(this,O,void 0),z(this,A,e.queryCache||new Th),z(this,I,e.mutationCache||new _h),z(this,D,e.defaultOptions||{}),z(this,j,new Map),z(this,R,new Map),z(this,M,0)}mount(){$(this,M)._++,1===U(this,M)&&(z(this,L,gh.subscribe((async e=>{e&&(await this.resumePausedMutations(),U(this,A).onFocus())}))),z(this,O,yh.subscribe((async e=>{e&&(await this.resumePausedMutations(),U(this,A).onOnline())}))))}unmount(){var e,t;$(this,M)._--,0===U(this,M)&&(null==(e=U(this,L))||e.call(this),z(this,L,void 0),null==(t=U(this,O))||t.call(this),z(this,O,void 0))}isFetching(e){return U(this,A).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,I).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=U(this,A).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=U(this,A).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(th(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return U(this,A).findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=U(this,A).get(r.queryHash),s=function(e,t){return"function"==typeof e?e(t):e}(t,null==i?void 0:i.state.data);if(void 0!==s)return U(this,A).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Sh.batch((()=>U(this,A).findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=U(this,A).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=U(this,A);Sh.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=U(this,A),r={type:"active",...e};return Sh.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries(r,t))))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Sh.batch((()=>U(this,A).findAll(e).map((e=>e.cancel(n)))));return Promise.all(r).then(eh).catch(eh)}invalidateQueries(e={},t={}){return Sh.batch((()=>{if(U(this,A).findAll(e).forEach((e=>{e.invalidate()})),"none"===e.refetchType)return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)}))}refetchQueries(e={},t){const n={...t,cancelRefetch:(null==t?void 0:t.cancelRefetch)??!0},r=Sh.batch((()=>U(this,A).findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(eh)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(eh)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=U(this,A).build(this,t);return n.isStaleByTime(th(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(eh).catch(eh)}fetchInfiniteQuery(e){return e.behavior=Ah(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(eh).catch(eh)}ensureInfiniteQueryData(e){return e.behavior=Ah(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yh.isOnline()?U(this,I).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,A)}getMutationCache(){return U(this,I)}getDefaultOptions(){return U(this,D)}setDefaultOptions(e){z(this,D,e)}setQueryDefaults(e,t){U(this,j).set(sh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,j).values()];let n={};return t.forEach((t=>{oh(e,t.queryKey)&&(n={...n,...t.defaultOptions})})),n}setMutationDefaults(e,t){U(this,R).set(sh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,R).values()];let n={};return t.forEach((t=>{oh(e,t.mutationKey)&&(n={...n,...t.defaultOptions})})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,D).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ih(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===ph&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...U(this,D).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,A).clear(),U(this,I).clear()}},A=new WeakMap,I=new WeakMap,D=new WeakMap,j=new WeakMap,R=new WeakMap,M=new WeakMap,L=new WeakMap,O=new WeakMap,F),Rh=Ie.createContext(void 0),Mh=({client:e,children:t})=>(Ie.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),Be.jsx(Rh.Provider,{value:e,children:t}));const Lh=["light","dark"],Oh="(prefers-color-scheme: dark)",Fh="undefined"==typeof window,Vh=Ie.createContext(void 0),Uh={setTheme:e=>{},themes:[]},Bh=e=>Ie.useContext(Vh)?De.createElement(Ie.Fragment,null,e.children):De.createElement($h,e),zh=["light","dark"],$h=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=zh,defaultTheme:o=(n?"system":"light"),attribute:a="data-theme",value:l,children:u,nonce:c})=>{const[d,h]=Ie.useState((()=>Wh(i,o))),[f,p]=Ie.useState((()=>Wh(i))),m=l?Object.values(l):s,g=Ie.useCallback((e=>{let i=e;if(!i)return;"system"===e&&n&&(i=Kh());const s=l?l[i]:i,u=t?Hh():null,c=document.documentElement;if("class"===a?(c.classList.remove(...m),s&&c.classList.add(s)):s?c.setAttribute(a,s):c.removeAttribute(a),r){const e=Lh.includes(o)?o:null,t=Lh.includes(i)?i:e;c.style.colorScheme=t}null==u||u()}),[]),y=Ie.useCallback((e=>{h(e);try{localStorage.setItem(i,e)}catch(t){}}),[e]),v=Ie.useCallback((t=>{const r=Kh(t);p(r),"system"===d&&n&&!e&&g("system")}),[d,e]);Ie.useEffect((()=>{const e=window.matchMedia(Oh);return e.addListener(v),v(e),()=>e.removeListener(v)}),[v]),Ie.useEffect((()=>{const e=e=>{e.key===i&&y(e.newValue||o)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[y]),Ie.useEffect((()=>{g(null!=e?e:d)}),[e,d]);const b=Ie.useMemo((()=>({theme:d,setTheme:y,forcedTheme:e,resolvedTheme:"system"===d?f:d,themes:n?[...s,"system"]:s,systemTheme:n?f:void 0})),[d,y,e,f,n,s]);return De.createElement(Vh.Provider,{value:b},De.createElement(qh,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:i,themes:s,defaultTheme:o,attribute:a,value:l,children:u,attrs:m,nonce:c}),u)},qh=Ie.memo((({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{const u="system"===s,c="class"===n?`var d=document.documentElement,c=d.classList;c.remove(${a.map((e=>`'${e}'`)).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?Lh.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(e,t=!1,r=!0)=>{const s=o?o[e]:e,a=t?e+"|| ''":`'${s}'`;let l="";return i&&r&&!t&&Lh.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===n?l+=t||s?`c.add(${a})`:"null":s&&(l+=`d[s](n,${a})`),l},f=e?`!function(){${c}${h(e)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Oh}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return De.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})}),(()=>!0)),Wh=(e,t)=>{if(Fh)return;let n;try{n=localStorage.getItem(e)||void 0}catch(r){}return n||t},Hh=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout((()=>{document.head.removeChild(e)}),1)}},Kh=e=>(e||(e=window.matchMedia(Oh)),e.matches?"dark":"light")
/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */;function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qh.apply(this,arguments)}var Gh,Yh;(Yh=Gh||(Gh={})).Pop="POP",Yh.Push="PUSH",Yh.Replace="REPLACE";const Xh="popstate";function Jh(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Gh.Pop,l=null,u=c();null==u&&(u=0,o.replaceState(Qh({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Gh.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:m.location,delta:t})}function h(e,t){a=Gh.Push;let r=nf(m.location,e,t);n&&n(r,e),u=c()+1;let d=tf(r,u),h=m.createHref(r);try{o.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}s&&l&&l({action:a,location:m.location,delta:1})}function f(e,t){a=Gh.Replace;let r=nf(m.location,e,t);n&&n(r,e),u=c();let i=tf(r,u),d=m.createHref(r);o.replaceState(i,"",d),s&&l&&l({action:a,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:rf(e);return n=n.replace(/ $/,"%20"),Zh(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Xh,d),l=e,()=>{i.removeEventListener(Xh,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>o.go(e)};return m}((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return nf("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:rf(t)}),null,e)}function Zh(e,t){if(!1===e||null==e)throw new Error(t)}function ef(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function tf(e,t){return{usr:e.state,key:e.key,idx:t}}function nf(e,t,n,r){return void 0===n&&(n=null),Qh({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?sf(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function rf(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function sf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var of,af;function lf(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let i="string"==typeof t?sf(t):t,s=Ef(i.pathname||"/",n);if(null==s)return null;let o=uf(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let l=0;null==a&&l<o.length;++l){let e=xf(s);a=bf(o[l],e,r)}return a}(e,t,n,!1)}function uf(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(Zh(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=Tf([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(Zh(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),uf(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:vf(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of cf(e.path))i(e,t,r);else i(e,t)})),t}function cf(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=cf(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}(af=of||(of={})).data="data",af.deferred="deferred",af.redirect="redirect",af.error="error";const df=/^:[\w-]+$/,hf=3,ff=2,pf=1,mf=10,gf=-2,yf=e=>"*"===e;function vf(e,t){let n=e.split("/"),r=n.length;return n.some(yf)&&(r+=gf),t&&(r+=ff),n.filter((e=>!yf(e))).reduce(((e,t)=>e+(df.test(t)?hf:""===t?pf:mf)),r)}function bf(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=wf({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=wf({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:Tf([s,c.pathname]),pathnameBase:Nf(Tf([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=Tf([s,c.pathnameBase]))}return o}function wf(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);ef("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function xf(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return ef(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Ef(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Sf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function kf(e,t){let n=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function Cf(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=sf(e):(i=Qh({},e),Zh(!i.pathname||!i.pathname.includes("?"),Sf("?","pathname","search",i)),Zh(!i.pathname||!i.pathname.includes("#"),Sf("#","pathname","hash",i)),Zh(!i.search||!i.search.includes("#"),Sf("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?sf(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:_f(r),hash:Pf(i)}}(i,s),u=a&&"/"!==a&&a.endsWith("/"),c=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const Tf=e=>e.join("/").replace(/\/\/+/g,"/"),Nf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_f=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Pf=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const Af=["post","put","patch","delete"];new Set(Af);const If=["get",...Af];
/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Df.apply(this,arguments)}new Set(If);const jf=Ie.createContext(null),Rf=Ie.createContext(null),Mf=Ie.createContext(null),Lf=Ie.createContext(null),Of=Ie.createContext({outlet:null,matches:[],isDataRoute:!1}),Ff=Ie.createContext(null);function Vf(){return null!=Ie.useContext(Lf)}function Uf(){return Vf()||Zh(!1),Ie.useContext(Lf).location}function Bf(e){Ie.useContext(Mf).static||Ie.useLayoutEffect(e)}function zf(){let{isDataRoute:e}=Ie.useContext(Of);return e?function(){let{router:e}=function(){let e=Ie.useContext(jf);return e||Zh(!1),e}(Yf.UseNavigateStable),t=Jf(Xf.UseNavigateStable),n=Ie.useRef(!1);return Bf((()=>{n.current=!0})),Ie.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Df({fromRouteId:t},i)))}),[e,t])}():function(){Vf()||Zh(!1);let e=Ie.useContext(jf),{basename:t,future:n,navigator:r}=Ie.useContext(Mf),{matches:i}=Ie.useContext(Of),{pathname:s}=Uf(),o=JSON.stringify(kf(i,n.v7_relativeSplatPath)),a=Ie.useRef(!1);return Bf((()=>{a.current=!0})),Ie.useCallback((function(n,i){if(void 0===i&&(i={}),!a.current)return;if("number"==typeof n)return void r.go(n);let l=Cf(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Tf([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[t,r,o,s,e])}()}function $f(){let{matches:e}=Ie.useContext(Of),t=e[e.length-1];return t?t.params:{}}function qf(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=Ie.useContext(Mf),{matches:i}=Ie.useContext(Of),{pathname:s}=Uf(),o=JSON.stringify(kf(i,r.v7_relativeSplatPath));return Ie.useMemo((()=>Cf(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function Wf(e,t){return function(e,t,n,r){Vf()||Zh(!1);let{navigator:i}=Ie.useContext(Mf),{matches:s}=Ie.useContext(Of),o=s[s.length-1],a=o?o.params:{};!o||o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u,c=Uf();if(t){var d;let e="string"==typeof t?sf(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||Zh(!1),u=e}else u=c;let h=u.pathname||"/",f=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=lf(e,{pathname:f}),m=function(e,t,n,r){var i;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id])));e>=0||Zh(!1),o=o.slice(0,Math.min(o.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let e=o[c];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=c),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,r,i)=>{let s,c=!1,d=null,h=null;var f;n&&(s=a&&r.route.id?a[r.route.id]:void 0,d=r.route.errorElement||Kf,l&&(u<0&&0===i?(f="route-fallback",!1||Zf[f]||(Zf[f]=!0),c=!0,h=null):u===i&&(c=!0,h=r.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,i+1)),m=()=>{let t;return t=s?d:c?h:r.route.Component?Ie.createElement(r.route.Component,null):r.route.element?r.route.element:e,Ie.createElement(Gf,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?Ie.createElement(Qf,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:Tf([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Tf([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);if(t&&m)return Ie.createElement(Lf.Provider,{value:{location:Df({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Gh.Pop}},m);return m}(e,t)}function Hf(){let e=function(){var e;let t=Ie.useContext(Ff),n=function(){let e=Ie.useContext(Rf);return e||Zh(!1),e}(Xf.UseRouteError),r=Jf(Xf.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ie.createElement(Ie.Fragment,null,Ie.createElement("h2",null,"Unexpected Application Error!"),Ie.createElement("h3",{style:{fontStyle:"italic"}},t),n?Ie.createElement("pre",{style:r},n):null,null)}const Kf=Ie.createElement(Hf,null);class Qf extends Ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?Ie.createElement(Of.Provider,{value:this.props.routeContext},Ie.createElement(Ff.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gf(e){let{routeContext:t,match:n,children:r}=e,i=Ie.useContext(jf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Ie.createElement(Of.Provider,{value:t},r)}var Yf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Yf||{}),Xf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xf||{});function Jf(e){let t=function(){let e=Ie.useContext(Of);return e||Zh(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||Zh(!1),n.route.id}const Zf={};function ep(e){Zh(!1)}function tp(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Gh.Pop,navigator:s,static:o=!1,future:a}=e;Vf()&&Zh(!1);let l=t.replace(/^\/*/,"/"),u=Ie.useMemo((()=>({basename:l,navigator:s,static:o,future:Df({v7_relativeSplatPath:!1},a)})),[l,a,s,o]);"string"==typeof r&&(r=sf(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=Ie.useMemo((()=>{let e=Ef(c,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:i}}),[l,c,d,h,f,p,i]);return null==m?null:Ie.createElement(Mf.Provider,{value:u},Ie.createElement(Lf.Provider,{children:n,value:m}))}function np(e){let{children:t,location:n}=e;return Wf(rp(t),n)}function rp(e,t){void 0===t&&(t=[]);let n=[];return Ie.Children.forEach(e,((e,r)=>{if(!Ie.isValidElement(e))return;let i=[...t,r];if(e.type===Ie.Fragment)return void n.push.apply(n,rp(e.props.children,i));e.type!==ep&&Zh(!1),e.props.index&&e.props.children&&Zh(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=rp(e.props.children,i)),n.push(s)})),n}
/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ip.apply(this,arguments)}function sp(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Promise((()=>{}));const op=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(OR){}const ap=je.startTransition;function lp(e){let{basename:t,children:n,future:r,window:i}=e,s=Ie.useRef();null==s.current&&(s.current=Jh({window:i,v5Compat:!0}));let o=s.current,[a,l]=Ie.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=Ie.useCallback((e=>{u&&ap?ap((()=>l(e))):l(e)}),[l,u]);return Ie.useLayoutEffect((()=>o.listen(c)),[o,c]),Ie.createElement(tp,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const up="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,cp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dp=Ie.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,op),{basename:f}=Ie.useContext(Mf),p=!1;if("string"==typeof u&&cp.test(u)&&(n=u,up))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=Ef(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:p=!0}catch(OR){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;Vf()||Zh(!1);let{basename:r,navigator:i}=Ie.useContext(Mf),{hash:s,pathname:o,search:a}=qf(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:Tf([r,o])),i.createHref({pathname:l,search:a,hash:s})}(u,{relative:i}),g=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=void 0===t?{}:t,l=zf(),u=Uf(),c=qf(e,{relative:o});return Ie.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:rf(u)===rf(c);l(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a})}}),[u,l,c,r,i,n,e,s,o,a])}(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});return Ie.createElement("a",ip({},h,{href:n||m,onClick:p||s?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))}));var hp,fp,pp,mp;function gp(e){let t=Ie.useRef(sp(e)),n=Ie.useRef(!1),r=Uf(),i=Ie.useMemo((()=>function(e,t){let n=sp(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),s=zf(),o=Ie.useCallback(((e,t)=>{const r=sp("function"==typeof e?e(i):e);n.current=!0,s("?"+r,t)}),[s,i]);return[i,o]}(fp=hp||(hp={})).UseScrollRestoration="useScrollRestoration",fp.UseSubmit="useSubmit",fp.UseSubmitFetcher="useSubmitFetcher",fp.UseFetcher="useFetcher",fp.useViewTransitionState="useViewTransitionState",(mp=pp||(pp={})).UseFetcher="useFetcher",mp.UseFetchers="useFetchers",mp.UseScrollRestoration="useScrollRestoration";let yp=0;const vp=new Map,bp=e=>{if(vp.has(e))return;const t=setTimeout((()=>{vp.delete(e),Sp({type:"REMOVE_TOAST",toastId:e})}),1e6);vp.set(e,t)},wp=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case"DISMISS_TOAST":{const{toastId:n}=t;return n?bp(n):e.toasts.forEach((e=>{bp(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===n||void 0===n?{...e,open:!1}:e))}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))}}},xp=[];let Ep={toasts:[]};function Sp(e){Ep=wp(Ep,e),xp.forEach((e=>{e(Ep)}))}function kp({...e}){const t=(yp=(yp+1)%Number.MAX_SAFE_INTEGER,yp.toString()),n=()=>Sp({type:"DISMISS_TOAST",toastId:t});return Sp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>Sp({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function Cp(){const[e,t]=Ie.useState(Ep);return Ie.useEffect((()=>(xp.push(t),()=>{const e=xp.indexOf(t);e>-1&&xp.splice(e,1)})),[e]),{...e,toast:kp,dismiss:e=>Sp({type:"DISMISS_TOAST",toastId:e})}}function Tp(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function Np(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function _p(...e){return Ie.useCallback(Np(...e),e)}function Pp(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return Ie.useMemo((()=>({[`__scope${t.scopeName}`]:r})),[r])}};return n.scopeName=t.scopeName,n}var Ap=Ie.forwardRef(((e,t)=>{const{children:n,...r}=e,i=Ie.Children.toArray(n),s=i.find(jp);if(s){const e=s.props.children,n=i.map((t=>t===s?Ie.Children.count(e)>1?Ie.Children.only(null):Ie.isValidElement(e)?e.props.children:null:t));return Be.jsx(Ip,{...r,ref:t,children:Ie.isValidElement(e)?Ie.cloneElement(e,void 0,n):null})}return Be.jsx(Ip,{...r,ref:t,children:n})}));Ap.displayName="Slot";var Ip=Ie.forwardRef(((e,t)=>{const{children:n,...r}=e;if(Ie.isValidElement(n)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n);return Ie.cloneElement(n,{...Rp(r,n.props),ref:t?Np(t,e):e})}return Ie.Children.count(n)>1?Ie.Children.only(null):null}));Ip.displayName="SlotClone";var Dp=({children:e})=>Be.jsx(Be.Fragment,{children:e});function jp(e){return Ie.isValidElement(e)&&e.type===Dp}function Rp(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...e)=>{s(...e),i(...e)}:i&&(n[r]=i):"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Mp(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return Ie.useMemo((()=>({[`__scope${t.scopeName}`]:r})),[r])}};return n.scopeName=t.scopeName,n}var Lp=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=Ie.forwardRef(((e,n)=>{const{asChild:r,...i}=e,s=r?Ap:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),Be.jsx(s,{...i,ref:n})}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});function Op(e,t){e&&Qd.flushSync((()=>e.dispatchEvent(t)))}function Fp(e){const t=Ie.useRef(e);return Ie.useEffect((()=>{t.current=e})),Ie.useMemo((()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}var Vp,Up="dismissableLayer.update",Bp="dismissableLayer.pointerDownOutside",zp="dismissableLayer.focusOutside",$p=Ie.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qp=Ie.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,u=Ie.useContext($p),[c,d]=Ie.useState(null),h=(null==c?void 0:c.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,f]=Ie.useState({}),p=_p(t,(e=>d(e))),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),v=c?m.indexOf(c):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,x=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Fp(e),r=Ie.useRef(!1),i=Ie.useRef((()=>{}));return Ie.useEffect((()=>{const e=e=>{if(e.target&&!r.current){let r=function(){Kp(Bp,n,s,{discrete:!0})};const s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:()=>r.current=!0}}((e=>{const t=e.target,n=[...u.branches].some((e=>e.contains(t)));w&&!n&&(null==i||i(e),null==o||o(e),e.defaultPrevented||null==a||a())}),h),E=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Fp(e),r=Ie.useRef(!1);return Ie.useEffect((()=>{const e=e=>{if(e.target&&!r.current){Kp(zp,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(null==s||s(e),null==o||o(e),e.defaultPrevented||null==a||a())}),h);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Fp(e);Ie.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[n,t])}((e=>{v===u.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&a&&(e.preventDefault(),a()))}),h),Ie.useEffect((()=>{if(c)return n&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(Vp=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Hp(),()=>{n&&1===u.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=Vp)}}),[c,h,n,u]),Ie.useEffect((()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Hp())}),[c,u]),Ie.useEffect((()=>{const e=()=>f({});return document.addEventListener(Up,e),()=>document.removeEventListener(Up,e)}),[]),Be.jsx(Lp.div,{...l,ref:p,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:Tp(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Tp(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Tp(e.onPointerDownCapture,x.onPointerDownCapture)})}));qp.displayName="DismissableLayer";var Wp=Ie.forwardRef(((e,t)=>{const n=Ie.useContext($p),r=Ie.useRef(null),i=_p(t,r);return Ie.useEffect((()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}}),[n.branches]),Be.jsx(Lp.div,{...e,ref:i})}));function Hp(){const e=new CustomEvent(Up);document.dispatchEvent(e)}function Kp(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Op(i,s):i.dispatchEvent(s)}Wp.displayName="DismissableLayerBranch";var Qp=qp,Gp=Wp,Yp=Boolean(null==globalThis?void 0:globalThis.document)?Ie.useLayoutEffect:()=>{},Xp=Ie.forwardRef(((e,t)=>{var n;const{container:r,...i}=e,[s,o]=Ie.useState(!1);Yp((()=>o(!0)),[]);const a=r||s&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return a?Gd.createPortal(Be.jsx(Lp.div,{...i,ref:t}),a):null}));Xp.displayName="Portal";var Jp=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=Ie.useState(),r=Ie.useRef({}),i=Ie.useRef(e),s=Ie.useRef("none"),o=e?"mounted":"unmounted",[a,l]=function(e,t){return Ie.useReducer(((e,n)=>t[e][n]??e),e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Ie.useEffect((()=>{const e=Zp(r.current);s.current="mounted"===a?e:"none"}),[a]),Yp((()=>{const t=r.current,n=i.current;if(n!==e){const r=s.current,o=Zp(t);if(e)l("MOUNT");else if("none"===o||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,l]),Yp((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,o=s=>{const o=Zp(r.current).includes(s.animationName);if(s.target===t&&o&&(l("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},a=e=>{e.target===t&&(s.current=Zp(r.current))};return t.addEventListener("animationstart",a),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",a),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:Ie.useCallback((e=>{e&&(r.current=getComputedStyle(e)),n(e)}),[])}}(t),i="function"==typeof n?n({present:r.isPresent}):Ie.Children.only(n),s=_p(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof n||r.isPresent?Ie.cloneElement(i,{ref:s}):null};function Zp(e){return(null==e?void 0:e.animationName)||"none"}function em({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=function({defaultProp:e,onChange:t}){const n=Ie.useState(e),[r]=n,i=Ie.useRef(r),s=Fp(t);return Ie.useEffect((()=>{i.current!==r&&(s(r),i.current=r)}),[r,i,s]),n}({defaultProp:t,onChange:n}),s=void 0!==e,o=s?e:r,a=Fp(n);return[o,Ie.useCallback((t=>{if(s){const n="function"==typeof t?t(e):t;n!==e&&a(n)}else i(t)}),[s,e,i,a])]}Jp.displayName="Presence";var tm=Ie.forwardRef(((e,t)=>Be.jsx(Lp.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));tm.displayName="VisuallyHidden";var nm="ToastProvider",[rm,im,sm]=function(e){const t=e+"CollectionProvider",[n,r]=function(e,t=[]){let n=[];const r=()=>{const t=n.map((e=>Ie.createContext(e)));return function(n){const r=(null==n?void 0:n[e])||t;return Ie.useMemo((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const i=Ie.createContext(r),s=n.length;function o(t){const{scope:n,children:r,...o}=t,a=(null==n?void 0:n[e][s])||i,l=Ie.useMemo((()=>o),Object.values(o));return Be.jsx(a.Provider,{value:l,children:r})}return n=[...n,r],o.displayName=t+"Provider",[o,function(n,o){const a=(null==o?void 0:o[e][s])||i,l=Ie.useContext(a);if(l)return l;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Pp(r,...t)]}(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:n}=e,r=De.useRef(null),s=De.useRef(new Map).current;return Be.jsx(i,{scope:t,itemMap:s,collectionRef:r,children:n})};o.displayName=t;const a=e+"CollectionSlot",l=De.forwardRef(((e,t)=>{const{scope:n,children:r}=e,i=_p(t,s(a,n).collectionRef);return Be.jsx(Ap,{ref:i,children:r})}));l.displayName=a;const u=e+"CollectionItemSlot",c="data-radix-collection-item",d=De.forwardRef(((e,t)=>{const{scope:n,children:r,...i}=e,o=De.useRef(null),a=_p(t,o),l=s(u,n);return De.useEffect((()=>(l.itemMap.set(o,{ref:o,...i}),()=>{l.itemMap.delete(o)}))),Be.jsx(Ap,{[c]:"",ref:a,children:r})}));return d.displayName=u,[{Provider:o,Slot:l,ItemSlot:d},function(t){const n=s(e+"CollectionConsumer",t),r=De.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${c}]`)),r=Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)));return r}),[n.collectionRef,n.itemMap]);return r},r]}("Toast"),[om,am]=function(e,t=[]){let n=[];const r=()=>{const t=n.map((e=>Ie.createContext(e)));return function(n){const r=(null==n?void 0:n[e])||t;return Ie.useMemo((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const i=Ie.createContext(r),s=n.length;n=[...n,r];const o=t=>{var n;const{scope:r,children:o,...a}=t,l=(null==(n=null==r?void 0:r[e])?void 0:n[s])||i,u=Ie.useMemo((()=>a),Object.values(a));return Be.jsx(l.Provider,{value:u,children:o})};return o.displayName=t+"Provider",[o,function(n,o){var a;const l=(null==(a=null==o?void 0:o[e])?void 0:a[s])||i,u=Ie.useContext(l);if(u)return u;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Mp(r,...t)]}("Toast",[sm]),[lm,um]=om(nm),cm=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=e,[a,l]=Ie.useState(null),[u,c]=Ie.useState(0),d=Ie.useRef(!1),h=Ie.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${nm}\`. Expected non-empty \`string\`.`),Be.jsx(rm.Provider,{scope:t,children:Be.jsx(lm,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:Ie.useCallback((()=>c((e=>e+1))),[]),onToastRemove:Ie.useCallback((()=>c((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};cm.displayName=nm;var dm="ToastViewport",hm=["F8"],fm="toast.viewportPause",pm="toast.viewportResume",mm=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,hotkey:r=hm,label:i="Notifications ({hotkey})",...s}=e,o=um(dm,n),a=im(n),l=Ie.useRef(null),u=Ie.useRef(null),c=Ie.useRef(null),d=Ie.useRef(null),h=_p(t,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;Ie.useEffect((()=>{const e=e=>{var t;0!==r.length&&r.every((t=>e[t]||e.code===t))&&(null==(t=d.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r]),Ie.useEffect((()=>{const e=l.current,t=d.current;if(p&&e&&t){const n=()=>{if(!o.isClosePausedRef.current){const e=new CustomEvent(fm);t.dispatchEvent(e),o.isClosePausedRef.current=!0}},r=()=>{if(o.isClosePausedRef.current){const e=new CustomEvent(pm);t.dispatchEvent(e),o.isClosePausedRef.current=!1}},i=t=>{!e.contains(t.relatedTarget)&&r()},s=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",i),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",s),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}}),[p,o.isClosePausedRef]);const m=Ie.useCallback((({tabbingDirection:e})=>{const t=a().map((t=>{const n=t.ref.current,r=[n,...Rm(n)];return"forwards"===e?r:r.reverse()}));return("forwards"===e?t.reverse():t).flat()}),[a]);return Ie.useEffect((()=>{const e=d.current;if(e){const t=t=>{var n,r,i;const s=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!s){const s=document.activeElement,o=t.shiftKey;if(t.target===e&&o)return void(null==(n=u.current)||n.focus());const a=m({tabbingDirection:o?"backwards":"forwards"}),l=a.findIndex((e=>e===s));Mm(a.slice(l+1))?t.preventDefault():o?null==(r=u.current)||r.focus():null==(i=c.current)||i.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[a,m]),Be.jsxs(Gp,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&Be.jsx(ym,{ref:u,onFocusFromOutsideViewport:()=>{Mm(m({tabbingDirection:"forwards"}))}}),Be.jsx(rm.Slot,{scope:n,children:Be.jsx(Lp.ol,{tabIndex:-1,...s,ref:h})}),p&&Be.jsx(ym,{ref:c,onFocusFromOutsideViewport:()=>{Mm(m({tabbingDirection:"backwards"}))}})]})}));mm.displayName=dm;var gm="ToastFocusProxy",ym=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=um(gm,n);return Be.jsx(tm,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const n=e.relatedTarget;!(null==(t=s.viewport)?void 0:t.contains(n))&&r()}})}));ym.displayName=gm;var vm="Toast",bm=Ie.forwardRef(((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=e,[a=!0,l]=em({prop:r,defaultProp:i,onChange:s});return Be.jsx(Jp,{present:n||a,children:Be.jsx(Em,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:Fp(e.onPause),onResume:Fp(e.onResume),onSwipeStart:Tp(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:Tp(e.onSwipeMove,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)})),onSwipeCancel:Tp(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:Tp(e.onSwipeEnd,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),l(!1)}))})})}));bm.displayName=vm;var[wm,xm]=om(vm,{onClose(){}}),Em=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...p}=e,m=um(vm,n),[g,y]=Ie.useState(null),v=_p(t,(e=>y(e))),b=Ie.useRef(null),w=Ie.useRef(null),x=i||m.duration,E=Ie.useRef(0),S=Ie.useRef(x),k=Ie.useRef(0),{onToastAdd:C,onToastRemove:T}=m,N=Fp((()=>{var e;(null==g?void 0:g.contains(document.activeElement))&&(null==(e=m.viewport)||e.focus()),o()})),_=Ie.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(k.current),E.current=(new Date).getTime(),k.current=window.setTimeout(N,e))}),[N]);Ie.useEffect((()=>{const e=m.viewport;if(e){const t=()=>{_(S.current),null==u||u()},n=()=>{const e=(new Date).getTime()-E.current;S.current=S.current-e,window.clearTimeout(k.current),null==l||l()};return e.addEventListener(fm,n),e.addEventListener(pm,t),()=>{e.removeEventListener(fm,n),e.removeEventListener(pm,t)}}}),[m.viewport,x,l,u,_]),Ie.useEffect((()=>{s&&!m.isClosePausedRef.current&&_(x)}),[s,x,m.isClosePausedRef,_]),Ie.useEffect((()=>(C(),()=>T())),[C,T]);const P=Ie.useMemo((()=>g?Im(g):null),[g]);return m.viewport?Be.jsxs(Be.Fragment,{children:[P&&Be.jsx(Sm,{__scopeToast:n,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:P}),Be.jsx(wm,{scope:n,onClose:N,children:Qd.createPortal(Be.jsx(rm.ItemSlot,{scope:n,children:Be.jsx(Qp,{asChild:!0,onEscapeKeyDown:Tp(a,(()=>{m.isFocusedToastEscapeKeyDownRef.current||N(),m.isFocusedToastEscapeKeyDownRef.current=!1})),children:Be.jsx(Lp.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Tp(e.onKeyDown,(e=>{"Escape"===e.key&&(null==a||a(e.nativeEvent),e.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,N()))})),onPointerDown:Tp(e.onPointerDown,(e=>{0===e.button&&(b.current={x:e.clientX,y:e.clientY})})),onPointerMove:Tp(e.onPointerMove,(e=>{if(!b.current)return;const t=e.clientX-b.current.x,n=e.clientY-b.current.y,r=Boolean(w.current),i=["left","right"].includes(m.swipeDirection),s=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,o=i?s(0,t):0,a=i?0:s(0,n),l="touch"===e.pointerType?10:2,u={x:o,y:a},h={originalEvent:e,delta:u};r?(w.current=u,Dm("toast.swipeMove",d,h,{discrete:!1})):jm(u,m.swipeDirection,l)?(w.current=u,Dm("toast.swipeStart",c,h,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(b.current=null)})),onPointerUp:Tp(e.onPointerUp,(e=>{const t=w.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),w.current=null,b.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};jm(t,m.swipeDirection,m.swipeThreshold)?Dm("toast.swipeEnd",f,r,{discrete:!0}):Dm("toast.swipeCancel",h,r,{discrete:!0}),n.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),m.viewport)})]}):null})),Sm=e=>{const{__scopeToast:t,children:n,...r}=e,i=um(vm,t),[s,o]=Ie.useState(!1),[a,l]=Ie.useState(!1);return function(e=()=>{}){const t=Fp(e);Yp((()=>{let e=0,n=0;return e=window.requestAnimationFrame((()=>n=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}}),[t])}((()=>o(!0))),Ie.useEffect((()=>{const e=window.setTimeout((()=>l(!0)),1e3);return()=>window.clearTimeout(e)}),[]),a?null:Be.jsx(Xp,{asChild:!0,children:Be.jsx(tm,{...r,children:s&&Be.jsxs(Be.Fragment,{children:[i.label," ",n]})})})},km=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return Be.jsx(Lp.div,{...r,ref:t})}));km.displayName="ToastTitle";var Cm=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return Be.jsx(Lp.div,{...r,ref:t})}));Cm.displayName="ToastDescription";var Tm="ToastAction",Nm=Ie.forwardRef(((e,t)=>{const{altText:n,...r}=e;return n.trim()?Be.jsx(Am,{altText:n,asChild:!0,children:Be.jsx(Pm,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Tm}\`. Expected non-empty \`string\`.`),null)}));Nm.displayName=Tm;var _m="ToastClose",Pm=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e,i=xm(_m,n);return Be.jsx(Am,{asChild:!0,children:Be.jsx(Lp.button,{type:"button",...r,ref:t,onClick:Tp(e.onClick,i.onClose)})})}));Pm.displayName=_m;var Am=Ie.forwardRef(((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return Be.jsx(Lp.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})}));function Im(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...Im(e))}})),t}function Dm(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Op(i,s):i.dispatchEvent(s)}var jm=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return"left"===t||"right"===t?s&&r>n:!s&&i>n};function Rm(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Mm(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var Lm=cm,Om=mm,Fm=bm,Vm=km,Um=Cm,Bm=Nm,zm=Pm;function $m(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$m(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function qm(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$m(e))&&(r&&(r+=" "),r+=t);return r}const Wm=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Hm=qm;var Km={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Qm=(e,t)=>{const n=Ie.forwardRef((({color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:o,...a},l)=>{return Ie.createElement("svg",{ref:l,...Km,width:r,height:r,stroke:n,strokeWidth:s?24*Number(i)/Number(r):i,className:`lucide lucide-${u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...a},[...t.map((([e,t])=>Ie.createElement(e,t))),...(Array.isArray(o)?o:[o])||[]]);var u}));return n.displayName=`${e}`,n},Gm=Qm("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Ym=Qm("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Xm=Qm("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Jm=Qm("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Zm=Qm("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),eg=Qm("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),tg=Qm("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ng=Qm("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),rg=Qm("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ig=Qm("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),sg=Qm("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),og=Qm("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),ag=Qm("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),lg=Qm("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),ug=Qm("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),cg=Qm("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),dg=Qm("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),hg=Qm("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),fg=Qm("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),pg=Qm("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function mg(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=gg(e))&&(r&&(r+=" "),r+=t);return r}function gg(e){if("string"==typeof e)return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=gg(e[r]))&&(n&&(n+=" "),n+=t);return n}function yg(e){var t=function(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=function(e,t){if(!t)return e;return e.map((function(e){return[e[0],e[1].map((function(e){return"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((function(e){var n=e[0],r=e[1];return[t+n,r]}))):e}))]}))}(Object.entries(e.classGroups),n);return i.forEach((function(e){var n=e[0];wg(e[1],r,n,t)})),r}(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=void 0===r?{}:r;return{getClassGroupId:function(e){var n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),vg(n,t)||function(e){if(bg.test(e)){var t=bg.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}(e)},getConflictingClassGroupIds:function(e,t){var r=n[e]||[];return t&&i[e]?[].concat(r,i[e]):r}}}function vg(e,t){var n;if(0===e.length)return t.classGroupId;var r=e[0],i=t.nextPart.get(r),s=i?vg(e.slice(1),i):void 0;if(s)return s;if(0!==t.validators.length){var o=e.join("-");return null==(n=t.validators.find((function(e){return(0,e.validator)(o)})))?void 0:n.classGroupId}}var bg=/^\[(.+)\]$/;function wg(e,t,n,r){e.forEach((function(e){if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void wg(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((function(e){var i=e[0];wg(e[1],xg(t,i),n,r)}))}else{(""===e?t:xg(t,e)).classGroupId=n}}))}function xg(e,t){var n=e;return t.split("-").forEach((function(e){n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n}function Eg(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(i,s){n.set(i,s),++t>e&&(t=0,r=n,n=new Map)}return{get:function(e){var t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set:function(e,t){n.has(e)?n.set(e,t):i(e,t)}}}function Sg(e){var t=e.separator||":",n=1===t.length,r=t[0],i=t.length;return function(e){for(var s,o=[],a=0,l=0,u=0;u<e.length;u++){var c=e[u];if(0===a){if(c===r&&(n||e.slice(u,u+i)===t)){o.push(e.slice(l,u)),l=u+i;continue}if("/"===c){s=u;continue}}"["===c?a++:"]"===c&&a--}var d=0===o.length?e:e.substring(l),h=d.startsWith("!");return{modifiers:o,hasImportantModifier:h,baseClassName:h?d.substring(1):d,maybePostfixModifierPosition:s&&s>l?s-l:void 0}}}var kg=/\s+/;function Cg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,s,o=function(e){var n=t[0],l=t.slice(1).reduce((function(e,t){return t(e)}),n());return r=function(e){return{cache:Eg(e.cacheSize),splitModifiers:Sg(e),...yg(e)}}(l),i=r.cache.get,s=r.cache.set,o=a,a(e)};function a(e){var t=i(e);if(t)return t;var n=function(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,s=new Set;return e.trim().split(kg).map((function(e){var t=n(e),i=t.modifiers,s=t.hasImportantModifier,o=t.baseClassName,a=t.maybePostfixModifierPosition,l=r(a?o.substring(0,a):o),u=Boolean(a);if(!l){if(!a)return{isTailwindClass:!1,originalClassName:e};if(!(l=r(o)))return{isTailwindClass:!1,originalClassName:e};u=!1}var c=function(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach((function(e){"["===e[0]?(t.push.apply(t,n.sort().concat([e])),n=[]):n.push(e)})),t.push.apply(t,n.sort()),t}(i).join(":");return{isTailwindClass:!0,modifierId:s?c+"!":c,classGroupId:l,originalClassName:e,hasPostfixModifier:u}})).reverse().filter((function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,n=e.classGroupId,r=e.hasPostfixModifier,o=t+n;return!s.has(o)&&(s.add(o),i(n,r).forEach((function(e){return s.add(t+e)})),!0)})).reverse().map((function(e){return e.originalClassName})).join(" ")}(e,r);return s(e,n),n}return function(){return o(mg.apply(null,arguments))}}function Tg(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var Ng=/^\[(?:([a-z-]+):)?(.+)\]$/i,_g=/^\d+\/\d+$/,Pg=new Set(["px","full","screen"]),Ag=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ig=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dg=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function jg(e){return Vg(e)||Pg.has(e)||_g.test(e)||Rg(e)}function Rg(e){return Hg(e,"length",Kg)}function Mg(e){return Hg(e,"size",Qg)}function Lg(e){return Hg(e,"position",Qg)}function Og(e){return Hg(e,"url",Gg)}function Fg(e){return Hg(e,"number",Vg)}function Vg(e){return!Number.isNaN(Number(e))}function Ug(e){return e.endsWith("%")&&Vg(e.slice(0,-1))}function Bg(e){return Yg(e)||Hg(e,"number",Yg)}function zg(e){return Ng.test(e)}function $g(){return!0}function qg(e){return Ag.test(e)}function Wg(e){return Hg(e,"",Xg)}function Hg(e,t,n){var r=Ng.exec(e);return!!r&&(r[1]?r[1]===t:n(r[2]))}function Kg(e){return Ig.test(e)}function Qg(){return!1}function Gg(e){return e.startsWith("url(")}function Yg(e){return Number.isInteger(Number(e))}function Xg(e){return Dg.test(e)}function Jg(){var e=Tg("colors"),t=Tg("spacing"),n=Tg("blur"),r=Tg("brightness"),i=Tg("borderColor"),s=Tg("borderRadius"),o=Tg("borderSpacing"),a=Tg("borderWidth"),l=Tg("contrast"),u=Tg("grayscale"),c=Tg("hueRotate"),d=Tg("invert"),h=Tg("gap"),f=Tg("gradientColorStops"),p=Tg("gradientColorStopPositions"),m=Tg("inset"),g=Tg("margin"),y=Tg("opacity"),v=Tg("padding"),b=Tg("saturate"),w=Tg("scale"),x=Tg("sepia"),E=Tg("skew"),S=Tg("space"),k=Tg("translate"),C=function(){return["auto",zg,t]},T=function(){return[zg,t]},N=function(){return["",jg]},_=function(){return["auto",Vg,zg]},P=function(){return["","0",zg]},A=function(){return[Vg,Fg]},I=function(){return[Vg,zg]};return{cacheSize:500,theme:{colors:[$g],spacing:[jg],blur:["none","",qg,zg],brightness:A(),borderColor:[e],borderRadius:["none","","full",qg,zg],borderSpacing:T(),borderWidth:N(),contrast:A(),grayscale:P(),hueRotate:I(),invert:P(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[Ug,Rg],inset:C(),margin:C(),opacity:A(),padding:T(),saturate:A(),scale:A(),sepia:P(),skew:I(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",zg]}],container:["container"],columns:[{columns:[qg]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[zg])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bg]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",zg]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Bg]}],"grid-cols":[{"grid-cols":[$g]}],"col-start-end":[{col:["auto",{span:["full",Bg]},zg]}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":[$g]}],"row-start-end":[{row:["auto",{span:[Bg]},zg]}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",zg]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",zg]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",zg,t]}],"min-w":[{"min-w":["min","max","fit",zg,jg]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[qg]},qg,zg]}],h:[{h:[zg,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",zg,jg]}],"max-h":[{"max-h":[zg,t,"min","max","fit"]}],"font-size":[{text:["base",qg,Rg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fg]}],"font-family":[{font:[$g]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zg]}],"line-clamp":[{"line-clamp":["none",Vg,Fg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zg,jg]}],"list-image":[{"list-image":["none",zg]}],"list-style-type":[{list:["none","disc","decimal",zg]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",jg]}],"underline-offset":[{"underline-offset":["auto",zg,jg]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zg]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zg]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[Lg])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mg]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Og]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[zg,jg]}],"outline-w":[{outline:[jg]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[jg]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qg,Wg]}],"shadow-color":[{shadow:[$g]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qg,zg]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",zg]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",zg]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",zg]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Bg,zg]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zg]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zg]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zg]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[jg,Fg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var Zg=Cg(Jg);function ey(...e){return Zg(qm(e))}const ty=Lm,ny=Ie.forwardRef((({className:e,...t},n)=>Be.jsx(Om,{ref:n,className:ey("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t})));ny.displayName=Om.displayName;const ry=(iy="group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",sy={variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}},e=>{var t;if(null==(null==sy?void 0:sy.variants))return Hm(iy,null==e?void 0:e.class,null==e?void 0:e.className);const{variants:n,defaultVariants:r}=sy,i=Object.keys(n).map((t=>{const i=null==e?void 0:e[t],s=null==r?void 0:r[t];if(null===i)return null;const o=Wm(i)||Wm(s);return n[t][o]})),s=e&&Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),o=null==sy||null===(t=sy.compoundVariants)||void 0===t?void 0:t.reduce(((e,t)=>{let{class:n,className:i,...o}=t;return Object.entries(o).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...r,...s}[t]):{...r,...s}[t]===n}))?[...e,n,i]:e}),[]);return Hm(iy,i,o,null==e?void 0:e.class,null==e?void 0:e.className)});var iy,sy;const oy=Ie.forwardRef((({className:e,variant:t,...n},r)=>Be.jsx(Fm,{ref:r,className:ey(ry({variant:t}),e),...n})));oy.displayName=Fm.displayName;Ie.forwardRef((({className:e,...t},n)=>Be.jsx(Bm,{ref:n,className:ey("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}))).displayName=Bm.displayName;const ay=Ie.forwardRef((({className:e,...t},n)=>Be.jsx(zm,{ref:n,className:ey("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:Be.jsx(pg,{className:"h-4 w-4"})})));ay.displayName=zm.displayName;const ly=Ie.forwardRef((({className:e,...t},n)=>Be.jsx(Vm,{ref:n,className:ey("text-sm font-semibold",e),...t})));ly.displayName=Vm.displayName;const uy=Ie.forwardRef((({className:e,...t},n)=>Be.jsx(Um,{ref:n,className:ey("text-sm opacity-90",e),...t})));function cy(){const{toasts:e}=Cp();return Be.jsxs(ty,{children:[e.map((function({id:e,title:t,description:n,action:r,...i}){return Be.jsxs(oy,{...i,children:[Be.jsxs("div",{className:"grid gap-1",children:[t&&Be.jsx(ly,{children:t}),n&&Be.jsx(uy,{children:n})]}),r,Be.jsx(ay,{})]},e)})),Be.jsx(ny,{})]})}uy.displayName=Um.displayName;var dy=Array(12).fill(0),hy=({visible:e})=>De.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},De.createElement("div",{className:"sonner-spinner"},dy.map(((e,t)=>De.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`}))))),fy=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),py=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),my=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gy=De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},De.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yy=1,vy=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:yy++,s=this.toasts.find((e=>e.id===i)),o=void 0===e.dismissible||e.dismissible;return s?this.toasts=this.toasts.map((t=>t.id===i?(this.publish({...t,...e,id:i,title:n}),{...t,...e,id:i,dismissible:o,title:n}):t)):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),this.subscribers.forEach((t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r=e instanceof Promise?e:e(),i=void 0!==n;return r.then((async e=>{if(by(e)&&!e.ok){i=!1;let r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,s="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:n,type:"error",message:r,description:s})}else if(void 0!==t.success){i=!1;let r="function"==typeof t.success?await t.success(e):t.success,s="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:r,description:s})}})).catch((async e=>{if(void 0!==t.error){i=!1;let r="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:r,description:s})}})).finally((()=>{var e;i&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)})),n},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||yy++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},by=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,wy=(e,t)=>{let n=(null==t?void 0:t.id)||yy++;return vy.addToast({title:e,...t,id:n}),n};function xy(e){return void 0!==e.label}Object.assign(wy,{success:vy.success,info:vy.info,warning:vy.warning,error:vy.error,custom:vy.custom,message:vy.message,promise:vy.promise,dismiss:vy.dismiss,loading:vy.loading},{getHistory:()=>vy.toasts}),function(e,{insertAt:t}={}){if(!e||"undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var Ey=3,Sy=14;function ky(...e){return e.filter(Boolean).join(" ")}var Cy=e=>{var t,n,r,i,s,o,a,l,u,c;let{invert:d,toast:h,unstyled:f,interacting:p,setHeights:m,visibleToasts:g,heights:y,index:v,toasts:b,expanded:w,removeToast:x,defaultRichColors:E,closeButton:S,style:k,cancelButtonStyle:C,actionButtonStyle:T,className:N="",descriptionClassName:_="",duration:P,position:A,gap:I,loadingIcon:D,expandByDefault:j,classNames:R,icons:M,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:O,cn:F}=e,[V,U]=De.useState(!1),[B,z]=De.useState(!1),[$,q]=De.useState(!1),[W,H]=De.useState(!1),[K,Q]=De.useState(0),[G,Y]=De.useState(0),X=De.useRef(null),J=De.useRef(null),Z=0===v,ee=v+1<=g,te=h.type,ne=!1!==h.dismissible,re=h.className||"",ie=h.descriptionClassName||"",se=De.useMemo((()=>y.findIndex((e=>e.toastId===h.id))||0),[y,h.id]),oe=De.useMemo((()=>{var e;return null!=(e=h.closeButton)?e:S}),[h.closeButton,S]),ae=De.useMemo((()=>h.duration||P||4e3),[h.duration,P]),le=De.useRef(0),ue=De.useRef(0),ce=De.useRef(0),de=De.useRef(null),[he,fe]=A.split("-"),pe=De.useMemo((()=>y.reduce(((e,t,n)=>n>=se?e:e+t.height),0)),[y,se]),me=(()=>{let[e,t]=De.useState(document.hidden);return De.useEffect((()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),ge=h.invert||d,ye="loading"===te;ue.current=De.useMemo((()=>se*I+pe),[se,pe]),De.useEffect((()=>{U(!0)}),[]),De.useLayoutEffect((()=>{if(!V)return;let e=J.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,Y(n),m((e=>e.find((e=>e.toastId===h.id))?e.map((e=>e.toastId===h.id?{...e,height:n}:e)):[{toastId:h.id,height:n,position:h.position},...e]))}),[V,h.title,h.description,m,h.id]);let ve=De.useCallback((()=>{z(!0),Q(ue.current),m((e=>e.filter((e=>e.toastId!==h.id)))),setTimeout((()=>{x(h)}),200)}),[h,x,m,ue]);return De.useEffect((()=>{if(h.promise&&"loading"===te||h.duration===1/0||"loading"===h.type)return;let e,t=ae;return w||p||O&&me?(()=>{if(ce.current<le.current){let e=(new Date).getTime()-le.current;t-=e}ce.current=(new Date).getTime()})():t!==1/0&&(le.current=(new Date).getTime(),e=setTimeout((()=>{var e;null==(e=h.onAutoClose)||e.call(h,h),ve()}),t)),()=>clearTimeout(e)}),[w,p,j,h,ae,ve,h.promise,te,O,me]),De.useEffect((()=>{let e=J.current;if(e){let t=e.getBoundingClientRect().height;return Y(t),m((e=>[{toastId:h.id,height:t,position:h.position},...e])),()=>m((e=>e.filter((e=>e.toastId!==h.id))))}}),[m,h.id]),De.useEffect((()=>{h.delete&&ve()}),[ve,h.delete]),De.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:J,className:F(N,re,null==R?void 0:R.toast,null==(t=null==h?void 0:h.classNames)?void 0:t.toast,null==R?void 0:R.default,null==R?void 0:R[te],null==(n=null==h?void 0:h.classNames)?void 0:n[te]),"data-sonner-toast":"","data-rich-colors":null!=(r=h.richColors)?r:E,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":V,"data-promise":!!h.promise,"data-removed":B,"data-visible":ee,"data-y-position":he,"data-x-position":fe,"data-index":v,"data-front":Z,"data-swiping":$,"data-dismissible":ne,"data-type":te,"data-invert":ge,"data-swipe-out":W,"data-expanded":!!(w||j&&V),style:{"--index":v,"--toasts-before":v,"--z-index":b.length-v,"--offset":`${B?K:ue.current}px`,"--initial-height":j?"auto":`${G}px`,...k,...h.style},onPointerDown:e=>{ye||!ne||(X.current=new Date,Q(ue.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(q(!0),de.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,r;if(W||!ne)return;de.current=null;let i=Number((null==(e=J.current)?void 0:e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),s=(new Date).getTime()-(null==(t=X.current)?void 0:t.getTime()),o=Math.abs(i)/s;if(Math.abs(i)>=20||o>.11)return Q(ue.current),null==(n=h.onDismiss)||n.call(h,h),ve(),void H(!0);null==(r=J.current)||r.style.setProperty("--swipe-amount","0px"),q(!1)},onPointerMove:e=>{var t;if(!de.current||!ne)return;let n=e.clientY-de.current.y,r=e.clientX-de.current.x,i=("top"===he?Math.min:Math.max)(0,n),s="touch"===e.pointerType?10:2;Math.abs(i)>s?null==(t=J.current)||t.style.setProperty("--swipe-amount",`${n}px`):Math.abs(r)>s&&(de.current=null)}},oe&&!h.jsx?De.createElement("button",{"aria-label":L,"data-disabled":ye,"data-close-button":!0,onClick:ye||!ne?()=>{}:()=>{var e;ve(),null==(e=h.onDismiss)||e.call(h,h)},className:F(null==R?void 0:R.closeButton,null==(i=null==h?void 0:h.classNames)?void 0:i.closeButton)},De.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},De.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),De.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||De.isValidElement(h.title)?h.jsx||h.title:De.createElement(De.Fragment,null,te||h.icon||h.promise?De.createElement("div",{"data-icon":"",className:F(null==R?void 0:R.icon,null==(s=null==h?void 0:h.classNames)?void 0:s.icon)},h.promise||"loading"===h.type&&!h.icon?h.icon||(null!=M&&M.loading?De.createElement("div",{className:"sonner-loader","data-visible":"loading"===te},M.loading):D?De.createElement("div",{className:"sonner-loader","data-visible":"loading"===te},D):De.createElement(hy,{visible:"loading"===te})):null,"loading"!==h.type?h.icon||(null==M?void 0:M[te])||(e=>{switch(e){case"success":return fy;case"info":return my;case"warning":return py;case"error":return gy;default:return null}})(te):null):null,De.createElement("div",{"data-content":"",className:F(null==R?void 0:R.content,null==(o=null==h?void 0:h.classNames)?void 0:o.content)},De.createElement("div",{"data-title":"",className:F(null==R?void 0:R.title,null==(a=null==h?void 0:h.classNames)?void 0:a.title)},h.title),h.description?De.createElement("div",{"data-description":"",className:F(_,ie,null==R?void 0:R.description,null==(l=null==h?void 0:h.classNames)?void 0:l.description)},h.description):null),De.isValidElement(h.cancel)?h.cancel:h.cancel&&xy(h.cancel)?De.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||C,onClick:e=>{var t,n;xy(h.cancel)&&ne&&(null==(n=(t=h.cancel).onClick)||n.call(t,e),ve())},className:F(null==R?void 0:R.cancelButton,null==(u=null==h?void 0:h.classNames)?void 0:u.cancelButton)},h.cancel.label):null,De.isValidElement(h.action)?h.action:h.action&&xy(h.action)?De.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||T,onClick:e=>{var t,n;xy(h.action)&&(e.defaultPrevented||(null==(n=(t=h.action).onClick)||n.call(t,e),ve()))},className:F(null==R?void 0:R.actionButton,null==(c=null==h?void 0:h.classNames)?void 0:c.actionButton)},h.action.label):null))};function Ty(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var Ny=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:u,duration:c,style:d,visibleToasts:h=Ey,toastOptions:f,dir:p=Ty(),gap:m=Sy,loadingIcon:g,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:b,cn:w=ky}=e,[x,E]=De.useState([]),S=De.useMemo((()=>Array.from(new Set([n].concat(x.filter((e=>e.position)).map((e=>e.position)))))),[x,n]),[k,C]=De.useState([]),[T,N]=De.useState(!1),[_,P]=De.useState(!1),[A,I]=De.useState("system"!==l?l:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),D=De.useRef(null),j=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=De.useRef(null),M=De.useRef(!1),L=De.useCallback((e=>{var t;null!=(t=x.find((t=>t.id===e.id)))&&t.delete||vy.dismiss(e.id),E((t=>t.filter((({id:t})=>t!==e.id))))}),[x]);return De.useEffect((()=>vy.subscribe((e=>{e.dismiss?E((t=>t.map((t=>t.id===e.id?{...t,delete:!0}:t)))):setTimeout((()=>{Gd.flushSync((()=>{E((t=>{let n=t.findIndex((t=>t.id===e.id));return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]}))}))}))}))),[]),De.useEffect((()=>{"system"===l?("system"===l&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{I(e?"dark":"light")}))):I(l)}),[l]),De.useEffect((()=>{x.length<=1&&N(!1)}),[x]),De.useEffect((()=>{let e=e=>{var t,n;r.every((t=>e[t]||e.code===t))&&(N(!0),null==(t=D.current)||t.focus()),"Escape"===e.code&&(document.activeElement===D.current||null!=(n=D.current)&&n.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r]),De.useEffect((()=>{if(D.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,M.current=!1)}}),[D.current]),x.length?De.createElement("section",{"aria-label":`${v} ${j}`,tabIndex:-1},S.map(((e,n)=>{var r;let[l,v]=e.split("-");return De.createElement("ol",{key:e,dir:"auto"===p?Ty():p,tabIndex:-1,ref:D,className:o,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":l,"data-x-position":v,style:{"--front-toast-height":`${(null==(r=k[0])?void 0:r.height)||0}px`,"--offset":"number"==typeof a?`${a}px`:a||"32px","--width":"356px","--gap":`${m}px`,...d},onBlur:e=>{M.current&&!e.currentTarget.contains(e.relatedTarget)&&(M.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||M.current||(M.current=!0,R.current=e.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{_||N(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||P(!0)},onPointerUp:()=>P(!1)},x.filter((t=>!t.position&&0===n||t.position===e)).map(((n,r)=>{var o,a;return De.createElement(Cy,{key:n.id,icons:y,index:r,toast:n,defaultRichColors:u,duration:null!=(o=null==f?void 0:f.duration)?o:c,className:null==f?void 0:f.className,descriptionClassName:null==f?void 0:f.descriptionClassName,invert:t,visibleToasts:h,closeButton:null!=(a=null==f?void 0:f.closeButton)?a:s,interacting:_,position:e,style:null==f?void 0:f.style,unstyled:null==f?void 0:f.unstyled,classNames:null==f?void 0:f.classNames,cancelButtonStyle:null==f?void 0:f.cancelButtonStyle,actionButtonStyle:null==f?void 0:f.actionButtonStyle,removeToast:L,toasts:x.filter((e=>e.position==n.position)),heights:k.filter((e=>e.position==n.position)),setHeights:C,expandByDefault:i,gap:m,loadingIcon:g,expanded:T,pauseWhenPageIsHidden:b,cn:w})})))}))):null};const _y=({...e})=>{const{theme:t="system"}=null!==(n=Ie.useContext(Vh))&&void 0!==n?n:Uh;var n;return Be.jsx(Ny,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},Py=Ie.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ay=Ie.createContext({}),Iy=Ie.createContext(null),Dy="undefined"!=typeof document,jy=Dy?Ie.useLayoutEffect:Ie.useEffect,Ry=Ie.createContext({strict:!1}),My=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ly="data-"+My("framerAppearId");function Oy(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Fy(e){return"string"==typeof e||Array.isArray(e)}function Vy(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}const Uy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],By=["initial",...Uy];function zy(e){return Vy(e.animate)||By.some((t=>Fy(e[t])))}function $y(e){return Boolean(zy(e)||e.variants)}function qy(e){const{initial:t,animate:n}=function(e,t){if(zy(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Fy(t)?t:void 0,animate:Fy(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,Ie.useContext(Ay));return Ie.useMemo((()=>({initial:t,animate:n})),[Wy(t),Wy(n)])}function Wy(e){return Array.isArray(e)?e.join(" "):e}const Hy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ky={};for(const UR in Hy)Ky[UR]={isEnabled:e=>Hy[UR].some((t=>!!e[t]))};const Qy=Ie.createContext({}),Gy=Ie.createContext({}),Yy=Symbol.for("motionComponentSymbol");function Xy({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&function(e){for(const t in e)Ky[t]={...Ky[t],...e[t]}}(e);const s=Ie.forwardRef((function(s,o){let a;const l={...Ie.useContext(Py),...s,layoutId:Jy(s)},{isStatic:u}=l,c=qy(s),d=r(s,u);if(!u&&Dy){c.visualElement=function(e,t,n,r){const{visualElement:i}=Ie.useContext(Ay),s=Ie.useContext(Ry),o=Ie.useContext(Iy),a=Ie.useContext(Py).reducedMotion,l=Ie.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:a}));const u=l.current;Ie.useInsertionEffect((()=>{u&&u.update(n,o)}));const c=Ie.useRef(Boolean(n[Ly]&&!window.HandoffComplete));return jy((()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())})),Ie.useEffect((()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))})),u}(i,d,l,t);const n=Ie.useContext(Gy),r=Ie.useContext(Ry).strict;c.visualElement&&(a=c.visualElement.loadFeatures(l,r,e,n))}return Ie.createElement(Ay.Provider,{value:c},a&&c.visualElement?Ie.createElement(a,{visualElement:c.visualElement,...l}):null,n(i,s,function(e,t,n){return Ie.useCallback((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):Oy(n)&&(n.current=r))}),[t])}(d,c.visualElement,o),d,u,c.visualElement))}));return s[Yy]=i,s}function Jy({layoutId:e}){const t=Ie.useContext(Qy).id;return t&&void 0!==e?t+"-"+e:e}function Zy(e){function t(t,n={}){return Xy(e(t,n))}if("undefined"==typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const ev=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(e){return"string"==typeof e&&!e.includes("-")&&!!(ev.indexOf(e)>-1||/[A-Z]/.test(e))}const nv={};const rv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],iv=new Set(rv);function sv(e,{layout:t,layoutId:n}){return iv.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!nv[e]||"opacity"===e)}const ov=e=>Boolean(e&&e.getVelocity),av={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lv=rv.length;const uv=e=>t=>"string"==typeof t&&t.startsWith(e),cv=uv("--"),dv=uv("var(--"),hv=(e,t)=>t&&"number"==typeof e?t.transform(e):e,fv=(e,t,n)=>Math.min(Math.max(n,e),t),pv={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},mv={...pv,transform:e=>fv(0,1,e)},gv={...pv,default:1},yv=e=>Math.round(1e5*e)/1e5,vv=/(-)?([\d]*\.?[\d])+/g,bv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,wv=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xv(e){return"string"==typeof e}const Ev=e=>({test:t=>xv(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Sv=Ev("deg"),kv=Ev("%"),Cv=Ev("px"),Tv=Ev("vh"),Nv=Ev("vw"),_v={...kv,parse:e=>kv.parse(e)/100,transform:e=>kv.transform(100*e)},Pv={...pv,transform:Math.round},Av={borderWidth:Cv,borderTopWidth:Cv,borderRightWidth:Cv,borderBottomWidth:Cv,borderLeftWidth:Cv,borderRadius:Cv,radius:Cv,borderTopLeftRadius:Cv,borderTopRightRadius:Cv,borderBottomRightRadius:Cv,borderBottomLeftRadius:Cv,width:Cv,maxWidth:Cv,height:Cv,maxHeight:Cv,size:Cv,top:Cv,right:Cv,bottom:Cv,left:Cv,padding:Cv,paddingTop:Cv,paddingRight:Cv,paddingBottom:Cv,paddingLeft:Cv,margin:Cv,marginTop:Cv,marginRight:Cv,marginBottom:Cv,marginLeft:Cv,rotate:Sv,rotateX:Sv,rotateY:Sv,rotateZ:Sv,scale:gv,scaleX:gv,scaleY:gv,scaleZ:gv,skew:Sv,skewX:Sv,skewY:Sv,distance:Cv,translateX:Cv,translateY:Cv,translateZ:Cv,x:Cv,y:Cv,z:Cv,perspective:Cv,transformPerspective:Cv,opacity:mv,originX:_v,originY:_v,originZ:Cv,zIndex:Pv,fillOpacity:mv,strokeOpacity:mv,numOctaves:Pv};function Iv(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const d in t){const e=t[d];if(cv(d)){s[d]=e;continue}const n=Av[d],r=hv(e,n);if(iv.has(d)){if(l=!0,o[d]=r,!c)continue;e!==(n.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<lv;o++){const t=rv[o];void 0!==e[t]&&(s+=`${av[t]||t}(${e[t]}) `)}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin=`${e} ${t} ${n}`}}const Dv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jv(e,t,n){for(const r in t)ov(t[r])||sv(r,n)||(e[r]=t[r])}function Rv(e,t,n){const r={};return jv(r,e.style||{},e),Object.assign(r,function({transformTemplate:e},t,n){return Ie.useMemo((()=>{const r={style:{},transform:{},transformOrigin:{},vars:{}};return Iv(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function Mv(e,t,n){const r={},i=Rv(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Lv=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ov(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lv.has(e)}let Fv=e=>!Ov(e);try{(Vv=require("@emotion/is-prop-valid").default)&&(Fv=e=>e.startsWith("on")?!Ov(e):Vv(e))}catch(FR){}var Vv;function Uv(e,t,n){return"string"==typeof e?e:Cv.transform(t+n*e)}const Bv={offset:"stroke-dashoffset",array:"stroke-dasharray"},zv={offset:"strokeDashoffset",array:"strokeDasharray"};function $v(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d,h){if(Iv(e,u,c,h),d)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==i||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){return`${Uv(t,e.x,e.width)} ${Uv(n,e.y,e.height)}`}(m,void 0!==i?i:.5,void 0!==s?s:.5)),void 0!==t&&(f.x=t),void 0!==n&&(f.y=n),void 0!==r&&(f.scale=r),void 0!==o&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?Bv:zv;e[s.offset]=Cv.transform(-r);const o=Cv.transform(t),a=Cv.transform(n);e[s.array]=`${o} ${a}`}(f,o,a,l,!1)}const qv=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Wv=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Hv(e,t,n,r){const i=Ie.useMemo((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return $v(n,t,{enableHardwareAcceleration:!1},Wv(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};jv(t,e.style,e),i.style={...t,...i.style}}return i}function Kv(e=!1){return(t,n,r,{latestValues:i},s)=>{const o=(tv(t)?Hv:Mv)(n,i,s,t),a=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(Fv(i)||!0===n&&Ov(i)||!t&&!Ov(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),l={...a,...o,ref:r},{children:u}=n,c=Ie.useMemo((()=>ov(u)?u.get():u),[u]);return Ie.createElement(t,{...l,children:c})}}function Qv(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const Gv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Yv(e,t,n,r){Qv(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Gv.has(i)?i:My(i),t.attrs[i])}function Xv(e,t){const{style:n}=e,r={};for(const i in n)(ov(n[i])||t.style&&ov(t.style[i])||sv(i,e))&&(r[i]=n[i]);return r}function Jv(e,t){const n=Xv(e,t);for(const r in e)if(ov(e[r])||ov(t[r])){n[-1!==rv.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Zv(e,t,n,r={},i={}){return"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function eb(e){const t=Ie.useRef(null);return null===t.current&&(t.current=e()),t.current}const tb=e=>Array.isArray(e);function nb(e){const t=ov(e)?e.get():e;return n=t,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const rb=e=>(t,n)=>{const r=Ie.useContext(Ay),i=Ie.useContext(Iy),s=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:ib(r,i,s,e),renderState:t()};return n&&(o.mount=e=>n(r,e,o)),o}(e,t,r,i);return n?s():eb(s)};function ib(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=nb(s[h]);let{initial:o,animate:a}=e;const l=zy(e),u=$y(e);t&&u&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let c=!!n&&!1===n.initial;c=c||!1===o;const d=c?a:o;if(d&&"boolean"!=typeof d&&!Vy(d)){(Array.isArray(d)?d:[d]).forEach((t=>{const n=Zv(e,t);if(!n)return;const{transitionEnd:r,transition:s,...o}=n;for(const e in o){let t=o[e];if(Array.isArray(t)){t=t[c?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const sb=e=>e;class ob{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const ab=["prepare","read","update","preRender","render","postRender"];const{schedule:lb,cancel:ub,state:cb,steps:db}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ab.reduce(((e,t)=>(e[t]=function(e){let t=new ob,n=new ob,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(e,s=!1,a=!1)=>{const l=a&&i,u=l?t:n;return s&&o.add(e),u.add(e)&&l&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),o.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),o.has(r)&&(a.schedule(r),e())}i=!1,s&&(s=!1,a.process(l))}}};return a}((()=>n=!0)),e)),{}),o=e=>s[e].process(i),a=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,ab.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))};return{schedule:ab.reduce(((t,o)=>{const l=s[o];return t[o]=(t,s=!1,o=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(a)),l.schedule(t,s,o)),t}),{}),cancel:e=>ab.forEach((t=>s[t].cancel(e))),state:i,steps:s}}("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:sb,!0),hb={useVisualState:rb({scrapeMotionValuesFromProps:Jv,createRenderState:qv,onMount:(e,t,{renderState:n,latestValues:r})=>{lb.read((()=>{try{n.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(OR){n.dimensions={x:0,y:0,width:0,height:0}}})),lb.render((()=>{$v(n,r,{enableHardwareAcceleration:!1},Wv(t.tagName),e.transformTemplate),Yv(t,n)}))}})},fb={useVisualState:rb({scrapeMotionValuesFromProps:Xv,createRenderState:Dv})};function pb(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const mb=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function gb(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function yb(e,t,n,r){return pb(e,t,(e=>t=>mb(t)&&e(t,gb(t)))(n),r)}const vb=(e,t)=>n=>t(e(n)),bb=(...e)=>e.reduce(vb);function wb(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const xb=wb("dragHorizontal"),Eb=wb("dragVertical");function Sb(e){let t=!1;if("y"===e)t=Eb();else if("x"===e)t=xb();else{const e=xb(),n=Eb();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function kb(){const e=Sb(!0);return!e||(e(),!1)}class Cb{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Tb(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return yb(e.current,n,((n,i)=>{if("touch"===n.pointerType||kb())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&lb.update((()=>s[r](n,i)))}),{passive:!e.getProps()[r]})}const Nb=(e,t)=>!!t&&(e===t||Nb(e,t.parentElement));function _b(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,gb(n))}const Pb=new WeakMap,Ab=new WeakMap,Ib=e=>{const t=Pb.get(e.target);t&&t(e)},Db=e=>{e.forEach(Ib)};function jb(e,t,n){const r=function({root:e,...t}){const n=e||document;Ab.has(n)||Ab.set(n,{});const r=Ab.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Db,{root:e,...t})),r[i]}(t);return Pb.set(e,n),r.observe(e),()=>{Pb.delete(e),r.unobserve(e)}}const Rb={some:0,all:1};const Mb={inView:{Feature:class extends Cb{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:Rb[r]};return jb(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Cb{constructor(){super(...arguments),this.removeStartListeners=sb,this.removeEndListeners=sb,this.removeAccessibleListeners=sb,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=yb(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();lb.update((()=>{i||Nb(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=yb(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=bb(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=pb(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=pb(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&_b("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&lb.update((()=>n(e,t)))}))})),_b("down",((e,t)=>{this.startPress(e,t)}))})),t=pb(this.node.current,"blur",(()=>{this.isPressing&&_b("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=bb(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&lb.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kb()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&lb.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=yb(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=pb(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=bb(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Cb{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(OR){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bb(pb(this.node.current,"focus",(()=>this.onFocus())),pb(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Cb{mount(){this.unmount=bb(Tb(this.node,!0),Tb(this.node,!1))}unmount(){}}}};function Lb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ob(e,t,n){const r=e.getProps();return Zv(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}let Fb=sb,Vb=sb;const Ub=e=>1e3*e,Bb=e=>e/1e3,zb=!1,$b=e=>Array.isArray(e)&&"number"==typeof e[0];function qb(e){return Boolean(!e||"string"==typeof e&&Hb[e]||$b(e)||Array.isArray(e)&&e.every(qb))}const Wb=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Hb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wb([0,.65,.55,1]),circOut:Wb([.55,0,1,.45]),backIn:Wb([.31,.01,.66,-.59]),backOut:Wb([.33,1.53,.69,.99])};function Kb(e){if(e)return $b(e)?Wb(e):Array.isArray(e)?e.map(Kb):Hb[e]}const Qb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Gb(e,t,n,r){if(e===t&&n===r)return sb;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=Qb(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:Qb(i(e),t,r)}const Yb=Gb(.42,0,1,1),Xb=Gb(0,0,.58,1),Jb=Gb(.42,0,.58,1),Zb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ew=e=>t=>1-e(1-t),tw=e=>1-Math.sin(Math.acos(e)),nw=ew(tw),rw=Zb(tw),iw=Gb(.33,1.53,.69,.99),sw=ew(iw),ow=Zb(sw),aw={linear:sb,easeIn:Yb,easeInOut:Jb,easeOut:Xb,circIn:tw,circInOut:rw,circOut:nw,backIn:sw,backInOut:ow,backOut:iw,anticipate:e=>(e*=2)<1?.5*sw(e):.5*(2-Math.pow(2,-10*(e-1)))},lw=e=>{if(Array.isArray(e)){Vb(4===e.length);const[t,n,r,i]=e;return Gb(t,n,r,i)}return"string"==typeof e?aw[e]:e},uw=(e,t)=>n=>Boolean(xv(n)&&wv.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),cw=(e,t,n)=>r=>{if(!xv(r))return r;const[i,s,o,a]=r.match(vv);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},dw={...pv,transform:e=>Math.round((e=>fv(0,255,e))(e))},hw={test:uw("rgb","red"),parse:cw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+dw.transform(e)+", "+dw.transform(t)+", "+dw.transform(n)+", "+yv(mv.transform(r))+")"};const fw={test:uw("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:hw.transform},pw={test:uw("hsl","hue"),parse:cw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+kv.transform(yv(t))+", "+kv.transform(yv(n))+", "+yv(mv.transform(r))+")"},mw={test:e=>hw.test(e)||fw.test(e)||pw.test(e),parse:e=>hw.test(e)?hw.parse(e):pw.test(e)?pw.parse(e):fw.parse(e),transform:e=>xv(e)?e:e.hasOwnProperty("red")?hw.transform(e):pw.transform(e)},gw=(e,t,n)=>-n*e+n*t+e;function yw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const vw=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},bw=[fw,hw,pw];function ww(e){const t=(n=e,bw.find((e=>e.test(n))));var n;let r=t.parse(e);return t===pw&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,s=0,o=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r;i=yw(a,r,e+1/3),s=yw(a,r,e),o=yw(a,r,e-1/3)}else i=s=o=n;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*o),alpha:r}}(r)),r}const xw=(e,t)=>{const n=ww(e),r=ww(t),i={...n};return e=>(i.red=vw(n.red,r.red,e),i.green=vw(n.green,r.green,e),i.blue=vw(n.blue,r.blue,e),i.alpha=gw(n.alpha,r.alpha,e),hw.transform(i))};const Ew={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:sb},Sw={regex:bv,countKey:"Colors",token:"${c}",parse:mw.parse},kw={regex:vv,countKey:"Numbers",token:"${n}",parse:pv.parse};function Cw(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function Tw(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Cw(n,Ew),Cw(n,Sw),Cw(n,kw),n}function Nw(e){return Tw(e).values}function _w(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Tw(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(Ew.token,e[i]):i<r+n?t.replace(Sw.token,mw.transform(e[i])):t.replace(kw.token,yv(e[i]));return t}}const Pw=e=>"number"==typeof e?0:e;const Aw={test:function(e){var t,n;return isNaN(e)&&xv(e)&&((null===(t=e.match(vv))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(bv))||void 0===n?void 0:n.length)||0)>0},parse:Nw,createTransformer:_w,getAnimatableNone:function(e){const t=Nw(e);return _w(e)(t.map(Pw))}},Iw=(e,t)=>n=>`${n>0?t:e}`;function Dw(e,t){return"number"==typeof e?n=>gw(e,t,n):mw.test(e)?xw(e,t):e.startsWith("var(")?Iw(e,t):Mw(e,t)}const jw=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>Dw(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},Rw=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Dw(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},Mw=(e,t)=>{const n=Aw.createTransformer(t),r=Tw(e),i=Tw(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?bb(jw(r.values,i.values),n):Iw(e,t)},Lw=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Ow=(e,t)=>n=>gw(e,t,n);function Fw(e,t,n){const r=[],i=n||("number"==typeof(s=e[0])?Ow:"string"==typeof s?mw.test(s)?xw:Mw:Array.isArray(s)?jw:"object"==typeof s?Rw:Ow);var s;const o=e.length-1;for(let a=0;a<o;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||sb:t;n=bb(e,n)}r.push(n)}return r}function Vw(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Vb(s===t.length),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Fw(t,r,i),a=o.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Lw(e[n],e[n+1],t);return o[n](r)};return n?t=>l(fv(e[0],e[s-1],t)):l}function Uw(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Lw(0,t,r);e.push(gw(n,1,i))}}(t,e.length-1),t}function Bw({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(lw):lw(r),s={done:!1,value:t[0]},o=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:Uw(t),e),a=Vw(o,t,{ease:Array.isArray(i)?i:(l=t,u=i,l.map((()=>u||Jb)).splice(0,l.length-1))});var l,u;return{calculatedDuration:e,next:t=>(s.value=a(t),s.done=t>=e,s)}}function zw(e,t){return t?e*(1e3/t):0}function $w(e,t,n){const r=Math.max(t-5,0);return zw(n-e(r),t-r)}const qw=.001;function Ww({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;Fb(e<=Ub(10));let o=1-t;o=fv(.05,1,o),e=fv(.01,10,Bb(e)),o<1?(i=t=>{const r=t*o,i=r*e,s=r-n,a=Kw(t,o),l=Math.exp(-i);return qw-s/a*l},s=t=>{const r=t*o*e,s=r*n+n,a=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-r),u=Kw(Math.pow(t,2),o);return(-i(t)+qw>0?-1:1)*((s-a)*l)/u}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,s=t=>Math.exp(-t*e)*(e*e*(n-t)));const a=function(e,t,n){let r=n;for(let i=1;i<Hw;i++)r-=e(r)/t(r);return r}(i,s,5/e);if(e=Ub(e),isNaN(a))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(a,2)*r;return{stiffness:t,damping:2*o*Math.sqrt(r*t),duration:e}}}const Hw=12;function Kw(e,t){return e*Math.sqrt(1-t*t)}const Qw=["duration","bounce"],Gw=["stiffness","damping","mass"];function Yw(e,t){return t.some((t=>void 0!==e[t]))}function Xw({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:h}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Yw(e,Gw)&&Yw(e,Qw)){const n=Ww(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...r,velocity:-Bb(r.velocity||0)}),f=d||0,p=l/(2*Math.sqrt(a*u)),m=s-i,g=Bb(Math.sqrt(a/u)),y=Math.abs(m)<5;let v;if(n||(n=y?.01:2),t||(t=y?.005:.5),p<1){const e=Kw(g,p);v=t=>{const n=Math.exp(-p*g*t);return s-n*((f+p*g*m)/e*Math.sin(e*t)+m*Math.cos(e*t))}}else if(1===p)v=e=>s-Math.exp(-g*e)*(m+(f+g*m)*e);else{const e=g*Math.sqrt(p*p-1);v=t=>{const n=Math.exp(-p*g*t),r=Math.min(e*t,300);return s-n*((f+p*g*m)*Math.sinh(r)+e*m*Math.cosh(r))/e}}return{calculatedDuration:h&&c||null,next:e=>{const r=v(e);if(h)o.done=e>=c;else{let i=f;0!==e&&(i=p<1?$w(v,e,r):0);const a=Math.abs(i)<=n,l=Math.abs(s-r)<=t;o.done=a&&l}return o.value=o.done?s:r,o}}}function Jw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],h={done:!1,value:d},f=e=>void 0===a?l:void 0===l||Math.abs(a-e)<Math.abs(l-e)?a:l;let p=n*t;const m=d+p,g=void 0===o?m:o(m);g!==m&&(p=g-d);const y=e=>-p*Math.exp(-e/r),v=e=>g+y(e),b=e=>{const t=y(e),n=v(e);h.done=Math.abs(t)<=u,h.value=h.done?g:n};let w,x;const E=e=>{var t;(t=h.value,void 0!==a&&t<a||void 0!==l&&t>l)&&(w=e,x=Xw({keyframes:[h.value,f(h.value)],velocity:$w(v,e,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==w||(t=!0,b(e),E(e)),void 0!==w&&e>w?x.next(e-w):(!t&&b(e),h)}}}const Zw=e=>{const t=({timestamp:t})=>e(t);return{start:()=>lb.update(t,!0),stop:()=>ub(t),now:()=>cb.isProcessing?cb.timestamp:performance.now()}};function ex(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const tx={decay:Jw,inertia:Jw,tween:Bw,keyframes:Bw,spring:Xw};function nx({autoplay:e=!0,delay:t=0,driver:n=Zw,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...h}){let f,p,m=1,g=!1;const y=()=>{p=new Promise((e=>{f=e}))};let v;y();const b=tx[i]||Bw;let w;b!==Bw&&"number"!=typeof r[0]&&(w=Vw([0,100],r,{clamp:!1}),r=[0,100]);const x=b({...h,keyframes:r});let E;"mirror"===a&&(E=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let S="idle",k=null,C=null,T=null;null===x.calculatedDuration&&s&&(x.calculatedDuration=ex(x));const{calculatedDuration:N}=x;let _=1/0,P=1/0;null!==N&&(_=N+o,P=_*(s+1)-o);let A=0;const I=e=>{if(null===C)return;m>0&&(C=Math.min(C,e)),m<0&&(C=Math.min(e-P/m,C)),A=null!==k?k:Math.round(e-C)*m;const n=A-t*(m>=0?1:-1),i=m>=0?n<0:n>P;A=Math.max(n,0),"finished"===S&&null===k&&(A=P);let l=A,u=x;if(s){const e=Math.min(A,P)/_;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,s+1);Boolean(t%2)&&("reverse"===a?(n=1-n,o&&(n-=o/_)):"mirror"===a&&(u=E)),l=fv(0,1,n)*_}const c=i?{done:!1,value:r[0]}:u.next(l);w&&(c.value=w(c.value));let{done:h}=c;i||null===N||(h=m>=0?A>=P:A<=0);const f=null===k&&("finished"===S||"running"===S&&h);return d&&d(c.value),f&&R(),c},D=()=>{v&&v.stop(),v=void 0},j=()=>{S="idle",D(),f(),y(),C=T=null},R=()=>{S="finished",c&&c(),D(),f()},M=()=>{if(g)return;v||(v=n(I));const e=v.now();l&&l(),null!==k?C=e-k:C&&"finished"!==S||(C=e),"finished"===S&&y(),T=C,k=null,S="running",v.start()};e&&M();const L={then:(e,t)=>p.then(e,t),get time(){return Bb(A)},set time(e){e=Ub(e),A=e,null===k&&v&&0!==m?C=v.now()-e/m:k=e},get duration(){const e=null===x.calculatedDuration?ex(x):x.calculatedDuration;return Bb(e)},get speed(){return m},set speed(e){e!==m&&v&&(m=e,L.time=Bb(A))},get state(){return S},play:M,pause:()=>{S="paused",k=A},stop:()=>{g=!0,"idle"!==S&&(S="idle",u&&u(),j())},cancel:()=>{null!==T&&I(T),j()},complete:()=>{S="finished"},sample:e=>(C=0,I(e))};return L}const rx=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),ix=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function sx(e,t,{onUpdate:n,onComplete:r,...i}){if(!(rx()&&ix.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;let s,o,a=!1,l=!1;const u=()=>{o=new Promise((e=>{s=e}))};u();let{keyframes:c,duration:d=300,ease:h,times:f}=i;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!qb(t.ease))(t,i)){const e=nx({...i,repeat:0,delay:0});let t={done:!1,value:c[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;f=void 0,c=n,d=r-10,h="linear"}const p=function(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=Kb(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(e.owner.current,t,c,{...i,duration:d,ease:h,times:f}),m=()=>{l=!1,p.cancel()},g=()=>{l=!0,lb.update(m),s(),u()};p.onfinish=()=>{l||(e.set(function(e,{repeat:t,repeatType:n="loop"}){return e[t&&"loop"!==n&&t%2==1?0:e.length-1]}(c,i)),r&&r(),g())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(p.timeline=e,p.onfinish=null,sb),get time(){return Bb(p.currentTime||0)},set time(e){p.currentTime=Ub(e)},get speed(){return p.playbackRate},set speed(e){p.playbackRate=e},get duration(){return Bb(d)},play:()=>{a||(p.play(),ub(m))},pause:()=>p.pause(),stop:()=>{if(a=!0,"idle"===p.playState)return;const{currentTime:t}=p;if(t){const n=nx({...i,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}g()},complete:()=>{l||p.finish()},cancel:g}}const ox={type:"spring",stiffness:500,damping:25,restSpeed:10},ax={type:"keyframes",duration:.8},lx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ux=(e,{keyframes:t})=>t.length>2?ax:iv.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:ox:lx,cx=(e,t)=>"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!Aw.test(t)&&"0"!==t||t.startsWith("url("))),dx=new Set(["brightness","contrast","saturate","opacity"]);function hx(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(vv)||[];if(!r)return e;const i=n.replace(r,"");let s=dx.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const fx=/([a-z-]*)\(.*?\)/g,px={...Aw,getAnimatableNone:e=>{const t=e.match(fx);return t?t.map(hx).join(" "):e}},mx={...Av,color:mw,backgroundColor:mw,outlineColor:mw,fill:mw,stroke:mw,borderColor:mw,borderTopColor:mw,borderRightColor:mw,borderBottomColor:mw,borderLeftColor:mw,filter:px,WebkitFilter:px},gx=e=>mx[e];function yx(e,t){let n=gx(e);return n!==px&&(n=Aw),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vx=e=>/^0[^.\s]+$/.test(e);function bx(e){return"number"==typeof e?0===e:null!==e?"none"===e||"0"===e||vx(e):void 0}function wx(e,t){return e[t]||e.default||e}const xx=!1,Ex=(e,t,n,r={})=>i=>{const s=wx(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a-=Ub(o);const l=function(e,t,n,r){const i=cx(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const o=void 0!==r.from?r.from:e.get();let a;const l=[];for(let u=0;u<s.length;u++)null===s[u]&&(s[u]=0===u?o:s[u-1]),bx(s[u])&&l.push(u),"string"==typeof s[u]&&"none"!==s[u]&&"0"!==s[u]&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++)s[l[u]]=yx(t,a);return s}(t,e,n,s),u=l[0],c=l[l.length-1],d=cx(e,u),h=cx(e,c);let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(s)||(f={...f,...ux(e,f)}),f.duration&&(f.duration=Ub(f.duration)),f.repeatDelay&&(f.repeatDelay=Ub(f.repeatDelay)),!d||!h||zb||!1===s.type||xx)return function({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:sb,pause:sb,stop:sb,then:e=>(e(),Promise.resolve()),cancel:sb,complete:sb});return t?nx({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}(f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=sx(t,e,f);if(n)return n}return nx(f)};function Sx(e){return Boolean(ov(e)&&e.add)}const kx=e=>/^\-?\d*\.?\d+$/.test(e);function Cx(e,t){-1===e.indexOf(t)&&e.push(t)}function Tx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Nx{constructor(){this.subscriptions=[]}add(e){return Cx(this.subscriptions,e),()=>Tx(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class _x{constructor(e,t={}){var n;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(e,t=!0)=>{this.prev=this.current,this.current=e;const{delta:n,timestamp:r}=cb;this.lastUpdated!==r&&(this.timeDelta=n,this.lastUpdated=r,lb.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>lb.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Nx);const n=this.events[e].add(t);return"change"===e?()=>{n(),lb.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?zw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Px(e,t){return new _x(e,t)}const Ax=e=>t=>t.test(e),Ix=[pv,Cv,kv,Sv,Nv,Tv,{test:e=>"auto"===e,parse:e=>e}],Dx=e=>Ix.find(Ax(e)),jx=[...Ix,mw,Aw];function Rx(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Px(n))}function Mx(e,t){if(!t)return;return(t[e]||t.default||t).from}function Lx({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function Ox(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function Fx(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const t=e.getValue(d),r=a[d];if(!t||void 0===r||c&&Lx(c,d))continue;const i={delay:n,elapsed:0,...wx(s||{},d)};if(window.HandoffAppearAnimations){const n=e.getProps()[Ly];if(n){const e=window.HandoffAppearAnimations(n,d,t,lb);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let o=!i.isHandoff&&!Ox(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(o=!1),t.animation&&(o=!1),o)continue;t.start(Ex(d,t,r,e.shouldReduceMotion&&iv.has(d)?{type:!1}:i));const h=t.animation;Sx(l)&&(l.add(d),h.then((()=>l.remove(d)))),u.push(h)}return o&&Promise.all(u).then((()=>{o&&function(e,t){const n=Ob(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s)Rx(e,a,(o=s[a],tb(o)?o[o.length-1]||0:o));var o}(e,o)})),u}function Vx(e,t,n={}){const r=Ob(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Fx(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=1===i?(e=0)=>e*r:(e=0)=>a-e*r;return Array.from(e.variantChildren).sort(Ux).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(Vx(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,s+r,o,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[s,o]:[o,s];return e().then((()=>t()))}return Promise.all([s(),o(n.delay)])}function Ux(e,t){return e.sortNodePosition(t)}const Bx=[...Uy].reverse(),zx=Uy.length;function $x(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>Vx(e,t,n)));r=Promise.all(i)}else if("string"==typeof t)r=Vx(e,t,n);else{const i="function"==typeof t?Ob(e,t,n.custom):t;r=Promise.all(Fx(e,i,n))}return r.then((()=>e.notify("AnimationComplete",t)))}(e,t,n))))}function qx(e){let t=$x(e);const n={animate:Hx(!0),whileInView:Hx(),whileHover:Hx(),whileTap:Hx(),whileDrag:Hx(),whileFocus:Hx(),exit:Hx()};let r=!0;const i=(t,n)=>{const r=Ob(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,o){const a=e.getProps(),l=e.getVariantContext(!0)||{},u=[],c=new Set;let d={},h=1/0;for(let t=0;t<zx;t++){const f=Bx[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=Fy(m),y=f===o?p.isActive:null;!1===y&&(h=t);let v=m===l[f]&&m!==a[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys={...d},!p.isActive&&null===y||!m&&!p.prevProp||Vy(m)||"boolean"==typeof m)continue;let b=Wx(p.prevProp,m)||f===o&&p.isActive&&!v&&g||t>h&&g,w=!1;const x=Array.isArray(m)?m:[m];let E=x.reduce(i,{});!1===y&&(E={});const{prevResolvedValues:S={}}=p,k={...S,...E},C=e=>{b=!0,c.has(e)&&(w=!0,c.delete(e)),p.needsAnimating[e]=!0};for(const e in k){const t=E[e],n=S[e];if(d.hasOwnProperty(e))continue;let r=!1;r=tb(t)&&tb(n)?!Lb(t,n):t!==n,r?void 0!==t?C(e):c.add(e):void 0!==t&&c.has(e)?C(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=E,p.isActive&&(d={...d,...E}),r&&e.blockInitialAnimation&&(b=!1),!b||v&&!w||u.push(...x.map((e=>({animation:e,options:{type:f,...s}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),u.push({animation:t})}let f=Boolean(u.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(u):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=s(i,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Wx(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!Lb(t,e)}function Hx(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Kx=0;const Qx={animation:{Feature:class extends Cb{constructor(e){super(e),e.animationState||(e.animationState=qx(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Vy(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Cb{constructor(){super(...arguments),this.id=Kx++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!=n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Gx=(e,t)=>Math.abs(e-t);class Yx{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Zx(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Gx(e.x,t.x),r=Gx(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=cb;this.history.push({...r,timestamp:i});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Xx(t,this.transformPagePoint),lb.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=Zx("pointercancel"===e.type?this.lastMoveEventInfo:Xx(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!mb(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=Xx(gb(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=cb;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,Zx(s,this.history)),this.removeListeners=bb(yb(this.contextWindow,"pointermove",this.handlePointerMove),yb(this.contextWindow,"pointerup",this.handlePointerUp),yb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ub(this.updatePoint)}}function Xx(e,t){return t?{point:t(e.point)}:e}function Jx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Zx({point:e},t){return{point:e,delta:Jx(e,tE(t)),offset:Jx(e,eE(t)),velocity:nE(t,.1)}}function eE(e){return e[0]}function tE(e){return e[e.length-1]}function nE(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=tE(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ub(t)));)n--;if(!r)return{x:0,y:0};const s=Bb(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function rE(e){return e.max-e.min}function iE(e,t=0,n=.01){return Math.abs(e-t)<=n}function sE(e,t,n,r=.5){e.origin=r,e.originPoint=gw(t.min,t.max,e.origin),e.scale=rE(n)/rE(t),(iE(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=gw(n.min,n.max,e.origin)-e.originPoint,(iE(e.translate)||isNaN(e.translate))&&(e.translate=0)}function oE(e,t,n,r){sE(e.x,t.x,n.x,r?r.originX:void 0),sE(e.y,t.y,n.y,r?r.originY:void 0)}function aE(e,t,n){e.min=n.min+t.min,e.max=e.min+rE(t)}function lE(e,t,n){e.min=t.min-n.min,e.max=e.min+rE(t)}function uE(e,t,n){lE(e.x,t.x,n.x),lE(e.y,t.y,n.y)}function cE(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function dE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const hE=.35;function fE(e,t,n){return{min:pE(e,t),max:pE(e,n)}}function pE(e,t){return"number"==typeof e?e:e[t]||0}function mE(e){return[e("x"),e("y")]}function gE({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function yE(e){return void 0===e||1===e}function vE({scale:e,scaleX:t,scaleY:n}){return!yE(e)||!yE(t)||!yE(n)}function bE(e){return vE(e)||wE(e)||e.z||e.rotate||e.rotateX||e.rotateY}function wE(e){return xE(e.x)||xE(e.y)}function xE(e){return e&&"0%"!==e}function EE(e,t,n){return n+t*(e-n)}function SE(e,t,n,r,i){return void 0!==i&&(e=EE(e,i,r)),EE(e,n,r)+t}function kE(e,t=0,n=1,r,i){e.min=SE(e.min,t,n,r,i),e.max=SE(e.max,t,n,r,i)}function CE(e,{x:t,y:n}){kE(e.x,t.translate,t.scale,t.originPoint),kE(e.y,n.translate,n.scale,n.originPoint)}function TE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function NE(e,t){e.min=e.min+t,e.max=e.max+t}function _E(e,t,[n,r,i]){const s=void 0!==t[i]?t[i]:.5,o=gw(e.min,e.max,s);kE(e,t[n],t[r],o,t.scale)}const PE=["x","scaleX","originX"],AE=["y","scaleY","originY"];function IE(e,t){_E(e.x,t,PE),_E(e.y,t,AE)}function DE(e,t){return gE(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const jE=({current:e})=>e?e.ownerDocument.defaultView:null,RE=new WeakMap;class ME{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Yx(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(gb(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Sb(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mE((e=>{let t=this.getAxisMotionValue(e).get()||0;if(kv.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=rE(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&lb.update((()=>i(e,t)),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>mE((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:jE(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&lb.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!LE(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?gw(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?gw(n,e,r.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Oy(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:cE(e.x,n,i),y:cE(e.y,t,r)}}(r.layoutBox,t),this.elastic=function(e=hE){return!1===e?e=0:!0===e&&(e=hE),{x:fE(e,"left","right"),y:fE(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&mE((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Oy(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=DE(e,n),{scroll:i}=t;return i&&(NE(r.x,i.offset.x),NE(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:dE(e.x,t.x),y:dE(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=gE(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=mE((o=>{if(!LE(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,d={type:"inertia",velocity:n?e[o]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,d)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Ex(e,n,0,t))}stopAnimation(){mE((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){mE((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){mE((t=>{const{drag:n}=this.getProps();if(!LE(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-gw(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Oy(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};mE((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=rE(e),i=rE(t);return i>r?n=Lw(t.min,t.max-r,e.min):r>i&&(n=Lw(e.min,e.max-i,t.min)),fv(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),mE((t=>{if(!LE(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(gw(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;RE.set(this.visualElement,this);const e=yb(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Oy(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=pb(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(mE((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=hE,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function LE(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const OE=e=>(t,n)=>{e&&lb.update((()=>e(t,n)))};const FE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function VE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const UE={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Cv.test(e))return e;e=parseFloat(e)}return`${VE(e,t.target.x)}% ${VE(e,t.target.y)}%`}},BE={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Aw.parse(e);if(i.length>5)return r;const s=Aw.createTransformer(e),o="number"!=typeof i[0]?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=gw(a,l,.5);return"number"==typeof i[2+o]&&(i[2+o]/=u),"number"==typeof i[3+o]&&(i[3+o]/=u),s(i)}};class zE extends De.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=qE,Object.assign(nv,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),FE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||lb.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $E(e){const[t,n]=function(){const e=Ie.useContext(Iy);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=Ie.useId();return Ie.useEffect((()=>r(i)),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}(),r=Ie.useContext(Qy);return De.createElement(zE,{...e,layoutGroup:r,switchLayoutGroup:Ie.useContext(Gy),isPresent:t,safeToRemove:n})}const qE={borderRadius:{...UE,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:UE,borderTopRightRadius:UE,borderBottomLeftRadius:UE,borderBottomRightRadius:UE,boxShadow:BE},WE=["TopLeft","TopRight","BottomLeft","BottomRight"],HE=WE.length,KE=e=>"string"==typeof e?parseFloat(e):e,QE=e=>"number"==typeof e||Cv.test(e);function GE(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const YE=JE(0,.5,nw),XE=JE(.5,.95,sb);function JE(e,t,n){return r=>r<e?0:r>t?1:n(Lw(e,t,r))}function ZE(e,t){e.min=t.min,e.max=t.max}function eS(e,t){ZE(e.x,t.x),ZE(e.y,t.y)}function tS(e,t,n,r,i){return e=EE(e-=t,1/n,r),void 0!==i&&(e=EE(e,1/i,r)),e}function nS(e,t,[n,r,i],s,o){!function(e,t=0,n=1,r=.5,i,s=e,o=e){kv.test(t)&&(t=parseFloat(t),t=gw(o.min,o.max,t/100)-o.min);if("number"!=typeof t)return;let a=gw(s.min,s.max,r);e===s&&(a-=t),e.min=tS(e.min,t,n,a,i),e.max=tS(e.max,t,n,a,i)}(e,t[n],t[r],t[i],t.scale,s,o)}const rS=["x","scaleX","originX"],iS=["y","scaleY","originY"];function sS(e,t,n,r){nS(e.x,t,rS,n?n.x:void 0,r?r.x:void 0),nS(e.y,t,iS,n?n.y:void 0,r?r.y:void 0)}function oS(e){return 0===e.translate&&1===e.scale}function aS(e){return oS(e.x)&&oS(e.y)}function lS(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function uS(e){return rE(e.x)/rE(e.y)}class cS{constructor(){this.members=[]}add(e){Cx(this.members,e),e.scheduleRender()}remove(e){if(Tx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dS(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return 1===o&&1===a||(r+=`scale(${o}, ${a})`),r||"none"}const hS=(e,t)=>e.depth-t.depth;class fS{constructor(){this.children=[],this.isDirty=!1}add(e){Cx(this.children,e),this.isDirty=!0}remove(e){Tx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hS),this.isDirty=!1,this.children.forEach(e)}}const pS=["","X","Y","Z"],mS={visibility:"hidden"};let gS=0;const yS={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function vS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=gS++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,yS.totalNodes=yS.resolvedTargetDeltas=yS.recalculatedProjection=0,this.nodes.forEach(xS),this.nodes.forEach(_S),this.nodes.forEach(PS),this.nodes.forEach(ES),e=yS,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new fS)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Nx),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(ub(r),e(s-t))};return lb.read(r,!0),()=>ub(r)}(r,250),FE.hasAnimatedSinceResize&&(FE.hasAnimatedSinceResize=!1,this.nodes.forEach(NS))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||MS,{onLayoutAnimationStart:s,onLayoutAnimationComplete:a}=o.getProps(),l=!this.targetLayout||!lS(this.targetLayout,r)||n,u=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t={...wx(i,"layout"),onPlay:s,onComplete:a};(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||NS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ub(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AS),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(kS);this.isUpdating||this.nodes.forEach(CS),this.isUpdating=!1,this.nodes.forEach(TS),this.nodes.forEach(bS),this.nodes.forEach(wS),this.clearAllSnapshots();const e=performance.now();cb.delta=fv(0,1e3/60,e-cb.timestamp),cb.timestamp=e,cb.isProcessing=!0,db.update.process(cb),db.preRender.process(cb),db.render.process(cb),cb.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(SS),this.sharedNodes.forEach(IS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lb.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lb.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!aS(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||bE(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),FS((r=n).x),FS(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(NE(t.x,n.offset.x),NE(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};eS(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){eS(t,e);const{scroll:n}=this.root;n&&(NE(t.x,-n.offset.x),NE(t.y,-n.offset.y))}NE(t.x,i.offset.x),NE(t.y,i.offset.y)}}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};eS(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&IE(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),bE(e.latestValues)&&IE(n,e.latestValues)}return bE(this.latestValues)&&IE(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};eS(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!bE(e.latestValues))continue;vE(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};eS(r,e.measurePageBox()),sS(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return bE(this.latestValues)&&sS(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cb.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=cb.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},uE(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),eS(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,aE(o.x,a.x,l.x),aE(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):eS(this.target,this.layout.layoutBox),CE(this.target,this.targetDelta)):eS(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},uE(this.relativeTargetOrigin,this.target,e.target),eS(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}yS.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!vE(this.parent.latestValues)&&!wE(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===cb.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;eS(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&IE(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,CE(e,o)),r&&bE(s.latestValues)&&IE(e,s.latestValues))}t.x=TE(t.x),t.y=TE(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const u=this.projectionTransform;oE(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=dS(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),yS.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(a&&!u&&!0===this.options.crossfade&&!this.path.some(RS));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p;DS(s.x,e.x,n),DS(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uE(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l=this.relativeTarget,h=this.relativeTargetOrigin,f=o,p=n,jS(l.x,h.x,f.x,p),jS(l.y,h.y,f.y,p),d&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),eS(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=gw(0,void 0!==n.opacity?n.opacity:1,YE(r)),e.opacityExit=gw(void 0!==t.opacity?t.opacity:1,0,XE(r))):s&&(e.opacity=gw(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<HE;o++){const i=`border${WE[o]}Radius`;let s=GE(t,i),a=GE(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||QE(s)===QE(a)?(e[i]=Math.max(gw(KE(s),KE(a),r),0),(kv.test(a)||kv.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=gw(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ub(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lb.update((()=>{FE.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=ov(e)?e:Px(e);return r.start(Ex("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&VS(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=rE(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=rE(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}eS(t,n),IE(t,i),oE(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new cS);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<pS.length;i++){const t="rotate"+pS[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return mS;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=nb(null==e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=nb(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!bE(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=dS(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in nv){if(void 0===o[u])continue;const{correct:e,applyTo:t}=nv[u],n="none"===r.transform?o[u]:e(o[u],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=s===this?nb(null==e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(kS),this.root.sharedNodes.clear()}}}function bS(e){e.updateLayout()}function wS(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?mE((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=rE(r);r.min=t[e].min,r.max=r.min+i})):VS(i,n.layoutBox,t)&&mE((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=rE(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};oE(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?oE(a,e.applyTransform(r,!0),n.measuredBox):oE(a,t,n.layoutBox);const l=!aS(o);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};uE(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};uE(a,t,s.layoutBox),lS(o,a)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function xS(e){yS.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ES(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function SS(e){e.clearSnapshot()}function kS(e){e.clearMeasurements()}function CS(e){e.isLayoutDirty=!1}function TS(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function NS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _S(e){e.resolveTargetDelta()}function PS(e){e.calcProjection()}function AS(e){e.resetRotation()}function IS(e){e.removeLeadSnapshot()}function DS(e,t,n){e.translate=gw(t.translate,0,n),e.scale=gw(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function jS(e,t,n,r){e.min=gw(t.min,n.min,r),e.max=gw(t.max,n.max,r)}function RS(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const MS={duration:.45,ease:[.4,0,.1,1]},LS=e=>"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().includes(e),OS=LS("applewebkit/")&&!LS("chrome/")?Math.round:sb;function FS(e){e.min=OS(e.min),e.max=OS(e.max)}function VS(e,t,n){return"position"===e||"preserve-aspect"===e&&!iE(uS(t),uS(n),.2)}const US=vS({attachResizeListener:(e,t)=>pb(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),BS={current:void 0},zS=vS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!BS.current){const e=new US({});e.mount(window),e.setOptions({layoutScroll:!0}),BS.current=e}return BS.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),$S={pan:{Feature:class extends Cb{constructor(){super(...arguments),this.removePointerDownListener=sb}onPointerDown(e){this.session=new Yx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:OE(e),onStart:OE(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&lb.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=yb(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Cb{constructor(e){super(e),this.removeGroupControls=sb,this.removeListeners=sb,this.controls=new ME(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sb}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:zS,MeasureLayout:$E}},qS=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function WS(e,t,n=1){const[r,i]=function(e){const t=qS.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return kx(e)?parseFloat(e):e}return dv(i)?WS(i,t,n+1):i}const HS=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),KS=e=>HS.has(e),QS=e=>e===pv||e===Cv,GS=(e,t)=>parseFloat(e.split(", ")[t]),YS=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return GS(i[1],t);{const t=r.match(/^matrix\((.+)\)$/);return t?GS(t[1],e):0}},XS=new Set(["x","y","z"]),JS=rv.filter((e=>!XS.has(e)));const ZS={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:YS(4,13),y:YS(5,14)};ZS.translateX=ZS.x,ZS.translateY=ZS.y;const ek=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(KS);let s=[],o=!1;const a=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let u=n[i],c=Dx(u);const d=t[i];let h;if(tb(d)){const e=d.length,t=null===d[0]?1:0;u=d[t],c=Dx(u);for(let n=t;n<e&&null!==d[n];n++)h?Vb(Dx(d[n])===h):h=Dx(d[n])}else h=Dx(d);if(c!==h)if(QS(c)&&QS(h)){const e=l.get();"string"==typeof e&&l.set(parseFloat(e)),"string"==typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===Cv&&(t[i]=d.map(parseFloat))}else(null==c?void 0:c.transform)&&(null==h?void 0:h.transform)&&(0===u||0===d)?0===u?l.set(h.transform(u)):t[i]=c.transform(d):(o||(s=function(e){const t=[];return JS.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{a[e]=ZS[e](r,s)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=ZS[n](l,s)})),e})(t,e,a);return s.length&&s.forEach((([t,n])=>{e.getValue(t).set(n)})),e.render(),Dy&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function tk(e,t,n,r){return(e=>Object.keys(e).some(KS))(t)?ek(e,t,n,r):{target:t,transitionEnd:r}}const nk=(e,t,n,r)=>{const i=function(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!dv(t))return;const n=WS(t,r);n&&e.set(n)}));for(const i in t){const e=t[i];if(!dv(e))continue;const s=WS(e,r);s&&(t[i]=s,n||(n={}),void 0===n[i]&&(n[i]=e))}return{target:t,transitionEnd:n}}(e,t,r);return tk(e,t=i.target,n,r=i.transitionEnd)},rk={current:null},ik={current:!1};const sk=new WeakMap,ok=Object.keys(Ky),ak=ok.length,lk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],uk=By.length;class ck{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>lb.render(this.render,!1,!0);const{latestValues:o,renderState:a}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=zy(t),this.isVariantNode=$y(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(t,{});for(const c in u){const e=u[c];void 0!==o[c]&&ov(e)&&(e.set(o[c],!1),Sx(l)&&l.add(c))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,sk.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),ik.current||function(){if(ik.current=!0,Dy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rk.current=e.matches;e.addListener(t),t()}else rk.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||rk.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sk.delete(this.current),this.projection&&this.projection.unmount(),ub(this.notifyUpdate),ub(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=iv.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&lb.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures({children:e,...t},n,r,i){let s,o;for(let a=0;a<ak;a++){const e=ok[a],{isEnabled:n,Feature:r,ProjectionNode:i,MeasureLayout:l}=Ky[e];i&&(s=i),n(t)&&(!this.features[e]&&r&&(this.features[e]=new r(this)),l&&(o=l))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:n,drag:r,dragConstraints:o,layoutScroll:a,layoutRoot:l}=t;this.projection.setOptions({layoutId:e,layout:n,alwaysMeasureLayout:Boolean(r)||o&&Oy(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:i,layoutScroll:a,layoutRoot:l})}return o}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<lk.length;n++){const t=lk[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(ov(s))e.addValue(i,s),Sx(r)&&r.add(i);else if(ov(o))e.addValue(i,Px(s,{owner:e})),Sx(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,Px(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const t={};for(let n=0;n<uk;n++){const e=By[n],r=this.props[e];(Fy(r)||!1===r)&&(t[e]=r)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Px(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"==typeof n||"object"==typeof n?null===(t=Zv(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||ov(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Nx),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class dk extends ck{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},i){let s=function(e,t,n){const r={};for(const i in e){const e=Mx(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),s&&(s=r(s))),i){!function(e,t,n){var r,i;const s=Object.keys(t).filter((t=>!e.hasValue(t))),o=s.length;var a;if(o)for(let l=0;l<o;l++){const o=s[l],u=t[o];let c=null;Array.isArray(u)&&(c=u[0]),null===c&&(c=null!==(i=null!==(r=n[o])&&void 0!==r?r:e.readValue(o))&&void 0!==i?i:t[o]),null!=c&&("string"==typeof c&&(kx(c)||vx(c))?c=parseFloat(c):(a=c,!jx.find(Ax(a))&&Aw.test(u)&&(c=yx(o,u))),e.addValue(o,Px(c,{owner:e})),void 0===n[o]&&(n[o]=c),null!==c&&e.setBaseTarget(o,c))}}(this,n,s);const e=nk(this,n,s,t);t=e.transitionEnd,n=e.target}return{transition:e,transitionEnd:t,...n}}}class hk extends dk{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(iv.has(t)){const e=gx(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(cv(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return DE(e,t)}build(e,t,n,r){Iv(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Xv(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ov(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}renderInstance(e,t,n,r){Qv(e,t,n,r)}}class fk extends dk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(iv.has(t)){const e=gx(t);return e&&e.default||0}return t=Gv.has(t)?t:My(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Jv(e,t)}build(e,t,n,r){$v(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Yv(e,t,0,r)}mount(e){this.isSVGTag=Wv(e.tagName),super.mount(e)}}const pk=(e,t)=>tv(e)?new fk(t,{enableHardwareAcceleration:!1}):new hk(t,{enableHardwareAcceleration:!0}),mk={...Qx,...Mb,...$S,...{layout:{ProjectionNode:zS,MeasureLayout:$E}}},gk=Zy(((e,t)=>function(e,{forwardMotionProps:t=!1},n,r){return{...tv(e)?hb:fb,preloadedFeatures:n,useRender:Kv(t),createVisualElement:r,Component:e}}(e,t,mk,pk)));function yk(){const e=Ie.useRef(!1);return jy((()=>(e.current=!0,()=>{e.current=!1})),[]),e}class vk extends Ie.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function bk({children:e,isPresent:t}){const n=Ie.useId(),r=Ie.useRef(null),i=Ie.useRef({width:0,height:0,top:0,left:0});return Ie.useInsertionEffect((()=>{const{width:e,height:s,top:o,left:a}=i.current;if(t||!r.current||!e||!s)return;r.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${s}px !important;\n            top: ${o}px !important;\n            left: ${a}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[t]),Ie.createElement(vk,{isPresent:t,childRef:r,sizeRef:i},Ie.cloneElement(e,{ref:r}))}const wk=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=eb(xk),l=Ie.useId(),u=Ie.useMemo((()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:e=>{a.set(e,!0);for(const t of a.values())if(!t)return;r&&r()},register:e=>(a.set(e,!1),()=>a.delete(e))})),s?void 0:[n]);return Ie.useMemo((()=>{a.forEach(((e,t)=>a.set(t,!1)))}),[n]),Ie.useEffect((()=>{!n&&!a.size&&r&&r()}),[n]),"popLayout"===o&&(e=Ie.createElement(bk,{isPresent:n},e)),Ie.createElement(Iy.Provider,{value:u},e)};function xk(){return new Map}const Ek=e=>e.key||"";const Sk=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=Ie.useContext(Qy).forceRender||function(){const e=yk(),[t,n]=Ie.useState(0),r=Ie.useCallback((()=>{e.current&&n(t+1)}),[t]);return[Ie.useCallback((()=>lb.postRender(r)),[r]),t]}()[0],l=yk(),u=function(e){const t=[];return Ie.Children.forEach(e,(e=>{Ie.isValidElement(e)&&t.push(e)})),t}(e);let c=u;const d=Ie.useRef(new Map).current,h=Ie.useRef(c),f=Ie.useRef(new Map).current,p=Ie.useRef(!0);var m;if(jy((()=>{p.current=!1,function(e,t){e.forEach((e=>{const n=Ek(e);t.set(n,e)}))}(u,f),h.current=c})),m=()=>{p.current=!0,f.clear(),d.clear()},Ie.useEffect((()=>()=>m()),[]),p.current)return Ie.createElement(Ie.Fragment,null,c.map((e=>Ie.createElement(wk,{key:Ek(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:s,mode:o},e))));c=[...c];const g=h.current.map(Ek),y=u.map(Ek),v=g.length;for(let b=0;b<v;b++){const e=g[b];-1!==y.indexOf(e)||d.has(e)||d.set(e,void 0)}return"wait"===o&&d.size&&(c=[]),d.forEach(((e,n)=>{if(-1!==y.indexOf(n))return;const i=f.get(n);if(!i)return;const p=g.indexOf(n);let m=e;if(!m){const e=()=>{d.delete(n);const e=Array.from(f.keys()).filter((e=>!y.includes(e)));if(e.forEach((e=>f.delete(e))),h.current=u.filter((t=>{const r=Ek(t);return r===n||e.includes(r)})),!d.size){if(!1===l.current)return;a(),r&&r()}};m=Ie.createElement(wk,{key:Ek(i),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:s,mode:o},i),d.set(n,m)}c.splice(p,0,m)})),c=c.map((e=>{const t=e.key;return d.has(t)?e:Ie.createElement(wk,{key:Ek(e),isPresent:!0,presenceAffectsLayout:s,mode:o},e)})),Ie.createElement(Ie.Fragment,null,d.size?c:c.map((e=>Ie.cloneElement(e))))},kk=({children:e,duration:t=.5,delay:n=0,className:r=""})=>Be.jsx(gk.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:t,delay:n,ease:"easeInOut"},className:r,children:e}),Ck=({children:e,scale:t=1.03,className:n=""})=>Be.jsx(gk.div,{whileHover:{scale:t},whileTap:{scale:.98},transition:{duration:.2},className:n,children:e}),Tk=({size:e=48,className:t=""})=>Be.jsxs(gk.svg,{width:e,height:e,viewBox:"0 0 50 50",className:t,children:[Be.jsx(gk.circle,{cx:"25",cy:"25",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.5,ease:"easeInOut"}}),Be.jsx(gk.path,{d:"M15 25 L22 32 L35 18",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.5,delay:.3,ease:"easeInOut"}})]})
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,Nk=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_k={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Nk(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Pk;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Pk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ak=function(e){return function(e){const t=Nk(e);return _k.encodeByteArray(t,!0)}(e).replace(/\./g,"")};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ik=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Dk=()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(OR){return}const t=e&&function(e){try{return _k.decodeString(e,!0)}catch(OR){console.error("base64Decode failed: ",OR)}return null}(e[1]);return t&&JSON.parse(t)},jk=()=>{try{return Ik()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e={}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||Dk()}catch(OR){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${OR}`)}},Rk=e=>{const t=(e=>{var t,n;return null===(n=null===(t=jk())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Mk=()=>{var e;return null===(e=jk())||void 0===e?void 0:e.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Lk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(){return!function(){var e;const t=null===(e=jk())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(OR){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class Fk extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Fk.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vk.prototype.create)}}class Vk{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(Uk,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new Fk(r,o,n)}}const Uk=/\{\$([^}]+)}/g;function Bk(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(zk(n)&&zk(s)){if(!Bk(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zk(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(e){return e&&e._delegate?e._delegate:e}class qk{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Lk;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(OR){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(OR){if(r)return null;throw OR}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:Wk})}catch(OR){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(OR){}}}}clearInstance(e=Wk){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=Wk){return this.instances.has(e)}getOptions(e=Wk){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(FR){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Wk?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(FR){}var r;return n||null}normalizeInstanceIdentifier(e=Wk){return this.component?this.component.multipleInstances?e:Wk:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Kk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Hk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qk,Gk;(Gk=Qk||(Qk={}))[Gk.DEBUG=0]="DEBUG",Gk[Gk.VERBOSE=1]="VERBOSE",Gk[Gk.INFO=2]="INFO",Gk[Gk.WARN=3]="WARN",Gk[Gk.ERROR=4]="ERROR",Gk[Gk.SILENT=5]="SILENT";const Yk={debug:Qk.DEBUG,verbose:Qk.VERBOSE,info:Qk.INFO,warn:Qk.WARN,error:Qk.ERROR,silent:Qk.SILENT},Xk=Qk.INFO,Jk={[Qk.DEBUG]:"log",[Qk.VERBOSE]:"log",[Qk.INFO]:"info",[Qk.WARN]:"warn",[Qk.ERROR]:"error"},Zk=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=Jk[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class eC{constructor(e){this.name=e,this._logLevel=Xk,this._logHandler=Zk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qk))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qk.DEBUG,...e),this._logHandler(this,Qk.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qk.VERBOSE,...e),this._logHandler(this,Qk.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qk.INFO,...e),this._logHandler(this,Qk.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qk.WARN,...e),this._logHandler(this,Qk.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qk.ERROR,...e),this._logHandler(this,Qk.ERROR,...e)}}let tC,nC;const rC=new WeakMap,iC=new WeakMap,sC=new WeakMap,oC=new WeakMap,aC=new WeakMap;let lC={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return iC.get(e);if("objectStoreNames"===t)return e.objectStoreNames||sC.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dC(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function uC(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(nC||(nC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(hC(this),t),dC(rC.get(this))}:function(...t){return dC(e.apply(hC(this),t))}:function(t,...n){const r=e.call(hC(this),t,...n);return sC.set(r,t.sort?t.sort():[t]),dC(r)}}function cC(e){return"function"==typeof e?uC(e):(e instanceof IDBTransaction&&function(e){if(iC.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));iC.set(e,t)}(e),t=e,(tC||(tC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,lC):e);var t}function dC(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(dC(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&rC.set(t,e)})).catch((()=>{})),aC.set(t,e),t}(e);if(oC.has(e))return oC.get(e);const t=cC(e);return t!==e&&(oC.set(e,t),aC.set(t,e)),t}const hC=e=>aC.get(e);const fC=["get","getKey","getAll","getAllKeys","count"],pC=["put","add","delete","clear"],mC=new Map;function gC(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(mC.get(t))return mC.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=pC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!fC.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return mC.set(t,s),s}lC=(e=>({...e,get:(t,n,r)=>gC(t,n)||e.get(t,n,r),has:(t,n)=>!!gC(t,n)||e.has(t,n)}))(lC);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class yC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const vC="@firebase/app",bC="0.10.13",wC=new eC("@firebase/app"),xC="@firebase/app-compat",EC="@firebase/analytics-compat",SC="@firebase/analytics",kC="@firebase/app-check-compat",CC="@firebase/app-check",TC="@firebase/auth",NC="@firebase/auth-compat",_C="@firebase/database",PC="@firebase/data-connect",AC="@firebase/database-compat",IC="@firebase/functions",DC="@firebase/functions-compat",jC="@firebase/installations",RC="@firebase/installations-compat",MC="@firebase/messaging",LC="@firebase/messaging-compat",OC="@firebase/performance",FC="@firebase/performance-compat",VC="@firebase/remote-config",UC="@firebase/remote-config-compat",BC="@firebase/storage",zC="@firebase/storage-compat",$C="@firebase/firestore",qC="@firebase/vertexai-preview",WC="@firebase/firestore-compat",HC="firebase",KC="[DEFAULT]",QC={[vC]:"fire-core",[xC]:"fire-core-compat",[SC]:"fire-analytics",[EC]:"fire-analytics-compat",[CC]:"fire-app-check",[kC]:"fire-app-check-compat",[TC]:"fire-auth",[NC]:"fire-auth-compat",[_C]:"fire-rtdb",[PC]:"fire-data-connect",[AC]:"fire-rtdb-compat",[IC]:"fire-fn",[DC]:"fire-fn-compat",[jC]:"fire-iid",[RC]:"fire-iid-compat",[MC]:"fire-fcm",[LC]:"fire-fcm-compat",[OC]:"fire-perf",[FC]:"fire-perf-compat",[VC]:"fire-rc",[UC]:"fire-rc-compat",[BC]:"fire-gcs",[zC]:"fire-gcs-compat",[$C]:"fire-fst",[WC]:"fire-fst-compat",[qC]:"fire-vertex","fire-js":"fire-js",[HC]:"fire-js-all"},GC=new Map,YC=new Map,XC=new Map;function JC(e,t){try{e.container.addComponent(t)}catch(OR){wC.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,OR)}}function ZC(e){const t=e.name;if(XC.has(t))return wC.debug(`There were multiple attempts to register component ${t}.`),!1;XC.set(t,e);for(const n of GC.values())JC(n,e);for(const n of YC.values())JC(n,e);return!0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const eT=new Vk("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class tT{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new qk("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eT.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:KC,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw eT.create("bad-app-name",{appName:String(i)});if(n||(n=Mk()),!n)throw eT.create("no-options");const s=GC.get(i);if(s){if(Bk(n,s.options)&&Bk(r,s.config))return s;throw eT.create("duplicate-app",{appName:i})}const o=new Kk(i);for(const l of XC.values())o.addComponent(l);const a=new tT(n,r,o);return GC.set(i,a),a}function rT(e,t,n){var r;let i=null!==(r=QC[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void wC.warn(e.join(" "))}ZC(new qk(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="firebase-heartbeat-store";let sT=null;function oT(){return sT||(sT=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=dC(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(dC(o.result),e.oldVersion,e.newVersion,dC(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(iT)}catch(OR){console.warn(OR)}}}).catch((e=>{throw eT.create("idb-open",{originalErrorMessage:e.message})}))),sT}async function aT(e,t){try{const n=(await oT()).transaction(iT,"readwrite"),r=n.objectStore(iT);await r.put(t,lT(e)),await n.done}catch(OR){if(OR instanceof Fk)wC.warn(OR.message);else{const t=eT.create("idb-set",{originalErrorMessage:null==OR?void 0:OR.message});wC.warn(t.message)}}}function lT(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dT(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=cT();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(OR){wC.warn(OR)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=cT(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),hT(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hT(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ak(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(OR){return wC.warn(OR),""}}}function cT(){return(new Date).toISOString().substring(0,10)}class dT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(OR){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await oT()).transaction(iT),n=await t.objectStore(iT).get(lT(e));return await t.done,n}catch(OR){if(OR instanceof Fk)wC.warn(OR.message);else{const t=eT.create("idb-get",{originalErrorMessage:null==OR?void 0:OR.message});wC.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return aT(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return aT(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function hT(e){return Ak(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fT;fT="",ZC(new qk("platform-logger",(e=>new yC(e)),"PRIVATE")),ZC(new qk("heartbeat",(e=>new uT(e)),"PRIVATE")),rT(vC,bC,fT),rT(vC,bC,"esm2017"),rT("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
rT("firebase","10.14.1","app");var pT,mT,gT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);d(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,mT=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},pT=r}).apply(void 0!==gT?gT:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var yT,vT,bT,wT,xT,ET,ST,kT,CT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof CT&&CT];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=P;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let N,_=!1,P=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);N=()=>{e.then(I)}};var I=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){S(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_=!1};function D(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,j);var L={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var O="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}B.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=$(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new V(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function H(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);return null}return n=te(n),e&&e[O]?e.K(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new B(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[O]?e.L(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function G(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[O]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[O])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"==typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var i=t;x(t=new j(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&z(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"==typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,D),ne.prototype[O]=!0,ne.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}d(le,D);var ue=[];function ce(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){j.call(this,"d")}function be(){j.call(this,"c")}d(ve,j),d(be,j);var we={},xe=null;function Ee(){return xe=xe||new ne}function Se(e){j.call(this,we.La,e)}function ke(e){const t=Ee();re(t,new Se(t))}function Ce(e,t){j.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Ee();re(t,new Ce(t,e))}function Ne(e,t){j.call(this,we.Ma,e),this.size=t}function _e(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Pe(){this.g=!0}function Ae(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(Se,j),we.STAT_EVENT="statevent",d(Ce,j),we.Ma="timingevent",d(Ne,j),Pe.prototype.xa=function(){this.g=!1},Pe.prototype.info=function(){};var Ie,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Ie=new Re;var Oe={},Fe={};function Ve(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var o=H(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Oe:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=_e(u(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Gt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=_e(u(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(We(a),$e(a)),r.g=o}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=u[0]&&"close"!=u[0]||cn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?cn(n,7):Qt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}ke()}catch(c){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||ke(),We(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Wt(this.g);e="";var s=r.length,o=4==qt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ke(this),He(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,Te(12),Ke(this),He(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=ze(this,a),e==Fe){4==h&&(this.s=4,Te(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Oe){this.s=4,Te(15),Ae(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Qe(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(d),d.M=!0,Te(11))}}else Ae(this.i,this.l,a,"[Invalid Chunked Response]"),Ke(this),He(this)}else Ae(this.i,this.l,a,null),Qe(this,a);4==h&&Ke(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),He(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Te(17)),Ke(this),this.s=2,He(this)):qe(this,this.S-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(s(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function dt(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){xt(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return xt(e),t=Ct(e,t),e.g.has(t)}function kt(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),h(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Nt(){this.g=new fe}function _t(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(OR){throw t.push(r+"type="+encodeURIComponent("_badmap")),OR}}function Pt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function It(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,jt(e)}function jt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Lt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"==typeof e)St(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,St(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(Pt,pe),Pt.prototype.g=function(){return new At(this.l,this.j)},Pt.prototype.i=function(e){return function(){return e}}({}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,jt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;It(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):jt(this),3==this.readyState&&It(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Lt,ne);var Ot=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),zt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Ot.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<qt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Ut(e)}}finally{zt(e)}}}function zt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(OR){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ht(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ht("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ht("baseRetryDelayMs",5e3,e),this.cb=Ht("retryDelaySeedMs",1e4,e),this.Wa=Ht("forwardChannelMaxRetries",2,e),this.wa=Ht("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Yt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),Zt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Gt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Yt(e){Gt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;N||A(),_||(N(),_=!0),P.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,r,t)}function Zt(e,t){e.H&&v(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{_t(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;N||A(),_||(N(),_=!0),P.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=_e(u(e.Fa,e),un(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new Ne(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=_e(u(e.Ga,e,t),un(e,e.B)),e.B++,0)))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Pe;if(i.Image){const r=new Image;r.onload=c(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Pe;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),Yt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),Zt(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Lt(new Pt({eb:n})):new Lt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Lt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?me(this.o):me(Ie),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zt(this,!0)),Lt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(en){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(en){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ct(n=ot(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Rt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,Ve(i,n,null)):Ve(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=_e(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Gt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Gt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,kT=function(){return new mn},ST=function(){return Ee()},ET=we,xT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,wT=De,je.COMPLETE="complete",bT=je,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,vT=ge,Lt.prototype.listenOnce=Lt.prototype.L,Lt.prototype.getLastError=Lt.prototype.Ka,Lt.prototype.getLastErrorCode=Lt.prototype.Ba,Lt.prototype.getStatus=Lt.prototype.Z,Lt.prototype.getResponseJson=Lt.prototype.Oa,Lt.prototype.getResponseText=Lt.prototype.oa,Lt.prototype.send=Lt.prototype.ea,Lt.prototype.setWithCredentials=Lt.prototype.Ha,yT=Lt}).apply(void 0!==CT?CT:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const TT="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}NT.UNAUTHENTICATED=new NT(null),NT.GOOGLE_CREDENTIALS=new NT("google-credentials-uid"),NT.FIRST_PARTY=new NT("first-party-uid"),NT.MOCK_USER=new NT("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let _T="10.14.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=new eC("@firebase/firestore");function AT(){return PT.logLevel}function IT(e,...t){if(PT.logLevel<=Qk.DEBUG){const n=t.map(RT);PT.debug(`Firestore (${_T}): ${e}`,...n)}}function DT(e,...t){if(PT.logLevel<=Qk.ERROR){const n=t.map(RT);PT.error(`Firestore (${_T}): ${e}`,...n)}}function jT(e,...t){if(PT.logLevel<=Qk.WARN){const n=t.map(RT);PT.warn(`Firestore (${_T}): ${e}`,...n)}}function RT(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(e="Unexpected state"){const t=`FIRESTORE (${_T}) INTERNAL ASSERTION FAILED: `+e;throw DT(t),new Error(t)}function LT(e,t){e||MT()}function OT(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class VT extends Fk{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(NT.UNAUTHENTICATED)))}shutdown(){}}class $T{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class qT{constructor(e){this.t=e,this.currentUser=NT.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){LT(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new UT;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new UT,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{IT("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(IT("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new UT)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(IT("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(LT("string"==typeof t.accessToken),new BT(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return LT(null===e||"string"==typeof e),new NT(e)}}class WT{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=NT.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HT{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new WT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(NT.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class KT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QT{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){LT(void 0===this.o);const n=e=>{null!=e.error&&IT("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,IT("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{IT("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):IT("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(LT("string"==typeof e.token),this.R=e.token,new KT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=GT(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function XT(e,t){return e<t?-1:e>t?1:0}function JT(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new VT(FT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new VT(FT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new VT(FT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new VT(FT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ZT.fromMillis(Date.now())}static fromDate(e){return ZT.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ZT(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?XT(this.nanoseconds,e.nanoseconds):XT(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.timestamp=e}static fromTimestamp(e){return new eN(e)}static min(){return new eN(new ZT(0,0))}static max(){return new eN(new ZT(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t,n){void 0===t?t=0:t>e.length&&MT(),void 0===n?n=e.length-t:n>e.length-t&&MT(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===tN.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tN?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nN extends tN{construct(e,t,n){return new nN(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new VT(FT.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new nN(t)}static emptyPath(){return new nN([])}}const rN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class iN extends tN{construct(e,t,n){return new iN(e,t,n)}static isValidIdentifier(e){return rN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),iN.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new iN(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new VT(FT.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new VT(FT.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new VT(FT.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new VT(FT.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new iN(t)}static emptyPath(){return new iN([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.path=e}static fromPath(e){return new sN(nN.fromString(e))}static fromName(e){return new sN(nN.fromString(e).popFirst(5))}static empty(){return new sN(nN.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nN.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nN.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new sN(new nN(e.slice()))}}function oN(e){return new aN(e.readTime,e.key,-1)}class aN{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new aN(eN.min(),sN.empty(),-1)}static max(){return new aN(eN.max(),sN.empty(),-1)}}function lN(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=sN.comparator(e.documentKey,t.documentKey),0!==n?n:XT(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class uN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(e){if(e.code!==FT.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;IT("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&MT(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new dN(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof dN?t:dN.resolve(t)}catch(t){return dN.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):dN.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):dN.reject(t)}static resolve(e){return new dN(((t,n)=>{t(e)}))}static reject(e){return new dN(((t,n)=>{n(e)}))}static waitFor(e){return new dN(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=dN.resolve(!1);for(const n of e)t=t.next((e=>e?dN.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new dN(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new dN(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function hN(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function pN(e){return null==e}function mN(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function gN(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yN(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fN.oe=-1;class bN{constructor(e,t){this.comparator=e,this.root=t||xN.EMPTY}insert(e,t){return new bN(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xN.BLACK,null,null))}remove(e){return new bN(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xN.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wN(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wN(this.root,e,this.comparator,!1)}getReverseIterator(){return new wN(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wN(this.root,e,this.comparator,!0)}}class wN{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xN{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:xN.RED,this.left=null!=r?r:xN.EMPTY,this.right=null!=i?i:xN.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new xN(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return xN.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return xN.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xN.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xN.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw MT();if(this.right.isRed())throw MT();const e=this.left.check();if(e!==this.right.check())throw MT();return e+(this.isRed()?0:1)}}xN.EMPTY=null,xN.RED=!0,xN.BLACK=!1,xN.EMPTY=new class{constructor(){this.size=0}get key(){throw MT()}get value(){throw MT()}get color(){throw MT()}get left(){throw MT()}get right(){throw MT()}copy(e,t,n,r,i){return this}insert(e,t,n){return new xN(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class EN{constructor(e){this.comparator=e,this.data=new bN(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SN(this.data.getIterator())}getIteratorFrom(e){return new SN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof EN))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new EN(this.comparator);return t.data=e,t}}class SN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.fields=e,e.sort(iN.comparator)}static empty(){return new kN([])}unionWith(e){let t=new EN(iN.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new kN(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return JT(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new CN("Invalid base64 string: "+t):t}}(e);return new TN(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new TN(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return XT(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}TN.EMPTY_BYTE_STRING=new TN("");const NN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _N(e){if(LT(!!e),"string"==typeof e){let t=0;const n=NN.exec(e);if(LT(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:PN(e.seconds),nanos:PN(e.nanos)}}function PN(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function AN(e){return"string"==typeof e?TN.fromBase64String(e):TN.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function DN(e){const t=e.mapValue.fields.__previous_value__;return IN(t)?DN(t):t}function jN(e){const t=_N(e.mapValue.fields.__local_write_time__.timestampValue);return new ZT(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class MN{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new MN("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof MN&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={fields:{__type__:{stringValue:"__max__"}}};function ON(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?IN(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}(e)?10:11:MT()}function FN(e,t){if(e===t)return!0;const n=ON(e);if(n!==ON(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jN(e).isEqual(jN(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=_N(e.timestampValue),r=_N(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,AN(e.bytesValue).isEqual(AN(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return PN(e.geoPointValue.latitude)===PN(t.geoPointValue.latitude)&&PN(e.geoPointValue.longitude)===PN(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return PN(e.integerValue)===PN(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=PN(e.doubleValue),r=PN(t.doubleValue);return n===r?mN(n)===mN(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return JT(e.arrayValue.values||[],t.arrayValue.values||[],FN);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gN(n)!==gN(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!FN(n[i],r[i])))return!1;return!0}(e,t);default:return MT()}var r}function VN(e,t){return void 0!==(e.values||[]).find((e=>FN(e,t)))}function UN(e,t){if(e===t)return 0;const n=ON(e),r=ON(t);if(n!==r)return XT(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return XT(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=PN(e.integerValue||e.doubleValue),r=PN(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return BN(e.timestampValue,t.timestampValue);case 4:return BN(jN(e),jN(t));case 5:return XT(e.stringValue,t.stringValue);case 6:return function(e,t){const n=AN(e),r=AN(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=XT(n[i],r[i]);if(0!==e)return e}return XT(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=XT(PN(e.latitude),PN(t.latitude));return 0!==n?n:XT(PN(e.longitude),PN(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return zN(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,u=null===(r=a.value)||void 0===r?void 0:r.arrayValue,c=XT((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:zN(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===LN&&t===LN)return 0;if(e===LN)return 1;if(t===LN)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=XT(r[o],s[o]);if(0!==e)return e;const t=UN(n[r[o]],i[s[o]]);if(0!==t)return t}return XT(r.length,s.length)}(e.mapValue,t.mapValue);default:throw MT()}}function BN(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return XT(e,t);const n=_N(e),r=_N(t),i=XT(n.seconds,r.seconds);return 0!==i?i:XT(n.nanos,r.nanos)}function zN(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=UN(n[i],r[i]);if(e)return e}return XT(n.length,r.length)}function $N(e){return qN(e)}function qN(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=_N(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?AN(e.bytesValue).toBase64():"referenceValue"in e?function(e){return sN.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=qN(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${qN(e.fields[i])}`;return n+"}"}(e.mapValue):MT()}function WN(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function HN(e){return!!e&&"integerValue"in e}function KN(e){return!!e&&"arrayValue"in e}function QN(e){return!!e&&"nullValue"in e}function GN(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function YN(e){return!!e&&"mapValue"in e}function XN(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yN(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=XN(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=XN(e.arrayValue.values[n]);return t}return Object.assign({},e)}class JN{constructor(e){this.value=e}static empty(){return new JN({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!YN(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=XN(t)}setAll(e){let t=iN.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=XN(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());YN(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return FN(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];YN(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yN(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new JN(XN(this.value))}}function ZN(e){const t=[];return yN(e.fields,((e,n)=>{const r=new iN([e]);if(YN(n)){const e=ZN(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new kN(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class e_{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new e_(e,0,eN.min(),eN.min(),eN.min(),JN.empty(),0)}static newFoundDocument(e,t,n,r){return new e_(e,1,t,eN.min(),n,r,0)}static newNoDocument(e,t){return new e_(e,2,t,eN.min(),eN.min(),JN.empty(),0)}static newUnknownDocument(e,t){return new e_(e,3,t,eN.min(),eN.min(),JN.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(eN.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=JN.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=JN.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=eN.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof e_&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new e_(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,t){this.position=e,this.inclusive=t}}function n_(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?sN.comparator(sN.fromName(o.referenceValue),n.key):UN(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function r_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!FN(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t="asc"){this.field=e,this.dir=t}}function s_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{}class a_ extends o_{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new p_(e,t,n):"array-contains"===t?new v_(e,n):"in"===t?new b_(e,n):"not-in"===t?new w_(e,n):"array-contains-any"===t?new x_(e,n):new a_(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new m_(e,n):new g_(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(UN(t,this.value)):null!==t&&ON(this.value)===ON(t)&&this.matchesComparison(UN(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return MT()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class l_ extends o_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new l_(e,t)}matches(e){return u_(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function u_(e){return"and"===e.op}function c_(e){return function(e){for(const t of e.filters)if(t instanceof l_)return!1;return!0}(e)&&u_(e)}function d_(e){if(e instanceof a_)return e.field.canonicalString()+e.op.toString()+$N(e.value);if(c_(e))return e.filters.map((e=>d_(e))).join(",");{const t=e.filters.map((e=>d_(e))).join(",");return`${e.op}(${t})`}}function h_(e,t){return e instanceof a_?(n=e,(r=t)instanceof a_&&n.op===r.op&&n.field.isEqual(r.field)&&FN(n.value,r.value)):e instanceof l_?function(e,t){return t instanceof l_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&h_(n,t.filters[r])),!0)}(e,t):void MT();var n,r}function f_(e){return e instanceof a_?`${(t=e).field.canonicalString()} ${t.op} ${$N(t.value)}`:e instanceof l_?function(e){return e.op.toString()+" {"+e.getFilters().map(f_).join(" ,")+"}"}(e):"Filter";var t}class p_ extends a_{constructor(e,t,n){super(e,t,n),this.key=sN.fromName(n.referenceValue)}matches(e){const t=sN.comparator(e.key,this.key);return this.matchesComparison(t)}}class m_ extends a_{constructor(e,t){super(e,"in",t),this.keys=y_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class g_ extends a_{constructor(e,t){super(e,"not-in",t),this.keys=y_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function y_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>sN.fromName(e.referenceValue)))}class v_ extends a_{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return KN(t)&&VN(t.arrayValue,this.value)}}class b_ extends a_{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&VN(this.value.arrayValue,t)}}class w_ extends a_{constructor(e,t){super(e,"not-in",t)}matches(e){if(VN(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!VN(this.value.arrayValue,t)}}class x_ extends a_{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!KN(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>VN(this.value.arrayValue,e)))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function S_(e,t=null,n=[],r=[],i=null,s=null,o=null){return new E_(e,t,n,r,i,s,o)}function k_(e){const t=OT(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>d_(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>{return(t=e).field.canonicalString()+t.dir;var t})).join(","),pN(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>$N(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>$N(e))).join(",")),t.ue=e}return t.ue}function C_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!s_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!h_(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!r_(e.startAt,t.startAt)&&r_(e.endAt,t.endAt)}function T_(e){return sN.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __(e){return new N_(e)}function P_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function A_(e){return null!==e.collectionGroup}function I_(e){const t=OT(e);if(null===t.ce){t.ce=[];const e=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new EN(iN.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new i_(r,n))})),e.has(iN.keyField().canonicalString())||t.ce.push(new i_(iN.keyField(),n))}return t.ce}function D_(e){const t=OT(e);return t.le||(t.le=function(e,t){if("F"===e.limitType)return S_(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new i_(e.field,t)}));const n=e.endAt?new t_(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new t_(e.startAt.position,e.startAt.inclusive):null;return S_(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,I_(e))),t.le}function j_(e,t){const n=e.filters.concat([t]);return new N_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function R_(e,t,n){return new N_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function M_(e,t){return C_(D_(e),D_(t))&&e.limitType===t.limitType}function L_(e){return`${k_(D_(e))}|lt:${e.limitType}`}function O_(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>f_(e))).join(", ")}]`),pN(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t})).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>$N(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>$N(e))).join(",")),`Target(${t})`}(D_(e))}; limitType=${e.limitType})`}function F_(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):sN.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of I_(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=n_(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,I_(n),r)||n.endAt&&!function(e,t,n){const r=n_(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,I_(n),r)));var n,r}function V_(e){return(t,n)=>{let r=!1;for(const i of I_(e)){const e=U_(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function U_(e,t,n){const r=e.field.isKeyField()?sN.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?UN(r,i):MT()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return MT()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yN(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return vN(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new bN(sN.comparator);function $_(){return z_}const q_=new bN(sN.comparator);function W_(...e){let t=q_;for(const n of e)t=t.insert(n.key,n);return t}function H_(e){let t=q_;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function K_(){return G_()}function Q_(){return G_()}function G_(){return new B_((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Y_=new bN(sN.comparator),X_=new EN(sN.comparator);function J_(...e){let t=X_;for(const n of e)t=t.add(n);return t}const Z_=new EN(XT);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function eP(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mN(t)?"-0":t}}function tP(e){return{integerValue:""+e}}function nP(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!mN(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?tP(t):eP(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this._=void 0}}function iP(e,t,n){return e instanceof aP?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&IN(t)&&(t=DN(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof lP?uP(e,t):e instanceof cP?dP(e,t):function(e,t){const n=oP(e,t),r=fP(n)+fP(e.Pe);return HN(n)&&HN(e.Pe)?tP(r):eP(e.serializer,r)}(e,t)}function sP(e,t,n){return e instanceof lP?uP(e,t):e instanceof cP?dP(e,t):n}function oP(e,t){return e instanceof hP?HN(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class aP extends rP{}class lP extends rP{constructor(e){super(),this.elements=e}}function uP(e,t){const n=pP(t);for(const r of e.elements)n.some((e=>FN(e,r)))||n.push(r);return{arrayValue:{values:n}}}class cP extends rP{constructor(e){super(),this.elements=e}}function dP(e,t){let n=pP(t);for(const r of e.elements)n=n.filter((e=>!FN(e,r)));return{arrayValue:{values:n}}}class hP extends rP{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function fP(e){return PN(e.integerValue||e.doubleValue)}function pP(e){return KN(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class mP{constructor(e,t){this.version=e,this.transformResults=t}}class gP{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gP}static exists(e){return new gP(void 0,e)}static updateTime(e){return new gP(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yP(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class vP{}function bP(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new PP(e.key,gP.none()):new kP(e.key,e.data,gP.none());{const n=e.data,r=JN.empty();let i=new EN(iN.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new CP(e.key,r,new kN(i.toArray()),gP.none())}}function wP(e,t,n){var r;e instanceof kP?function(e,t,n){const r=e.value.clone(),i=NP(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof CP?function(e,t,n){if(!yP(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=NP(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(TP(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function xP(e,t,n,r){return e instanceof kP?function(e,t,n,r){if(!yP(e.precondition,t))return n;const i=e.value.clone(),s=_P(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof CP?function(e,t,n,r){if(!yP(e.precondition,t))return n;const i=_P(e.fieldTransforms,r,t),s=t.data;return s.setAll(TP(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):(i=t,s=n,yP(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s);var i,s}function EP(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=oP(r.transform,e||null);null!=i&&(null===n&&(n=JN.empty()),n.set(r.field,i))}return n||null}function SP(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&JT(n,r,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof lP&&r instanceof lP||n instanceof cP&&r instanceof cP?JT(n.elements,r.elements,FN):n instanceof hP&&r instanceof hP?FN(n.Pe,r.Pe):n instanceof aP&&r instanceof aP);var n,r}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class kP extends vP{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class CP extends vP{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function TP(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function NP(e,t,n){const r=new Map;LT(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,sP(o,a,n[i]))}return r}function _P(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,iP(e,s,t))}return r}class PP extends vP{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AP extends vP{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&wP(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=xP(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=xP(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Q_();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=bP(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(eN.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),J_())}isEqual(e){return this.batchId===e.batchId&&JT(this.mutations,e.mutations,((e,t)=>SP(e,t)))&&JT(this.baseMutations,e.baseMutations,((e,t)=>SP(e,t)))}}class DP{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){LT(e.mutations.length===n.length);let r=Y_;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new DP(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MP,LP;function OP(e){if(void 0===e)return DT("GRPC error has no .code"),FT.UNKNOWN;switch(e){case MP.OK:return FT.OK;case MP.CANCELLED:return FT.CANCELLED;case MP.UNKNOWN:return FT.UNKNOWN;case MP.DEADLINE_EXCEEDED:return FT.DEADLINE_EXCEEDED;case MP.RESOURCE_EXHAUSTED:return FT.RESOURCE_EXHAUSTED;case MP.INTERNAL:return FT.INTERNAL;case MP.UNAVAILABLE:return FT.UNAVAILABLE;case MP.UNAUTHENTICATED:return FT.UNAUTHENTICATED;case MP.INVALID_ARGUMENT:return FT.INVALID_ARGUMENT;case MP.NOT_FOUND:return FT.NOT_FOUND;case MP.ALREADY_EXISTS:return FT.ALREADY_EXISTS;case MP.PERMISSION_DENIED:return FT.PERMISSION_DENIED;case MP.FAILED_PRECONDITION:return FT.FAILED_PRECONDITION;case MP.ABORTED:return FT.ABORTED;case MP.OUT_OF_RANGE:return FT.OUT_OF_RANGE;case MP.UNIMPLEMENTED:return FT.UNIMPLEMENTED;case MP.DATA_LOSS:return FT.DATA_LOSS;default:return MT()}}(LP=MP||(MP={}))[LP.OK=0]="OK",LP[LP.CANCELLED=1]="CANCELLED",LP[LP.UNKNOWN=2]="UNKNOWN",LP[LP.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",LP[LP.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",LP[LP.NOT_FOUND=5]="NOT_FOUND",LP[LP.ALREADY_EXISTS=6]="ALREADY_EXISTS",LP[LP.PERMISSION_DENIED=7]="PERMISSION_DENIED",LP[LP.UNAUTHENTICATED=16]="UNAUTHENTICATED",LP[LP.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",LP[LP.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",LP[LP.ABORTED=10]="ABORTED",LP[LP.OUT_OF_RANGE=11]="OUT_OF_RANGE",LP[LP.UNIMPLEMENTED=12]="UNIMPLEMENTED",LP[LP.INTERNAL=13]="INTERNAL",LP[LP.UNAVAILABLE=14]="UNAVAILABLE",LP[LP.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const FP=new pT([4294967295,4294967295],0);function VP(e){const t=(new TextEncoder).encode(e),n=new mT;return n.update(t),new Uint8Array(n.digest())}function UP(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new pT([n,r],0),new pT([i,s],0)]}class BP{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new zP(`Invalid padding: ${t}`);if(n<0)throw new zP(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new zP(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new zP(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=pT.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(pT.fromNumber(n)));return 1===r.compare(FP)&&(r=new pT([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=VP(e),[n,r]=UP(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new BP(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=VP(e),[n,r]=UP(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class zP extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,qP.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $P(eN.min(),r,new bN(XT),$_(),J_())}}class qP{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qP(n,t,J_(),J_(),J_())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class HP{constructor(e,t){this.targetId=e,this.me=t}}class KP{constructor(e,t,n=TN.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class QP{constructor(){this.fe=0,this.ge=XP(),this.pe=TN.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=J_(),t=J_(),n=J_();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:MT()}})),new qP(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=XP()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,LT(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GP{constructor(e){this.Le=e,this.Be=new Map,this.ke=$_(),this.qe=YP(),this.Qe=new bN(XT)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:MT()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(T_(i))if(0===n){const e=new sN(i.path);this.Ue(t,e,e_.newNoDocument(e,eN.min()))}else LT(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=AN(n).toUint8Array()}catch(a){if(a instanceof CN)return jT("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{o=new BP(s,r,i)}catch(a){return jT(a instanceof zP?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&T_(i.target)){const t=new sN(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,e_.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=J_();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new $P(e,t,this.Qe,this.ke,n);return this.ke=$_(),this.qe=YP(),this.Qe=new bN(XT),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new QP,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new EN(XT),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||IT("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new QP),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function YP(){return new bN(sN.comparator)}function XP(){return new bN(sN.comparator)}const JP={asc:"ASCENDING",desc:"DESCENDING"},ZP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eA={and:"AND",or:"OR"};class tA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nA(e,t){return e.useProto3Json||pN(t)?t:{value:t}}function rA(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sA(e,t){return rA(e,t.toTimestamp())}function oA(e){return LT(!!e),eN.fromTimestamp(function(e){const t=_N(e);return new ZT(t.seconds,t.nanos)}(e))}function aA(e,t){return lA(e,t).canonicalString()}function lA(e,t){const n=(r=e,new nN(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function uA(e){const t=nN.fromString(e);return LT(NA(t)),t}function cA(e,t){return aA(e.databaseId,t.path)}function dA(e,t){const n=uA(t);if(n.get(1)!==e.databaseId.projectId)throw new VT(FT.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new VT(FT.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new sN(pA(n))}function hA(e,t){return aA(e.databaseId,t)}function fA(e){return new nN(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pA(e){return LT(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function mA(e,t,n){return{name:cA(e,t),fields:n.value.mapValue.fields}}function gA(e,t){return{documents:[hA(e,t.path)]}}function yA(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hA(e,i);const s=function(e){if(0!==e.length)return CA(l_.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>{return{field:SA((t=e).field),direction:wA(t.dir)};var t}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=nA(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i};var l}function vA(e){let t=function(e){const t=uA(e);return 4===t.length?nN.emptyPath():pA(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){LT(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=bA(e);return t instanceof l_&&c_(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>{return new i_(kA((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,pN(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new t_(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new t_(n,t)}(n.endAt)),function(e,t,n,r,i,s,o,a){return new N_(e,t,n,r,i,s,o,a)}(t,i,o,s,a,"F",l,u)}function bA(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=kA(e.unaryFilter.field);return a_.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=kA(e.unaryFilter.field);return a_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kA(e.unaryFilter.field);return a_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=kA(e.unaryFilter.field);return a_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return MT()}}(e):void 0!==e.fieldFilter?(t=e,a_.create(kA(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return MT()}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return l_.create(e.compositeFilter.filters.map((e=>bA(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return MT()}}(e.compositeFilter.op))}(e):MT();var t}function wA(e){return JP[e]}function xA(e){return ZP[e]}function EA(e){return eA[e]}function SA(e){return{fieldPath:e.canonicalString()}}function kA(e){return iN.fromServerFormat(e.fieldPath)}function CA(e){return e instanceof a_?function(e){if("=="===e.op){if(GN(e.value))return{unaryFilter:{field:SA(e.field),op:"IS_NAN"}};if(QN(e.value))return{unaryFilter:{field:SA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(GN(e.value))return{unaryFilter:{field:SA(e.field),op:"IS_NOT_NAN"}};if(QN(e.value))return{unaryFilter:{field:SA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:SA(e.field),op:xA(e.op),value:e.value}}}(e):e instanceof l_?function(e){const t=e.getFilters().map((e=>CA(e)));return 1===t.length?t[0]:{compositeFilter:{op:EA(e.op),filters:t}}}(e):MT()}function TA(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function NA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t,n,r,i=eN.min(),s=eN.min(),o=TN.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new _A(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _A(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _A(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _A(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.ct=e}}function AA(e){const t=vA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?R_(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.un=new DA}addToCollectionParentIndex(e,t){return this.un.add(t),dN.resolve()}getCollectionParents(e,t){return dN.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return dN.resolve()}deleteFieldIndex(e,t){return dN.resolve()}deleteAllFieldIndexes(e){return dN.resolve()}createTargetIndexes(e,t){return dN.resolve()}getDocumentsMatchingTarget(e,t){return dN.resolve(null)}getIndexType(e,t){return dN.resolve(0)}getFieldIndexes(e,t){return dN.resolve([])}getNextCollectionGroupToUpdate(e){return dN.resolve(null)}getMinOffset(e,t){return dN.resolve(aN.min())}getMinOffsetFromCollectionGroup(e,t){return dN.resolve(aN.min())}updateCollectionGroup(e,t,n){return dN.resolve()}updateIndexEntries(e,t){return dN.resolve()}}class DA{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new EN(nN.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new EN(nN.comparator)).toArray()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new jA(0)}static kn(){return new jA(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.changes=new B_((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,e_.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?dN.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&xP(n.mutation,e,kN.empty(),ZT.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,J_()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=J_()){const r=K_();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=W_();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=K_();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,J_())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=$_();const s=G_(),o=G_();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof CP)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),xP(o.mutation,t,o.mutation.getFieldMask(),ZT.now())):s.set(t.key,kN.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new MA(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=G_();let r=new bN(((e,t)=>e-t)),i=J_();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||kN.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||J_()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=Q_();l.forEach((e=>{if(!i.has(e)){const r=bP(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return dN.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return i=t,sN.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):A_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):dN.resolve(K_());let o=-1,a=i;return s.next((t=>dN.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?dN.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,J_()))).next((e=>({batchId:o,changes:H_(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new sN(t)).next((e=>{let t=W_();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=W_();return this.indexManager.getCollectionParents(e,i).next((o=>dN.forEach(o,(o=>{const a=(l=t,u=o.child(i),new N_(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,e_.newInvalidDocument(r)))}));let n=W_();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&xP(s.mutation,r,kN.empty(),ZT.now()),F_(t,r)&&(n=n.insert(e,r))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return dN.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(n=t).id,version:n.version,createTime:oA(n.createTime)}),dN.resolve();var n}getNamedQuery(e,t){return dN.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(n=t).name,query:AA(n.bundledQuery),readTime:oA(n.readTime)}),dN.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.overlays=new bN(sN.comparator),this.Ir=new Map}getOverlay(e,t){return dN.resolve(this.overlays.get(t))}getOverlays(e,t){const n=K_();return dN.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),dN.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),dN.resolve()}getOverlaysForCollection(e,t,n){const r=K_(),i=t.length+1,s=new sN(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return dN.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new bN(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=K_(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=K_(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return dN.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new jP(t,n));let i=this.Ir.get(t);void 0===i&&(i=J_(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.sessionToken=TN.EMPTY_BYTE_STRING}getSessionToken(e){return dN.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,dN.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.Tr=new EN(BA.Er),this.dr=new EN(BA.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new BA(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new BA(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new sN(new nN([])),n=new BA(t,e),r=new BA(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new sN(new nN([])),n=new BA(t,e),r=new BA(t,e+1);let i=J_();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new BA(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class BA{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return sN.comparator(e.key,t.key)||XT(e.wr,t.wr)}static Ar(e,t){return XT(e.wr,t.wr)||sN.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new EN(BA.Er)}checkEmpty(e){return dN.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new IP(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new BA(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return dN.resolve(s)}lookupMutationBatch(e,t){return dN.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return dN.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return dN.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return dN.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new BA(t,0),r=new BA(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),dN.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new EN(XT);return t.forEach((e=>{const t=new BA(e,0),r=new BA(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),dN.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;sN.isDocumentKey(i)||(i=i.child(""));const s=new BA(new sN(i),0);let o=new EN(XT);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),s),dN.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){LT(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return dN.forEach(t.mutations,(r=>{const i=new BA(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new BA(t,0),r=this.br.firstAfterOrEqual(n);return dN.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,dN.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.Mr=e,this.docs=new bN(sN.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return dN.resolve(n?n.document.mutableCopy():e_.newInvalidDocument(t))}getEntries(e,t){let n=$_();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():e_.newInvalidDocument(e))})),dN.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=$_();const s=t.path,o=new sN(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||lN(oN(o),n)<=0||(r.has(o.key)||F_(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return dN.resolve(i)}getAllFromCollectionGroup(e,t,n,r){MT()}Or(e,t){return dN.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new qA(this)}getSize(e){return dN.resolve(this.size)}}class qA extends RA{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),dN.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.persistence=e,this.Nr=new B_((e=>k_(e)),C_),this.lastRemoteSnapshotVersion=eN.min(),this.highestTargetId=0,this.Lr=0,this.Br=new UA,this.targetCount=0,this.kr=jA.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),dN.resolve()}getLastRemoteSnapshotVersion(e){return dN.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return dN.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),dN.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),dN.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new jA(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,dN.resolve()}updateTargetData(e,t){return this.Kn(t),dN.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,dN.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),dN.waitFor(i).next((()=>r))}getTargetCount(e){return dN.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return dN.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),dN.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),dN.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),dN.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return dN.resolve(n)}containsKey(e,t){return dN.resolve(this.Br.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t){this.qr={},this.overlays={},this.Qr=new fN(0),this.Kr=!1,this.Kr=!0,this.$r=new VA,this.referenceDelegate=e(this),this.Ur=new WA(this),this.indexManager=new IA,this.remoteDocumentCache=new $A((e=>this.referenceDelegate.Wr(e))),this.serializer=new PA(t),this.Gr=new OA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new zA(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){IT("MemoryPersistence","Starting transaction:",e);const r=new KA(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return dN.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class KA extends uN{constructor(e){super(),this.currentSequenceNumber=e}}class QA{constructor(e){this.persistence=e,this.Jr=new UA,this.Yr=null}static Zr(e){return new QA(e)}get Xr(){if(this.Yr)return this.Yr;throw MT()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),dN.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),dN.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),dN.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dN.forEach(this.Xr,(n=>{const r=sN.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,eN.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return dN.or([()=>dN.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=J_(),r=J_();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new GA(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Ok()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new YA;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(AT()<=Qk.DEBUG&&IT("QueryEngine","SDK will not create cache indexes for query:",O_(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),dN.resolve()):(AT()<=Qk.DEBUG&&IT("QueryEngine","Query:",O_(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(AT()<=Qk.DEBUG&&IT("QueryEngine","The SDK decides to create cache indexes for query:",O_(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,D_(t))):dN.resolve())}Yi(e,t){if(P_(t))return dN.resolve(null);let n=D_(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=R_(t,null,"F"),n=D_(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=J_(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,R_(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return P_(t)||r.isEqual(eN.min())?dN.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?dN.resolve(null):(AT()<=Qk.DEBUG&&IT("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),O_(t)),this.rs(e,s,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=eN.fromTimestamp(1e9===r?new ZT(n+1,0):new ZT(n,r));return new aN(i,sN.empty(),t)}(r,-1)).next((e=>e)))}))}ts(e,t){let n=new EN(V_(e));return t.forEach(((t,r)=>{F_(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return AT()<=Qk.DEBUG&&IT("QueryEngine","Using full collection scan to execute query:",O_(t)),this.Ji.getDocumentsMatchingQuery(e,t,aN.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new bN(XT),this._s=new B_((e=>k_(e)),C_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}async function ZA(e,t){const n=OT(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=J_();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function eI(e){const t=OT(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function tI(e,t){const n=OT(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);var c,d,h;null!==t.targetMismatches.get(a)?u=u.withResumeToken(TN.EMPTY_BYTE_STRING,eN.min()).withLastLimboFreeSnapshotVersion(eN.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),d=u,h=s,(0===(c=l).resumeToken.approximateByteSize()||d.snapshotVersion.toMicroseconds()-c.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&o.push(n.Ur.updateTargetData(e,u))}));let a=$_(),l=J_();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(function(e,t,n){let r=J_(),i=J_();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=$_();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(eN.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):IT("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}(e,s,t.documentUpdates).next((e=>{a=e.Ps,l=e.Is}))),!r.isEqual(eN.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return dN.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.os=i,e)))}function nI(e,t){const n=OT(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function rI(e,t,n){const r=OT(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(o){if(!hN(o))throw o;IT("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function iI(e,t,n){const r=OT(e);let i=eN.min(),s=J_();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=OT(e),i=r._s.get(n);return void 0!==i?dN.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,D_(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:eN.min(),n?s:J_()))).next((e=>(function(e,t,n){let r=e.us.get(t)||eN.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Ts:s})))))}class sI{constructor(){this.activeTargetIds=Z_}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oI{constructor(){this.so=new sI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sI,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{_o(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){IT("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){IT("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uI=null;function cI(){return null===uI?uI=268435456+Math.round(2147483648*Math.random()):uI++,"0x"+uI.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="WebChannelConnection";class pI extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=cI(),o=this.xo(e,t.toUriEncodedString());IT("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,o,a,n).then((t=>(IT("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw jT("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_T,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=dI[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=cI();return new Promise(((s,o)=>{const a=new yT;a.setWithCredentials(!0),a.listenOnce(bT.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case wT.NO_ERROR:const t=a.getResponseJson();IT(fI,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case wT.TIMEOUT:IT(fI,`RPC '${e}' ${i} timed out`),o(new VT(FT.DEADLINE_EXCEEDED,"Request time out"));break;case wT.HTTP_ERROR:const n=a.getStatus();if(IT(fI,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(FT).indexOf(t)>=0?t:FT.UNKNOWN}(t.status);o(new VT(e,t.message))}else o(new VT(FT.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new VT(FT.UNAVAILABLE,"Connection failed."));break;default:MT()}}finally{IT(fI,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);IT(fI,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=cI(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kT(),o=ST(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");IT(fI,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let d=!1,h=!1;const f=new hI({Io:t=>{h?IT(fI,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(IT(fI,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),IT(fI,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},To:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(c,vT.EventType.OPEN,(()=>{h||(IT(fI,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(c,vT.EventType.CLOSE,(()=>{h||(h=!0,IT(fI,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(c,vT.EventType.ERROR,(t=>{h||(h=!0,jT(fI,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new VT(FT.UNAVAILABLE,"The operation could not be completed")))})),p(c,vT.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];LT(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){IT(fI,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=MP[e];if(void 0!==t)return OP(t)}(t),i=o.message;void 0===n&&(n=FT.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.So(new VT(n,i)),c.close()}else IT(fI,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(o,ET.STAT_EVENT,(t=>{t.stat===xT.PROXY?IT(fI,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===xT.NOPROXY&&IT(fI,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function mI(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(e){return new tA(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&IT("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t,n,r,i,s,o,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yI(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===FT.RESOURCE_EXHAUSTED?(DT(t.toString()),DT("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===FT.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Yo===t&&this.P_(e,n)}),(t=>{e((()=>{const e=new VT(FT.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return IT("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(IT("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bI extends vI{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:MT(),s=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(LT(void 0===t||"string"==typeof t),TN.fromBase64String(t||"")):(LT(void 0===t||t instanceof Buffer||t instanceof Uint8Array),TN.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(e){const t=void 0===e.code?FT.UNKNOWN:OP(e.code);return new VT(t,e.message||"")}(a);n=new KP(i,s,o,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=dA(e,r.document.name),s=oA(r.document.updateTime),o=r.document.createTime?oA(r.document.createTime):eN.min(),a=new JN({mapValue:{fields:r.document.fields}}),l=e_.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new WP(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=dA(e,r.document),s=r.readTime?oA(r.readTime):eN.min(),o=e_.newNoDocument(i,s),a=r.removedTargetIds||[];n=new WP([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=dA(e,r.document),s=r.removedTargetIds||[];n=new WP([],s,i,null)}else{if(!("filter"in t))return MT();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new RP(r,i),o=e.targetId;n=new HP(o,s)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return eN.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?eN.min():t.readTime?oA(t.readTime):eN.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=fA(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=T_(r)?{documents:gA(e,r)}:{query:yA(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=iA(e,t.resumeToken);const r=nA(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(eN.min())>0){n.readTime=rA(e,t.snapshotVersion.toTimestamp());const r=nA(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return MT()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=fA(this.serializer),t.removeTarget=e,this.a_(t)}}class wI extends vI{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return LT(!!e.streamToken),this.lastStreamToken=e.streamToken,LT(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){LT(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(LT(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?oA(e.updateTime):oA(t);return n.isEqual(eN.min())&&(n=oA(t)),new mP(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=oA(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=fA(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof kP)n={update:mA(e,t.key,t.value)};else if(t instanceof PP)n={delete:cA(e,t.key)};else if(t instanceof CP)n={update:mA(e,t.key,t.data),updateMask:TA(t.fieldMask)};else{if(!(t instanceof AP))return MT();n={verify:cA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof aP)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lP)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof cP)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hP)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw MT()}(0,e)))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:sA(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:MT())),n;var r,i}(this.serializer,e)))};this.a_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new VT(FT.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Mo(e,lA(t,n),r,i,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===FT.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new VT(FT.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Lo(e,lA(t,n),r,s,o,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===FT.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new VT(FT.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class EI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(DT(t),this.D_=!1):IT("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{DI(this)&&(IT("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=OT(e);t.L_.add(4),await CI(t),t.q_.set("Unknown"),t.L_.delete(4),await kI(t)}(this))}))})),this.q_=new EI(n,r)}}async function kI(e){if(DI(e))for(const t of e.B_)await t(!0)}async function CI(e){for(const t of e.B_)await t(!1)}function TI(e,t){const n=OT(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),II(n)?AI(n):YI(n).r_()&&_I(n,t))}function NI(e,t){const n=OT(e),r=YI(n);n.N_.delete(t),r.r_()&&PI(n,t),0===n.N_.size&&(r.r_()?r.o_():DI(n)&&n.q_.set("Unknown"))}function _I(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(eN.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}YI(e).A_(t)}function PI(e,t){e.Q_.xe(t),YI(e).R_(t)}function AI(e){e.Q_=new GP({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),YI(e).start(),e.q_.v_()}function II(e){return DI(e)&&!YI(e).n_()&&e.N_.size>0}function DI(e){return 0===OT(e).L_.size}function jI(e){e.Q_=void 0}async function RI(e){e.q_.set("Online")}async function MI(e){e.N_.forEach(((t,n)=>{_I(e,t)}))}async function LI(e,t){jI(e),II(e)?(e.q_.M_(t),AI(e)):e.q_.set("Unknown")}async function OI(e,t,n){if(e.q_.set("Online"),t instanceof KP&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(r){IT("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await FI(e,r)}else if(t instanceof WP?e.Q_.Ke(t):t instanceof HP?e.Q_.He(t):e.Q_.We(t),!n.isEqual(eN.min()))try{const t=await eI(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(TN.EMPTY_BYTE_STRING,r.snapshotVersion)),PI(e,t);const i=new _A(r.target,t,n,r.sequenceNumber);_I(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){IT("RemoteStore","Failed to raise snapshot:",i),await FI(e,i)}}async function FI(e,t,n){if(!hN(t))throw t;e.L_.add(1),await CI(e),e.q_.set("Offline"),n||(n=()=>eI(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{IT("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await kI(e)}))}function VI(e,t){return t().catch((n=>FI(e,n,t)))}async function UI(e){const t=OT(e),n=XI(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;BI(t);)try{const e=await nI(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,zI(t,e)}catch(i){await FI(t,i)}$I(t)&&qI(t)}function BI(e){return DI(e)&&e.O_.length<10}function zI(e,t){e.O_.push(t);const n=XI(e);n.r_()&&n.V_&&n.m_(t.mutations)}function $I(e){return DI(e)&&!XI(e).n_()&&e.O_.length>0}function qI(e){XI(e).start()}async function WI(e){XI(e).p_()}async function HI(e){const t=XI(e);for(const n of e.O_)t.m_(n.mutations)}async function KI(e,t,n){const r=e.O_.shift(),i=DP.from(r,t,n);await VI(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await UI(e)}async function QI(e,t){t&&XI(e).V_&&await async function(e,t){if(function(e){switch(e){default:return MT();case FT.CANCELLED:case FT.UNKNOWN:case FT.DEADLINE_EXCEEDED:case FT.RESOURCE_EXHAUSTED:case FT.INTERNAL:case FT.UNAVAILABLE:case FT.UNAUTHENTICATED:return!1;case FT.INVALID_ARGUMENT:case FT.NOT_FOUND:case FT.ALREADY_EXISTS:case FT.PERMISSION_DENIED:case FT.FAILED_PRECONDITION:case FT.ABORTED:case FT.OUT_OF_RANGE:case FT.UNIMPLEMENTED:case FT.DATA_LOSS:return!0}}(n=t.code)&&n!==FT.ABORTED){const n=e.O_.shift();XI(e).s_(),await VI(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await UI(e)}var n}(e,t),$I(e)&&qI(e)}async function GI(e,t){const n=OT(e);n.asyncQueue.verifyOperationInProgress(),IT("RemoteStore","RemoteStore received new credentials");const r=DI(n);n.L_.add(3),await CI(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await kI(n)}function YI(e){return e.K_||(e.K_=function(e,t,n){const r=OT(e);return r.w_(),new bI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:RI.bind(null,e),Ro:MI.bind(null,e),mo:LI.bind(null,e),d_:OI.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),II(e)?AI(e):e.q_.set("Unknown")):(await e.K_.stop(),jI(e))}))),e.K_}function XI(e){return e.U_||(e.U_=function(e,t,n){const r=OT(e);return r.w_(),new wI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:WI.bind(null,e),mo:QI.bind(null,e),f_:HI.bind(null,e),g_:KI.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await UI(e)):(await e.U_.stop(),e.O_.length>0&&(IT("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class JI{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new UT,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new JI(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new VT(FT.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ZI(e,t){if(DT("AsyncQueue",`${t}: ${e}`),hN(e))return new VT(FT.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.comparator=e?(t,n)=>e(t,n)||sN.comparator(t.key,n.key):(e,t)=>sN.comparator(e.key,t.key),this.keyedMap=W_(),this.sortedSet=new bN(this.comparator)}static emptySet(e){return new eD(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eD))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new eD;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.W_=new bN(sN.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):MT():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class nD{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new nD(e,t,eD.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&M_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class iD{constructor(){this.queries=sD(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=OT(e),r=n.queries;n.queries=sD(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new VT(FT.ABORTED,"Firestore shutting down"))}}function sD(){return new B_((e=>L_(e)),M_)}async function oD(e,t){const n=OT(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new rD,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const e=ZI(o,`Initialization of query '${O_(t.query)}' failed`);return void t.onError(e)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&cD(n)}async function aD(e,t){const n=OT(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lD(e,t){const n=OT(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&cD(n)}function uD(e,t,n){const r=OT(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function cD(e){e.Y_.forEach((e=>{e.next()}))}var dD,hD;(hD=dD||(dD={})).ea="default",hD.Cache="cache";class fD{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new nD(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=nD.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==dD.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.key=e}}class mD{constructor(e){this.key=e}}class gD{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=J_(),this.mutatedKeys=J_(),this.Aa=V_(e),this.Ra=new eD(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new tD,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=F_(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.ga(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Aa(c,a)>0||l&&this.Aa(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return MT()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return this.Ea=a,0!==s.length||l?{snapshot:new nD(this.query,e.Ra,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new tD,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=J_(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new mD(e))})),this.da.forEach((n=>{e.has(n)||t.push(new pD(n))})),t}ba(e){this.Ta=e.Ts,this.da=J_();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return nD.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class yD{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class vD{constructor(e){this.key=e,this.va=!1}}class bD{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new B_((e=>L_(e)),M_),this.Ma=new Map,this.xa=new Set,this.Oa=new bN(sN.comparator),this.Na=new Map,this.La=new UA,this.Ba={},this.ka=new Map,this.qa=jA.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function wD(e,t,n=!0){const r=BD(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ED(r,t,n,!0),i}async function xD(e,t){const n=BD(e);await ED(n,t,!0,!1)}async function ED(e,t,n,r){const i=await function(e,t){const n=OT(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,dN.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new _A(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}(e.localStore,D_(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await async function(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await iI(e.localStore,t.query,!1).then((({documents:e})=>t.view.ma(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return MD(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const s=await iI(e.localStore,t,!0),o=new gD(t,s.Ts),a=o.ma(s.documents),l=qP.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);MD(e,n,u.wa);const c=new yD(t,n,o);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&TI(e.remoteStore,i),a}async function SD(e,t,n){const r=OT(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!M_(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rI(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&NI(r.remoteStore,i.targetId),jD(r,i.targetId)})).catch(cN)):(jD(r,i.targetId),await rI(r.localStore,i.targetId,!0))}async function kD(e,t){const n=OT(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),NI(n.remoteStore,r.targetId))}async function CD(e,t,n){const r=function(e){const t=OT(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AD.bind(null,t),t}(e);try{const e=await function(e,t){const n=OT(e),r=ZT.now(),i=t.reduce(((e,t)=>e.add(t.key)),J_());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=$_(),l=J_();return n.cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=EP(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new CP(e.key,t,ZN(t.value.mapValue),gP.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:H_(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new bN(XT)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await FD(r,e.changes),await UI(r.remoteStore)}catch(i){const e=ZI(i,"Failed to persist write");n.reject(e)}}async function TD(e,t){const n=OT(e);try{const e=await tI(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(LT(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?LT(r.va):e.removedDocuments.size>0&&(LT(r.va),r.va=!1))})),await FD(n,e,t)}catch(r){await cN(r)}}function ND(e,t,n){const r=OT(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=OT(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&cD(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _D(e,t,n){const r=OT(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new bN(sN.comparator);e=e.insert(s,e_.newNoDocument(s,eN.min()));const n=J_().add(s),i=new $P(eN.min(),new Map,new bN(XT),e,n);await TD(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),OD(r)}else await rI(r.localStore,t,!1).then((()=>jD(r,t,n))).catch(cN)}async function PD(e,t){const n=OT(e),r=t.batch.batchId;try{const e=await function(e,t){const n=OT(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=dN.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);LT(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=J_();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);DD(n,r,null),ID(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await FD(n,e)}catch(i){await cN(i)}}async function AD(e,t,n){const r=OT(e);try{const e=await function(e,t){const n=OT(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(LT(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);DD(r,t,n),ID(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await FD(r,e)}catch(i){await cN(i)}}function ID(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function DD(e,t,n){const r=OT(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function jD(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||RD(e,t)}))}function RD(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(NI(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),OD(e))}function MD(e,t,n){for(const r of n)r instanceof pD?(e.La.addReference(r.key,t),LD(e,r)):r instanceof mD?(IT("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||RD(e,r.key)):MT()}function LD(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(IT("SyncEngine","New document in limbo: "+n),e.xa.add(r),OD(e))}function OD(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new sN(nN.fromString(t)),r=e.qa.next();e.Na.set(r,new vD(n)),e.Oa=e.Oa.insert(n,r),TI(e.remoteStore,new _A(D_(__(n.path)),r,"TargetPurposeLimboResolution",fN.oe))}}async function FD(e,t,n){const r=OT(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{o.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=GA.Wi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ca.d_(i),await async function(e,t){const n=OT(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>dN.forEach(t,(t=>dN.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>dN.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(r){if(!hN(r))throw r;IT("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function VD(e,t){const n=OT(e);if(!n.currentUser.isEqual(t)){IT("SyncEngine","User change. New user:",t.toKey());const e=await ZA(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).ka.forEach((e=>{e.forEach((e=>{e.reject(new VT(FT.CANCELLED,i))}))})),r.ka.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await FD(n,e.hs)}var r,i}function UD(e,t){const n=OT(e),r=n.Na.get(t);if(r&&r.va)return J_().add(r.key);{let e=J_();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function BD(e){const t=OT(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=TD.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_D.bind(null,t),t.Ca.d_=lD.bind(null,t.eventManager),t.Ca.$a=uD.bind(null,t.eventManager),t}class zD{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gI(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return function(e,t,n,r){return new JA(e,t,n,r)}(this.persistence,new XA,e.initialUser,this.serializer)}Ga(e){return new HA(QA.Zr,this.serializer)}Wa(e){return new oI}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zD.provider={build:()=>new zD};class $D{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ND(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=VD.bind(null,this.syncEngine),await async function(e,t){const n=OT(e);t?(n.L_.delete(2),await kI(n)):t||(n.L_.add(2),await CI(n),n.q_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new iD}createDatastore(e){const t=gI(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new pI(r));var r;return function(e,t,n,r){return new xI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>ND(this.syncEngine,e,0),s=lI.D()?new lI:new aI,new SI(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new bD(e,t,n,r,i,s);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=OT(e);IT("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await CI(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}$D.provider={build:()=>new $D};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class qD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):DT("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=NT.UNAUTHENTICATED,this.clientId=YT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{IT("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(IT("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new UT;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ZI(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function HD(e,t){e.asyncQueue.verifyOperationInProgress(),IT("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ZA(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function KD(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){IT("FirestoreClient","Using user provided OfflineComponentProvider");try{await HD(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===FT.FAILED_PRECONDITION||n.code===FT.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;jT("Error using user provided cache. Falling back to memory cache: "+i),await HD(e,new zD)}}else IT("FirestoreClient","Using default OfflineComponentProvider"),await HD(e,new zD);var n;return e._offlineComponents}(e);IT("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>GI(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>GI(t.remoteStore,n))),e._onlineComponents=t}async function QD(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(IT("FirestoreClient","Using user provided OnlineComponentProvider"),await KD(e,e._uninitializedComponentsProvider._online)):(IT("FirestoreClient","Using default OnlineComponentProvider"),await KD(e,new $D))),e._onlineComponents}async function GD(e){const t=await QD(e),n=t.eventManager;return n.onListen=wD.bind(null,t.syncEngine),n.onUnlisten=SD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=xD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kD.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function YD(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const XD=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(e,t,n){if(!n)throw new VT(FT.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ZD(e){if(!sN.isDocumentKey(e))throw new VT(FT.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ej(e){if(sN.isDocumentKey(e))throw new VT(FT.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function tj(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":MT()}function nj(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new VT(FT.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tj(e);throw new VT(FT.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new VT(FT.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new VT(FT.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new VT(FT.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YD(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new VT(FT.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new VT(FT.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new VT(FT.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ij{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new VT(FT.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new VT(FT.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rj(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zT;switch(e.type){case"firstParty":return new HT(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new VT(FT.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=XD.get(e);t&&(IT("ComponentProvider","Removing Datastore"),XD.delete(e),t.terminate())}(this),Promise.resolve()}}function sj(e,t,n,r={}){var i;const s=(e=nj(e,ij))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&jT("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=NT.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ak(JSON.stringify({alg:"none",type:"JWT"})),Ak(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new VT(FT.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new NT(s)}e._authCredentials=new $T(new BT(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new oj(this.firestore,e,this._query)}}class aj{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lj(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new aj(this.firestore,e,this._key)}}class lj extends oj{constructor(e,t,n){super(e,t,__(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new aj(this.firestore,null,new sN(e))}withConverter(e){return new lj(this.firestore,e,this._path)}}function uj(e,t,...n){if(e=$k(e),JD("collection","path",t),e instanceof ij){const r=nN.fromString(t,...n);return ej(r),new lj(e,null,r)}{if(!(e instanceof aj||e instanceof lj))throw new VT(FT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(nN.fromString(t,...n));return ej(r),new lj(e.firestore,null,r)}}function cj(e,t,...n){if(e=$k(e),1===arguments.length&&(t=YT.newId()),JD("doc","path",t),e instanceof ij){const r=nN.fromString(t,...n);return ZD(r),new aj(e,null,new sN(r))}{if(!(e instanceof aj||e instanceof lj))throw new VT(FT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(nN.fromString(t,...n));return ZD(r),new aj(e.firestore,e instanceof lj?e.converter:null,new sN(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yI(this,"async_queue_retry"),this.Vu=()=>{const e=mI();e&&IT("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=mI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=mI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new UT;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(OR){if(!hN(OR))throw OR;IT("AsyncQueue","Operation failed with retryable error: "+OR)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;throw DT("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=JI.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&MT()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class hj extends ij{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new dj,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dj(e),this._firestoreClient=void 0,await e}}}function fj(e){if(e._terminated)throw new VT(FT.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),s=(o=e._databaseId,a=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,u=i,new RN(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,YD(u.experimentalLongPollingOptions),u.useFetchStreams));var o,a,l,u;e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new WD(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class pj{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pj(TN.fromBase64String(e))}catch(t){throw new VT(FT.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pj(TN.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new VT(FT.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new iN(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new VT(FT.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new VT(FT.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return XT(this._lat,e._lat)||XT(this._long,e._long)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=/^__.*__$/;class wj{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new CP(e,this.data,this.fieldMask,t,this.fieldTransforms):new kP(e,this.data,t,this.fieldTransforms)}}class xj{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new CP(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ej(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw MT()}}class Sj{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Sj(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Mj(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Ej(this.Cu)&&bj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class kj{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||gI(e)}Qu(e,t,n,r=!1){return new Sj({Cu:e,methodName:t,qu:n,path:iN.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cj(e){const t=e._freezeSettings(),n=gI(e._databaseId);return new kj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tj(e,t,n,r,i,s={}){const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Ij("Data must be an object, but it was:",o,r);const a=Pj(r,o);let l,u;if(s.merge)l=new kN(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Dj(t,r,n);if(!o.contains(i))throw new VT(FT.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Lj(e,i)||e.push(i)}l=new kN(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new wj(new JN(a),l,u)}class Nj extends gj{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nj}}function _j(e,t){if(Aj(e=$k(e)))return Ij("Unsupported field value:",t,e),Pj(e,t);if(e instanceof gj)return function(e,t){if(!Ej(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=_j(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=$k(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return nP(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ZT.fromDate(e);return{timestampValue:rA(t.serializer,n)}}if(e instanceof ZT){const n=new ZT(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rA(t.serializer,n)}}if(e instanceof yj)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof pj)return{bytesValue:iA(t.serializer,e._byteString)};if(e instanceof aj){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:aA(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof vj)return n=t,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw n.Bu("VectorValues must only contain numeric values.");return eP(n.serializer,e)}))}}}}};var n;throw t.Bu(`Unsupported field value: ${tj(e)}`)}(e,t)}function Pj(e,t){const n={};return vN(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yN(e,((e,r)=>{const i=_j(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Aj(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ZT||e instanceof yj||e instanceof pj||e instanceof aj||e instanceof gj||e instanceof vj)}function Ij(e,t,n){if(!Aj(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=tj(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}var r}function Dj(e,t,n){if((t=$k(t))instanceof mj)return t._internalPath;if("string"==typeof t)return Rj(e,t);throw Mj("Field path arguments must be of type string or ",e,!1,void 0,n)}const jj=new RegExp("[~\\*/\\[\\]]");function Rj(e,t,n){if(t.search(jj)>=0)throw Mj(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new mj(...t.split("."))._internalPath}catch(r){throw Mj(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Mj(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new VT(FT.INVALID_ARGUMENT,a+e+l)}function Lj(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new aj(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vj("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Fj extends Oj{data(){return super.data()}}function Vj(e,t){return"string"==typeof t?Rj(e,t):t instanceof mj?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{}class Bj extends Uj{}class zj extends Bj{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new zj(e,t,n)}_apply(e){const t=this._parse(e);return Kj(e._query,t),new oj(e.firestore,e.converter,j_(e._query,t))}_parse(e){const t=Cj(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new VT(FT.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Hj(o,s);const t=[];for(const n of o)t.push(Wj(r,e,n));a={arrayValue:{values:t}}}else a=Wj(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Hj(o,s),a=function(e,t,n,r=!1){return _j(n,e.Qu(r?4:3,t))}(n,t,o,"in"===s||"not-in"===s);return a_.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class $j extends Uj{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $j(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:l_.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Kj(n,i),n=j_(n,i)}(e._query,t),new oj(e.firestore,e.converter,j_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qj extends Bj{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qj(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new VT(FT.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new VT(FT.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new i_(t,n)}(e._query,this._field,this._direction);return new oj(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new N_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Wj(e,t,n){if("string"==typeof(n=$k(n))){if(""===n)throw new VT(FT.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A_(t)&&-1!==n.indexOf("/"))throw new VT(FT.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(nN.fromString(n));if(!sN.isDocumentKey(r))throw new VT(FT.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return WN(e,new sN(r))}if(n instanceof aj)return WN(e,n._key);throw new VT(FT.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tj(n)}.`)}function Hj(e,t){if(!Array.isArray(e)||0===e.length)throw new VT(FT.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Kj(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new VT(FT.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new VT(FT.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Qj{convertValue(e,t="none"){switch(ON(e)){case 0:return null;case 1:return e.booleanValue;case 2:return PN(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(AN(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw MT()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return yN(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>PN(e.doubleValue)));return new vj(i)}convertGeoPoint(e){return new yj(PN(e.latitude),PN(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=DN(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jN(e));default:return null}}convertTimestamp(e){const t=_N(e);return new ZT(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=nN.fromString(e);LT(NA(n));const r=new MN(n.get(1),n.get(3)),i=new sN(n.popFirst(5));return r.isEqual(t)||DT(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Yj{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xj extends Oj{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jj(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Vj("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Jj extends Xj{data(e={}){return super.data(e)}}class Zj{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yj(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Jj(this._firestore,this._userDataWriter,n.key,n,new Yj(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new VT(FT.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Jj(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Yj(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Jj(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Yj(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:eR(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return MT()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(e){e=nj(e,aj);const t=nj(e.firestore,hj);return function(e,t,n={}){const r=new UT;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new qD({next:a=>{s.Za(),t.enqueueAndForget((()=>aD(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new VT(FT.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new VT(FT.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new fD(__(n.path),s,{includeMetadataChanges:!0,_a:!0});return oD(e,o)}(await GD(e),e.asyncQueue,t,n,r))),r.promise}(fj(t),e._key).then((n=>function(e,t,n){const r=n.docs.get(t._key),i=new nR(e);return new Xj(e,i,t._key,r,new Yj(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n)))}class nR extends Qj{constructor(e){super(),this.firestore=e}convertBytes(e){return new pj(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new aj(this.firestore,null,t)}}function rR(e){e=nj(e,oj);const t=nj(e.firestore,hj),n=fj(t),r=new nR(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new VT(FT.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new UT;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new qD({next:n=>{s.Za(),t.enqueueAndForget((()=>aD(e,o))),n.fromCache&&"server"===r.source?i.reject(new VT(FT.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new fD(n,s,{includeMetadataChanges:!0,_a:!0});return oD(e,o)}(await GD(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new Zj(t,r,e,n)))}function iR(e,t,n){e=nj(e,aj);const r=nj(e.firestore,hj),i=Gj(e.converter,t,n);return aR(r,[Tj(Cj(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,gP.none())])}function sR(e,t,n,...r){e=nj(e,aj);const i=nj(e.firestore,hj),s=Cj(i);let o;return o="string"==typeof(t=$k(t))||t instanceof mj?function(e,t,n,r,i,s){const o=e.Qu(1,t,n),a=[Dj(t,r,n)],l=[i];if(s.length%2!=0)throw new VT(FT.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Dj(t,s[h])),l.push(s[h+1]);const u=[],c=JN.empty();for(let h=a.length-1;h>=0;--h)if(!Lj(u,a[h])){const e=a[h];let t=l[h];t=$k(t);const n=o.Nu(e);if(t instanceof Nj)u.push(e);else{const r=_j(t,n);null!=r&&(u.push(e),c.set(e,r))}}const d=new kN(u);return new xj(c,d,o.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Qu(1,t,n);Ij("Data must be an object, but it was:",i,r);const s=[],o=JN.empty();yN(r,((e,r)=>{const a=Rj(t,e,n);r=$k(r);const l=i.Nu(a);if(r instanceof Nj)s.push(a);else{const e=_j(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new kN(s);return new xj(o,a,i.fieldTransforms)}(s,"updateDoc",e._key,t),aR(i,[o.toMutation(e._key,gP.exists(!0))])}function oR(e,t){const n=nj(e.firestore,hj),r=cj(e),i=Gj(e.converter,t);return aR(n,[Tj(Cj(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,gP.exists(!1))]).then((()=>r))}function aR(e,t){return function(e,t){const n=new UT;return e.asyncQueue.enqueueAndForget((async()=>CD(await function(e){return QD(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(fj(e),t)}!function(e,t=!0){_T="10.14.1",ZC(new qk("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new hj(new qT(e.getProvider("auth-internal")),new QT(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new VT(FT.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new MN(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),rT(TT,"4.7.3",e),rT(TT,"4.7.3","esm2017")}();const lR=function(e,t){const n="string"==typeof e?e:t||"(default)",r=function(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}("object"==typeof e?e:function(e=KC){const t=GC.get(e);if(!t&&e===KC&&Mk())return nT();if(!t)throw eT.create("no-app",{appName:e});return t}(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Rk("firestore");e&&sj(r,...e)}return r}(nT({apiKey:"AIzaSyA4GUJv-M4W5ZaY-5-6yGY6um_X1EBWEQg",authDomain:"onepool-800e2.firebaseapp.com",projectId:"onepool-800e2",storageBucket:"onepool-800e2.appspot.com",messagingSenderId:"370160885219",appId:"1:370160885219:web:7a5c223281ab96c047d4d6",measurementId:"G-QSTDV4QVZM"})),uR=async(e,t="Payment",n=[],r)=>{try{const i=uj(lR,"pools"),s={id:"",createdAt:ZT.now(),totalAmount:e,subscriptionName:t,contributors:n,businessId:r,status:"active"},o=await oR(i,s),a=o.id;return await iR(o,{...s,id:a},{merge:!0}),a}catch(i){throw console.error("Error creating pool:",i),i}},cR=async e=>{try{const t=cj(lR,"pools",e),n=await tR(t);return n.exists()?n.data():(console.log("No such pool exists!"),null)}catch(t){throw console.error("Error getting pool:",t),t}},dR=async(e,t)=>{try{const n=cj(lR,"pools",e);await iR(n,{contributors:t},{merge:!0})}catch(n){throw console.error("Error updating pool contributors:",n),n}},hR=async e=>{try{const t=function(e,t,...n){let r=[];t instanceof Uj&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof $j)).length,n=e.filter((e=>e instanceof zj)).length;if(t>1||t>0&&n>0)throw new VT(FT.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}(uj(lR,"pools"),function(e,t,n){const r=t,i=Vj("where",e);return zj._create(i,r,n)}("businessId","==",e),function(e,t="asc"){const n=t,r=Vj("orderBy",e);return qj._create(r,n)}("createdAt","desc")),n=await rR(t),r=[];return n.forEach((e=>{r.push(e.data())})),r}catch(t){throw console.error("Error getting business pools:",t),t}},fR=async e=>{try{const t=await hR(e),n=t.filter((e=>"active"===e.status)).length,r=t.filter((e=>"completed"===e.status)).length,i=t.reduce(((e,t)=>e+t.totalAmount),0),s=t.reduce(((e,t)=>e+t.contributors.reduce(((e,t)=>t.hasPaid?e+t.amount:e),0)),0),o=t.reduce(((e,t)=>e+t.contributors.length),0),a=t.reduce(((e,t)=>e+t.contributors.filter((e=>e.hasVerified)).length),0),l=t.reduce(((e,t)=>e+t.contributors.filter((e=>e.hasPaid)).length),0);return{totalPools:t.length,activePools:n,completedPools:r,totalAmount:i,collectedAmount:s,totalContributors:o,verifiedContributors:a,paidContributors:l}}catch(t){throw console.error("Error getting business stats:",t),t}},pR=()=>{const[e,t]=Ie.useState(""),[n,r]=Ie.useState(!1),[i,s]=Ie.useState("");Ie.useState(!1);const o=zf(),{toast:a}=Cp();return Be.jsxs("div",{className:"min-h-screen flex flex-col",children:[Be.jsx("header",{className:"py-6 px-4 border-b border-border",children:Be.jsx("div",{className:"container max-w-6xl",children:Be.jsx("img",{src:"OnePool.png",alt:"OnePool Logo",className:"logo-image primary-logo"})})}),Be.jsx("main",{className:"flex-1 flex items-center justify-center px-4 py-12",children:Be.jsxs(kk,{className:"w-full max-w-lg",children:[Be.jsx("div",{className:"text-center mb-8",children:Be.jsxs(kk,{children:[Be.jsx("h1",{className:"text-4xl font-bold mb-3",children:"B2B Checkout Solution"}),Be.jsx("p",{className:"text-xl text-muted-foreground",children:"Create a collector link with an amount"})]})}),Be.jsx(kk,{delay:.1,children:Be.jsxs("div",{className:"glass-card p-8 mb-6",children:[Be.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Collector Link"}),Be.jsxs("form",{onSubmit:async t=>{t.preventDefault();const n=parseFloat(e);if(!e||isNaN(n)||n<=0)a({title:"Invalid amount",description:"Please enter a valid payment amount",variant:"destructive"});else try{r(!0);const e=await uR(n),t=`${window.location.origin}/app/collect/${e}?amount=${n}`;s(t),setTimeout((()=>{r(!1)}),500)}catch(i){console.error("Error creating pool:",i),a({title:"Error",description:"Failed to create pool. Please try again.",variant:"destructive"}),r(!1)}},children:[Be.jsxs("div",{className:"mb-6",children:[Be.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium mb-2",children:"Total Amount"}),Be.jsxs("div",{className:"relative",children:[Be.jsx("input",{id:"amount",type:"number",min:"0.01",step:"0.01",value:e,onChange:e=>t(e.target.value),className:"input-field pl-12 pr-12 text-lg w-full",placeholder:"0.00",required:!0}),Be.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:"€"})]})]}),Be.jsx("button",{type:"submit",className:"btn-primary w-full text-base",disabled:n,children:n?Be.jsxs("span",{className:"flex items-center justify-center",children:[Be.jsx("div",{className:"w-5 h-5 border-2 border-t-white/0 border-white rounded-full animate-spin mr-2"}),"Creating..."]}):"Create Collector Link"})]}),i&&Be.jsxs("div",{className:"mt-6 p-4 border border-border rounded-lg bg-secondary/10",children:[Be.jsx("p",{className:"font-medium mb-2",children:"Link Generated:"}),Be.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[Be.jsx("div",{className:"truncate text-sm text-muted-foreground",children:i}),Be.jsx("button",{onClick:()=>{i&&(navigator.clipboard.writeText(i),a({title:"Link copied",description:"Collector link copied to clipboard"}))},className:"p-2 bg-primary/10 text-primary rounded-full hover:bg-primary/20 transition-colors",children:Be.jsx(ng,{size:16})})]}),Be.jsxs("button",{onClick:()=>{if(i){const e=new URL(i),t=e.pathname+e.search;o(t)}},className:"btn-primary w-full flex items-center justify-center",children:["Open Collector Page",Be.jsx(Gm,{size:16,className:"ml-2"})]})]})]})}),Be.jsx(kk,{delay:.2,children:Be.jsxs("div",{className:"glass-card p-6 mb-6",children:[Be.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Business Dashboard"}),Be.jsx("p",{className:"text-muted-foreground mb-4",children:"Create or access your business dashboard to manage payment collections."}),Be.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[Be.jsxs("button",{onClick:async()=>{try{o("/dashboard/demo")}catch(e){console.error("Error setting up demo business:",e),a({title:"Error",description:"Failed to set up demo business",variant:"destructive"})}},className:"flex-1 btn-secondary flex items-center justify-center",children:[Be.jsx(Ym,{size:16,className:"mr-2"}),"View Demo Dashboard"]}),Be.jsx("button",{onClick:async()=>{try{r(!0);const e=await(async(e,t)=>{try{const n=uj(lR,"businesses"),r={id:"",name:e,email:t,stripeConnected:!1,createdAt:ZT.now()},i=await oR(n,r),s=i.id;return await iR(i,{...r,id:s},{merge:!0}),s}catch(n){throw console.error("Error creating business:",n),n}})("Your Business Name","business@example.com");o(`/dashboard/${e}`)}catch(e){console.error("Error creating business:",e),a({title:"Error",description:"Failed to create business profile",variant:"destructive"}),r(!1)}},className:"flex-1 btn-primary flex items-center justify-center",disabled:n,children:n?Be.jsxs("span",{className:"flex items-center justify-center",children:[Be.jsx("div",{className:"w-5 h-5 border-2 border-t-white/0 border-white rounded-full animate-spin mr-2"}),"Creating..."]}):Be.jsxs(Be.Fragment,{children:["Create Business Profile",Be.jsx(Gm,{size:16,className:"ml-2"})]})})]})]})}),Be.jsx(kk,{delay:.3,className:"text-center",children:Be.jsx("p",{className:"text-muted-foreground",children:"This page is for testing purposes. In production, collector links will be created by merchants."})})]})}),Be.jsx("footer",{className:"py-6 px-4 border-t border-border",children:Be.jsxs("div",{className:"container max-w-6xl text-center text-sm text-muted-foreground",children:["OnePool © ",(new Date).getFullYear()," — All rights reserved"]})})]})},mR=({contributors:e,totalAmount:t})=>{if(0===e.length)return null;const n=e.length,r=e.filter((e=>e.hasVerified)).length,i=e.filter((e=>e.hasPaid)).length,s=e.filter((e=>!e.hasVerified)).length,o=n>0?Math.round(r/n*100):0;return Be.jsxs("div",{className:"glass-card p-5 mb-6",children:[Be.jsx("h3",{className:"font-medium mb-4",children:"Verification Status"}),Be.jsxs("div",{className:"mb-4",children:[Be.jsx("div",{className:"h-3 bg-secondary rounded-full overflow-hidden",children:Be.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500 ease-out",style:{width:`${o}%`}})}),Be.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[Be.jsxs("span",{children:[r," of ",n," verified"]}),Be.jsxs("span",{children:[o,"% complete"]})]})]}),Be.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[Be.jsxs("div",{className:"px-3 py-2 bg-emerald-50 rounded-lg",children:[Be.jsxs("div",{className:"flex items-center text-emerald-600 mb-1",children:[Be.jsx(Zm,{size:14,className:"mr-1"}),Be.jsx("span",{className:"text-xs font-medium",children:"Verified"})]}),Be.jsx("p",{className:"text-lg font-semibold",children:r})]}),Be.jsxs("div",{className:"px-3 py-2 bg-amber-50 rounded-lg",children:[Be.jsxs("div",{className:"flex items-center text-amber-600 mb-1",children:[Be.jsx(tg,{size:14,className:"mr-1"}),Be.jsx("span",{className:"text-xs font-medium",children:"Pending"})]}),Be.jsx("p",{className:"text-lg font-semibold",children:s})]}),Be.jsxs("div",{className:"px-3 py-2 bg-blue-50 rounded-lg",children:[Be.jsxs("div",{className:"flex items-center text-blue-600 mb-1",children:[Be.jsx(rg,{size:14,className:"mr-1"}),Be.jsx("span",{className:"text-xs font-medium",children:"Paid"})]}),Be.jsx("p",{className:"text-lg font-semibold",children:i})]})]}),Be.jsxs("div",{className:"border-t border-border pt-3",children:[Be.jsxs("div",{className:"flex justify-between text-sm",children:[Be.jsx("span",{className:"text-muted-foreground",children:"Total to be collected:"}),Be.jsxs("span",{className:"font-medium",children:[t.toFixed(2)," €"]})]}),Be.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[Be.jsx("span",{className:"text-muted-foreground",children:"Cards verified:"}),Be.jsxs("span",{className:"font-medium text-emerald-600",children:[r," of ",n]})]}),Be.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[Be.jsx("span",{className:"text-muted-foreground",children:"Payments completed:"}),Be.jsxs("span",{className:"font-medium text-blue-600",children:[i," of ",n]})]})]})]})},gR=({children:e,isVisible:t=!0,direction:n="up",duration:r=.5,delay:i=0,className:s=""})=>Be.jsx(Sk,{children:t&&Be.jsx(gk.div,{initial:{opacity:0,...yR(n)},animate:{opacity:1,...vR(n),transition:{duration:r,delay:i,ease:"easeOut"}},exit:{opacity:0,...yR(n),transition:{duration:.8*r,ease:"easeIn"}},className:s,children:e})});function yR(e){switch(e){case"up":return{y:20};case"down":return{y:-20};case"left":return{x:20};case"right":return{x:-20}}}function vR(e){switch(e){case"up":case"down":return{y:0};case"left":case"right":return{x:0}}}const bR=()=>{const{poolId:e="demo"}=$f(),[t]=gp(),n=zf(),[r,i]=Ie.useState(0),[s,o]=Ie.useState([]),[a,l]=Ie.useState(0),[u,c]=Ie.useState(null),[d,h]=Ie.useState("Payment"),[f,p]=Ie.useState(!0),{toast:m}=Cp();Ie.useEffect((()=>{(async()=>{try{if("new"===e){const e=t.get("amount"),r=e?parseFloat(e):0;if(!e||isNaN(r)||r<=0)return void n("/");const i=await uR(r);return void n(`/collect/${i}?amount=${r}`,{replace:!0})}if("demo"===e){const e=t.get("amount"),r=e?parseFloat(e):0;if(!e||isNaN(r)||r<=0)return void n("/");i(r),l(r),o([])}else{const t=await cR(e);if(!t)return m({title:"Pool not found",description:"The requested payment pool doesn't exist",variant:"destructive"}),void n("/");i(t.totalAmount),o(t.contributors||[]),h(t.subscriptionName||"Payment");const r=t.contributors.reduce(((e,t)=>e+t.amount),0);l(parseFloat((t.totalAmount-r).toFixed(2)))}}catch(r){console.error("Error fetching pool:",r),m({title:"Error",description:"Failed to load payment pool data",variant:"destructive"})}finally{p(!1)}})()}),[e,t,n,m]),Ie.useEffect((()=>{const e=s.reduce(((e,t)=>e+t.amount),0);l(parseFloat((r-e).toFixed(2)))}),[s,r]);const g=()=>{const e={id:Math.random().toString(36).substring(2,10),name:`Person ${s.length+1}`,amount:0,isEditing:!0};o([...s,e]),c(e.id),setTimeout((()=>{const t=document.getElementById(`contributor-${e.id}`);null==t||t.scrollIntoView({behavior:"smooth",block:"end"})}),100)},y=()=>((e="demo",t,n=window.location.origin)=>{const r=`${n}/app/pay/${e}`;return t?`${r}?name=${encodeURIComponent(t)}`:r})(e);return f?Be.jsx("div",{className:"h-screen flex items-center justify-center",children:Be.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r<=0?null:Be.jsx(gR,{children:Be.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:Be.jsxs(kk,{children:[Be.jsxs("div",{className:"mb-8",children:[Be.jsx("div",{className:"chip mb-2 bg-primary/10 text-primary",children:"PAYMENT REQUEST"}),Be.jsxs("h1",{className:"text-3xl font-semibold mb-2",children:["Split ",d]}),Be.jsx("p",{className:"text-muted-foreground",children:"Add contributors and distribute the payment amount"})]}),Be.jsxs("div",{className:"glass-card p-5 mb-6",children:[Be.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Be.jsxs("div",{className:"flex items-center",children:[Be.jsx("div",{className:"p-2.5 rounded-full bg-primary/10 text-primary mr-3",children:Be.jsx(ig,{size:18})}),Be.jsxs("div",{children:[Be.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),Be.jsxs("div",{className:"flex items-center",children:[Be.jsx("span",{className:"text-2xl font-semibold",children:r.toFixed(2)}),Be.jsx(og,{size:16,className:"ml-1 text-muted-foreground"})]})]})]}),Be.jsx("div",{children:Be.jsx("button",{onClick:()=>n("/"),className:"px-4 py-2 border border-input rounded-lg text-sm font-medium hover:bg-secondary transition-colors",children:"Edit"})})]}),Be.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-border",children:[Be.jsxs("div",{className:"flex items-start",children:[Be.jsx("div",{className:"p-2.5 rounded-full bg-primary/10 text-primary mr-3 mt-1",children:Be.jsx(fg,{size:18})}),Be.jsxs("div",{children:[Be.jsx("p",{className:"text-sm text-muted-foreground",children:"Contributors"}),Be.jsx("p",{className:"text-xl font-medium",children:s.length})]})]}),Be.jsxs("div",{className:"text-right",children:[Be.jsx("p",{className:"text-sm text-muted-foreground",children:"Remaining"}),Be.jsxs("div",{className:"text-xl font-medium "+(0!==a?"text-amber-500":"text-emerald-500"),children:[a.toFixed(2)," €"]})]})]})]}),s.length>0&&Be.jsx(mR,{contributors:s,totalAmount:r}),Be.jsx("div",{className:"flex justify-between items-center mb-4",children:Be.jsx("h2",{className:"text-xl font-medium",children:"Contributors"})}),Be.jsxs("div",{className:"flex gap-2",children:[Be.jsxs("button",{onClick:()=>{if(0===s.length)return void m({title:"No contributors",description:"Add contributors first to distribute the amount",variant:"destructive"});const e=r/s.length,t=s.map((t=>({...t,amount:parseFloat(e.toFixed(2))})));o(t)},className:"px-4 py-2 border border-input rounded-lg text-sm font-medium hover:bg-secondary transition-colors flex items-center",disabled:0===s.length,children:[Be.jsx(fg,{size:16,className:"mr-2"}),"Split Evenly"]}),Be.jsxs("button",{onClick:g,className:"btn-primary flex items-center",children:[Be.jsx(cg,{size:16,className:"mr-2"}),"Add Person"]})]}),0===s.length?Be.jsx(kk,{children:Be.jsxs("div",{className:"glass-card p-6 text-center",children:[Be.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mx-auto mb-3",children:Be.jsx(fg,{size:24})}),Be.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Contributors Yet"}),Be.jsx("p",{className:"text-muted-foreground mb-4",children:"Add people to split the payment amount"}),Be.jsxs("button",{onClick:g,className:"btn-primary inline-flex items-center",children:[Be.jsx(cg,{size:16,className:"mr-2"}),"Add Person"]})]})}):Be.jsxs(Be.Fragment,{children:[Be.jsx(kk,{delay:.1,className:"mb-6",children:s.map(((e,t)=>Be.jsx("div",{id:`contributor-${e.id}`,className:"relative mb-4 group",onClick:()=>{return t=e.id,o(s.map((e=>e.id===t?{...e,isEditing:!e.isEditing}:e))),void c(u===t?null:t);var t},children:Be.jsxs("div",{className:"glass-card p-4 mb-3",children:[Be.jsxs("div",{className:"flex justify-between items-center",children:[Be.jsxs("div",{className:"flex items-center gap-3",children:[Be.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:Be.jsx(hg,{size:18})}),e.isEditing?Be.jsx("input",{className:"input-field py-1 px-2 text-sm w-[120px]",value:e.name||"",onChange:t=>{return n=e.id,r=t.target.value,void o(s.map((e=>e.id===n?{...e,name:r}:e)));var n,r},placeholder:"Name",autoFocus:!0}):Be.jsxs("div",{children:[Be.jsx("p",{className:"font-medium",children:e.name||"Unnamed"}),Be.jsxs("div",{className:"flex items-center mt-1 text-xs text-muted-foreground",children:[e.hasVerified&&Be.jsxs("div",{className:"flex items-center text-emerald-600",children:[Be.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:Be.jsx("path",{d:"M20 6 9 17l-5-5"})}),Be.jsx("span",{children:"Verified"})]}),e.hasPaid&&Be.jsxs("div",{className:"flex items-center text-emerald-600 ml-2",children:[Be.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:Be.jsx("path",{d:"M20 6 9 17l-5-5"})}),Be.jsx("span",{children:"Paid"})]})]})]})]}),Be.jsxs("div",{className:"flex items-center gap-2",children:[e.isEditing?Be.jsx("input",{type:"number",min:"0",step:"0.01",className:"input-field py-1 px-2 text-sm w-[100px]",value:e.amount,onChange:t=>{return n=e.id,r=parseFloat(t.target.value)||0,void o(s.map((e=>e.id===n?{...e,amount:r}:e)));var n,r}}):Be.jsxs("div",{className:"flex items-center px-3 py-1.5 bg-primary/5 rounded-lg",children:[Be.jsx("span",{className:"font-medium",children:e.amount.toFixed(2)}),Be.jsx(og,{size:14,className:"ml-1 text-muted-foreground"})]}),Be.jsx("button",{onClick:t=>{var n;t.stopPropagation(),n=e.id,o(s.filter((e=>e.id!==n)))},className:"w-8 h-8 flex items-center justify-center rounded-full text-destructive hover:bg-destructive/10 transition-colors",children:Be.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[Be.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Be.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),Be.jsxs("div",{className:"mt-3",children:[Be.jsx("div",{className:"relative h-2 bg-secondary rounded-full overflow-hidden",children:Be.jsx("div",{style:{width:e.amount/r*100+"%",position:"absolute",top:0,left:0,height:"100%",backgroundColor:"var(--primary)"}})}),Be.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[Be.jsxs("span",{children:[(e.amount/r*100).toFixed(1),"%"]}),Be.jsxs("span",{children:["of €",r.toFixed(2)]})]})]})]})},e.id)))}),0===a&&Be.jsx("div",{className:"flex justify-end mb-6",children:Be.jsx("button",{onClick:async()=>{if(0!==s.length)if(s.some((e=>!e.name||""===e.name.trim())))m({title:"Missing names",description:"Please provide names for all contributors",variant:"destructive"});else try{"demo"!==e&&await dR(e,s),m({title:"Contributors saved",description:`Saved ${s.length} contributors to the pool`})}catch(t){console.error("Error saving contributors:",t),m({title:"Error",description:"Failed to save contributors",variant:"destructive"})}else m({title:"No contributors",description:"Add contributors first to save",variant:"destructive"})},className:"btn-primary",children:"Save Contributors"})})]}),s.length>0&&Be.jsx(kk,{children:Be.jsxs("div",{className:"glass-card p-5 mb-6",children:[Be.jsx("h3",{className:"font-medium mb-3",children:"Contributor Payment Link"}),Be.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Share this link with all contributors to collect their payments"}),Be.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/30 rounded-lg",children:[Be.jsxs("div",{className:"font-medium",children:[d," Payment Link"]}),Be.jsxs("div",{className:"flex items-center gap-2",children:[Be.jsxs("div",{className:"text-xs truncate max-w-[150px] text-muted-foreground",children:[y().substring(0,20),"..."]}),Be.jsx("button",{onClick:()=>{navigator.clipboard.writeText(y()),m({title:"Link copied",description:"Payment link copied to clipboard"})},className:"p-1.5 rounded-full bg-primary/10 text-primary hover:bg-primary/20 transition-colors",children:Be.jsx(ng,{size:14})})]})]})]})})]})})})},wR=({contributor:e,totalAmount:t,onRemove:n,onEdit:r,onNameChange:i,isCollector:s=!0,index:o=0})=>{const a=e.amount/t*100;return Be.jsx(kk,{delay:.1*o,children:Be.jsx(Ck,{scale:1.02,children:Be.jsxs("div",{className:"glass-card p-4 mb-3",children:[Be.jsxs("div",{className:"flex justify-between items-center",children:[Be.jsxs("div",{className:"flex items-center gap-3",children:[Be.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:Be.jsx(hg,{size:18})}),s&&e.isEditing?Be.jsx("input",{className:"input-field py-1 px-2 text-sm w-[120px]",value:e.name||"",onChange:t=>null==i?void 0:i(e.id,t.target.value),placeholder:"Name",autoFocus:!0}):Be.jsxs("div",{children:[Be.jsx("p",{className:"font-medium",children:e.name||"Unnamed"}),Be.jsxs("div",{className:"flex items-center mt-1 text-xs text-muted-foreground",children:[e.hasVerified&&Be.jsxs("div",{className:"flex items-center text-emerald-600",children:[Be.jsx(Zm,{size:12,className:"mr-1"}),Be.jsx("span",{children:"Verified"})]}),e.hasPaid&&Be.jsxs("div",{className:"flex items-center text-emerald-600 ml-2",children:[Be.jsx(Zm,{size:12,className:"mr-1"}),Be.jsx("span",{children:"Paid"})]})]})]})]}),Be.jsxs("div",{className:"flex items-center gap-2",children:[s&&e.isEditing?Be.jsx("input",{type:"number",min:"0",step:"0.01",className:"input-field py-1 px-2 text-sm w-[100px]",value:e.amount,onChange:t=>null==r?void 0:r(e.id,parseFloat(t.target.value)||0)}):Be.jsxs("div",{className:"flex items-center px-3 py-1.5 bg-primary/5 rounded-lg",children:[Be.jsx("span",{className:"font-medium",children:e.amount.toFixed(2)}),Be.jsx(og,{size:14,className:"ml-1 text-muted-foreground"})]}),s&&n&&Be.jsx("button",{onClick:()=>n(e.id),className:"w-8 h-8 flex items-center justify-center rounded-full text-destructive hover:bg-destructive/10 transition-colors",children:Be.jsx(pg,{size:16})})]})]}),s&&Be.jsxs("div",{className:"mt-3",children:[Be.jsx("div",{className:"relative h-2 bg-secondary rounded-full overflow-hidden",children:Be.jsx(gk.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5,ease:"easeOut"},className:"absolute top-0 left-0 h-full bg-primary"})}),Be.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[Be.jsxs("span",{children:[a.toFixed(1),"%"]}),Be.jsxs("span",{children:["of $",t.toFixed(2)]})]})]})]})})})},xR=({onSuccess:e,onCancel:t})=>{const[n,r]=Ie.useState("initial"),{toast:i}=Cp();return Be.jsxs("div",{className:"w-full max-w-md mx-auto",children:["initial"===n&&Be.jsx(gR,{children:Be.jsxs("div",{className:"glass-card p-6",children:[Be.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mx-auto mb-4",children:Be.jsx(rg,{size:24})}),Be.jsx("h3",{className:"text-xl font-medium text-center mb-2",children:"Verification Payment"}),Be.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"We'll make a temporary 0€ verification charge to confirm your payment method"}),Be.jsx("div",{className:"flex items-center justify-center mb-6",children:Be.jsxs("div",{className:"px-5 py-3 bg-primary/5 rounded-lg flex items-center justify-center",children:[Be.jsx("span",{className:"font-medium text-2xl",children:"0.00"}),Be.jsx(og,{size:20,className:"ml-1 text-muted-foreground"})]})}),Be.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[Be.jsx("button",{onClick:t,className:"px-4 py-2.5 border border-input rounded-lg text-sm font-medium hover:bg-secondary transition-colors",children:"Cancel"}),Be.jsx("button",{onClick:()=>{r("processing"),setTimeout((()=>{r("success"),i({title:"Verification successful",description:"Your payment method has been verified"}),setTimeout((()=>{e()}),1500)}),2e3)},className:"btn-primary",children:"Verify"})]})]})}),"processing"===n&&Be.jsx(gR,{children:Be.jsxs("div",{className:"glass-card p-6 flex flex-col items-center",children:[Be.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-t-primary border-r-primary/30 border-b-primary/10 border-l-primary/30 animate-spin mb-6"}),Be.jsx("h3",{className:"text-xl font-medium mb-2",children:"Processing"}),Be.jsx("p",{className:"text-muted-foreground text-center",children:"Verifying your payment method..."})]})}),"success"===n&&Be.jsx(gR,{children:Be.jsxs("div",{className:"glass-card p-6 flex flex-col items-center",children:[Be.jsx("div",{className:"text-emerald-500 mb-4",children:Be.jsx(Tk,{size:64})}),Be.jsx("h3",{className:"text-xl font-medium mb-2",children:"Verification Complete!"}),Be.jsx("p",{className:"text-muted-foreground text-center",children:"Your payment method has been successfully verified"})]})})]})},ER=()=>{const{poolId:e="demo"}=$f(),[t]=gp(),n=zf(),[r,i]=Ie.useState("details"),[s,o]=Ie.useState(""),[a,l]=Ie.useState(0),[u,c]=Ie.useState(null),[d,h]=Ie.useState(!0),[f,p]=Ie.useState(""),[m,g]=Ie.useState([]),[y,v]=Ie.useState(!1),{toast:b}=Cp();Ie.useEffect((()=>{(async()=>{try{if(!e)return void n("/");const r=t.get("name");r&&o(decodeURIComponent(r));const i=await cR(e);if(!i)return b({title:"Pool not found",description:"The requested payment pool doesn't exist",variant:"destructive"}),void n("/");c(i);const s=i.contributors.filter((e=>!e.hasVerified&&!e.hasPaid));if(g(s),r){const e=i.contributors.find((e=>e.name===decodeURIComponent(r)));e?(l(e.amount),p(e.id)):b({title:"Contributor not found",description:"Your name was not found in this payment pool",variant:"destructive"})}}catch(r){console.error("Error fetching pool data:",r),b({title:"Error",description:"Failed to load payment details",variant:"destructive"})}finally{h(!1)}})()}),[e,t,n,b]);if(d)return Be.jsx("div",{className:"h-screen flex items-center justify-center",children:Be.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!u)return null;const w={id:f||"temp-id",name:s||"You",amount:a,hasVerified:"success"===r,hasPaid:!1};return Be.jsxs("div",{className:"max-w-md mx-auto px-4 py-8",children:["details"===r&&Be.jsxs(kk,{children:[Be.jsxs("div",{className:"mb-8",children:[Be.jsx("div",{className:"chip mb-2 bg-primary/10 text-primary",children:"PAYMENT REQUEST"}),Be.jsx("h1",{className:"text-3xl font-semibold mb-2",children:"Your Payment"}),Be.jsx("p",{className:"text-muted-foreground",children:"Complete the form below to make your payment"})]}),Be.jsx(kk,{children:Be.jsx("form",{onSubmit:e=>{if(e.preventDefault(),s){if(!f&&u){const e=u.contributors.find((e=>e.name===s));if(!e)return void b({title:"Contributor not found",description:"Your name was not found in this payment pool",variant:"destructive"});l(e.amount),p(e.id)}i("verification")}else b({title:"Name required",description:"Please enter your name to continue",variant:"destructive"})},className:"mb-6",children:Be.jsxs("div",{className:"glass-card p-5",children:[Be.jsx("h2",{className:"text-lg font-medium mb-4",children:"Who Are You?"}),Be.jsxs("div",{className:"mb-4",children:[Be.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Your Name"}),Be.jsxs("div",{className:"relative",children:[Be.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:Be.jsx(dg,{size:18})}),m.length>0?Be.jsxs("div",{className:"relative",children:[Be.jsxs("button",{type:"button",className:"input-field pl-10 pr-10 w-full text-left flex justify-between items-center",onClick:()=>{v(!y)},children:[s||"Select your name",Be.jsx(eg,{size:18,className:"transition-transform "+(y?"rotate-180":"")})]}),y&&Be.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-background border border-input rounded-lg shadow-lg z-10",children:m.map((e=>Be.jsx("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-secondary transition-colors",onClick:()=>((e,t)=>{if(o(e),p(t),v(!1),u){const e=u.contributors.find((e=>e.id===t));e&&l(e.amount)}})(e.name,e.id),children:e.name},e.id)))})]}):Be.jsx("input",{id:"name",type:"text",value:s,onChange:e=>o(e.target.value),className:"input-field pl-10 w-full",placeholder:"Enter your name",required:!0,disabled:!!t.get("name")})]}),t.get("name")&&Be.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your name is provided in the payment link"}),m.length>0&&Be.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Choose from the names provided by the collector"})]}),Be.jsxs("button",{type:"submit",className:"btn-primary w-full flex items-center justify-center",disabled:!s,children:["Continue to Verification",Be.jsx(Gm,{size:16,className:"ml-2"})]})]})})}),f&&Be.jsx(kk,{delay:.2,children:Be.jsx(wR,{contributor:w,totalAmount:u.totalAmount,isCollector:!1})})]}),"verification"===r&&Be.jsxs(kk,{children:[Be.jsxs("div",{className:"mb-8",children:[Be.jsx("div",{className:"chip mb-2 bg-primary/10 text-primary",children:"PAYMENT VERIFICATION"}),Be.jsx("h1",{className:"text-3xl font-semibold mb-2",children:"Verify Payment"}),Be.jsx("p",{className:"text-muted-foreground",children:"Complete a 0€ verification to confirm your payment method"})]}),Be.jsx(xR,{onSuccess:async()=>{try{"demo"!==e&&f&&await(async(e,t,n)=>{try{const r=await cR(e);if(!r)throw new Error("Pool not found");const i=r.contributors.map((e=>e.id===t?{...e,...n}:e));await dR(e,i)}catch(r){throw console.error("Error updating contributor status:",r),r}})(e,f,{hasVerified:!0,hasPaid:!1}),i("success"),b({title:"Verification successful",description:"Your payment method has been verified"})}catch(t){console.error("Error updating contributor status:",t),i("success")}},onCancel:()=>{i("details")}})]}),"success"===r&&Be.jsxs(kk,{children:[Be.jsxs("div",{className:"text-center mb-8",children:[Be.jsx("div",{className:"text-emerald-500 mb-4 inline-block",children:Be.jsx(Zm,{className:"w-20 h-20 p-4 rounded-full bg-emerald-100"})}),Be.jsx("h1",{className:"text-3xl font-semibold mb-2",children:"Verification Complete!"}),Be.jsxs("p",{className:"text-muted-foreground",children:["Thank you, ",s,". Your payment method has been successfully verified. The collector will process the payment once all participants have verified their payment methods."]})]}),Be.jsx(kk,{children:Be.jsx("div",{className:"glass-card p-5 mb-6",children:Be.jsxs("div",{className:"flex justify-between items-center",children:[Be.jsxs("div",{className:"flex items-center",children:[Be.jsx("div",{className:"p-2.5 rounded-full bg-emerald-100 text-emerald-600 mr-3",children:Be.jsx(Zm,{size:18})}),Be.jsxs("div",{children:[Be.jsx("p",{className:"text-sm text-muted-foreground",children:"Verified Amount"}),Be.jsxs("div",{className:"flex items-center",children:[Be.jsx("span",{className:"text-2xl font-semibold",children:a.toFixed(2)}),Be.jsx(og,{size:18,className:"ml-1 text-muted-foreground"})]})]})]}),Be.jsx("div",{className:"chip bg-emerald-100 text-emerald-700",children:"Verified"})]})})}),Be.jsx(kk,{delay:.2,children:Be.jsx(wR,{contributor:w,totalAmount:u.totalAmount,isCollector:!1})})]})]})},SR=Ie.forwardRef((({className:e,...t},n)=>Be.jsx("div",{className:"relative w-full overflow-auto",children:Be.jsx("table",{ref:n,className:ey("w-full caption-bottom text-sm",e),...t})})));SR.displayName="Table";const kR=Ie.forwardRef((({className:e,...t},n)=>Be.jsx("thead",{ref:n,className:ey("[&_tr]:border-b",e),...t})));kR.displayName="TableHeader";const CR=Ie.forwardRef((({className:e,...t},n)=>Be.jsx("tbody",{ref:n,className:ey("[&_tr:last-child]:border-0",e),...t})));CR.displayName="TableBody";Ie.forwardRef((({className:e,...t},n)=>Be.jsx("tfoot",{ref:n,className:ey("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}))).displayName="TableFooter";const TR=Ie.forwardRef((({className:e,...t},n)=>Be.jsx("tr",{ref:n,className:ey("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t})));TR.displayName="TableRow";const NR=Ie.forwardRef((({className:e,...t},n)=>Be.jsx("th",{ref:n,className:ey("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t})));NR.displayName="TableHead";const _R=Ie.forwardRef((({className:e,...t},n)=>Be.jsx("td",{ref:n,className:ey("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t})));_R.displayName="TableCell";Ie.forwardRef((({className:e,...t},n)=>Be.jsx("caption",{ref:n,className:ey("mt-4 text-sm text-muted-foreground",e),...t}))).displayName="TableCaption";const PR=({business:e,stats:t,pools:n,refreshData:r})=>{const i=zf(),{toast:s}=Cp();return Be.jsxs("div",{children:[Be.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[Be.jsxs("div",{children:[Be.jsxs("h1",{className:"text-2xl font-semibold",children:[e.name," Dashboard"]}),Be.jsx("p",{className:"text-muted-foreground",children:e.email})]}),Be.jsxs("div",{className:"flex mt-4 md:mt-0 gap-3",children:[Be.jsxs("button",{onClick:async()=>{if(e.stripeAccountId)try{const t=await(async e=>(console.log(`Creating login link for Stripe account ${e}`),`https://dashboard.stripe.com/${e}`))(e.stripeAccountId);window.open(t,"_blank")}catch(t){console.error("Error creating login link:",t),s({title:"Error",description:"Failed to access Stripe dashboard",variant:"destructive"})}else s({title:"Stripe not connected",description:"Please connect your Stripe account first",variant:"destructive"})},className:"flex items-center px-4 py-2 border border-input rounded-lg text-sm font-medium hover:bg-secondary transition-colors",children:[Be.jsx(ag,{size:16,className:"mr-2"}),"Stripe Dashboard"]}),Be.jsxs("button",{onClick:()=>{if(0===n.length)return;const e=n.map((e=>[e.id,e.createdAt?new Date(e.createdAt.toMillis()).toLocaleDateString():"-",e.subscriptionName,e.totalAmount.toFixed(2),e.status||"active",e.contributors.length.toString(),e.contributors.filter((e=>e.hasVerified)).length.toString(),e.contributors.filter((e=>e.hasPaid)).length.toString()])),t=[["Pool ID","Created At","Name","Total Amount","Status","Contributors","Verified","Paid"].join(","),...e.map((e=>e.join(",")))].join("\n"),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(r),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",`onepool_export_${(new Date).toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"flex items-center px-3 py-1.5 text-sm border border-input rounded-md hover:bg-secondary transition-colors",children:[Be.jsx(sg,{size:16,className:"mr-2"}),"Export CSV"]})]})]}),t&&Be.jsx(kk,{children:Be.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[Be.jsx("div",{className:"glass-card p-4",children:Be.jsxs("div",{className:"flex items-center",children:[Be.jsx("div",{className:"p-2.5 rounded-full bg-primary/10 text-primary mr-3",children:Be.jsx(Xm,{size:20})}),Be.jsxs("div",{children:[Be.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pools"}),Be.jsx("p",{className:"text-xl font-semibold",children:t.totalPools})]})]})}),Be.jsx("div",{className:"glass-card p-4",children:Be.jsxs("div",{className:"flex items-center",children:[Be.jsx("div",{className:"p-2.5 rounded-full bg-blue-50 text-blue-600 mr-3",children:Be.jsx(fg,{size:20})}),Be.jsxs("div",{children:[Be.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Pools"}),Be.jsx("p",{className:"text-xl font-semibold",children:t.activePools})]})]})}),Be.jsx("div",{className:"glass-card p-4",children:Be.jsxs("div",{className:"flex items-center",children:[Be.jsx("div",{className:"p-2.5 rounded-full bg-emerald-50 text-emerald-600 mr-3",children:Be.jsx(ig,{size:20})}),Be.jsxs("div",{children:[Be.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),Be.jsxs("p",{className:"text-xl font-semibold",children:[t.totalAmount.toFixed(2)," €"]})]})]})}),Be.jsx("div",{className:"glass-card p-4",children:Be.jsxs("div",{className:"flex items-center",children:[Be.jsx("div",{className:"p-2.5 rounded-full bg-emerald-50 text-emerald-600 mr-3",children:Be.jsx(Jm,{size:20})}),Be.jsxs("div",{children:[Be.jsx("p",{className:"text-sm text-muted-foreground",children:"Collected Amount"}),Be.jsxs("p",{className:"text-xl font-semibold",children:[t.collectedAmount.toFixed(2)," €"]})]})]})})]})}),0===n.length?Be.jsx("div",{className:"text-center py-12",children:Be.jsx("p",{className:"text-muted-foreground mb-4",children:"No payment transactions found."})}):Be.jsxs("div",{className:"glass-card p-6",children:[Be.jsx("h2",{className:"text-lg font-medium mb-4",children:"Payment Transactions"}),Be.jsx("div",{className:"overflow-x-auto",children:Be.jsxs(SR,{children:[Be.jsx(kR,{children:Be.jsxs(TR,{children:[Be.jsx(NR,{children:"Name"}),Be.jsx(NR,{children:"Date"}),Be.jsx(NR,{children:"Amount"}),Be.jsx(NR,{children:"Status"}),Be.jsx(NR,{children:"Action"})]})}),Be.jsx(CR,{children:n.map((e=>Be.jsxs(TR,{children:[Be.jsx(_R,{className:"font-medium",children:e.subscriptionName}),Be.jsx(_R,{children:e.createdAt?new Date(e.createdAt.toMillis()).toLocaleDateString():"-"}),Be.jsxs(_R,{children:[e.totalAmount.toFixed(2)," €"]}),Be.jsx(_R,{children:Be.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("completed"===e.status?"bg-emerald-100 text-emerald-800":"bg-blue-100 text-blue-800"),children:"completed"===e.status?"Completed":"Active"})}),Be.jsx(_R,{children:Be.jsxs("button",{onClick:()=>i(`/collect/${e.id}`),className:"flex items-center text-primary hover:text-primary/70 transition-colors",children:["View Details",Be.jsx(Gm,{size:14,className:"ml-1"})]})})]},e.id)))})]})})]})]})},AR=()=>{const{businessId:e="demo"}=$f(),[t,n]=Ie.useState(null),[r,i]=Ie.useState(null),[s,o]=Ie.useState([]),[a,l]=Ie.useState(!0),u=zf(),{toast:c}=Cp();return Ie.useEffect((()=>{(async()=>{try{if("demo"===e)n({id:"demo",name:"Demo Business",email:"demo@example.com",stripeConnected:!0,stripeAccountId:"acct_demo",createdAt:{toMillis:()=>Date.now()}});else{const t=await(async e=>{try{const t=cj(lR,"businesses",e),n=await tR(t);return n.exists()?n.data():(console.log("No such business exists!"),null)}catch(t){throw console.error("Error getting business:",t),t}})(e);if(!t)return c({title:"Business not found",description:"The requested business could not be found",variant:"destructive"}),void u("/");if(!t.stripeConnected)return c({title:"Stripe not connected",description:"Please connect your Stripe account to access your dashboard",variant:"destructive"}),void u("/connect-stripe",{state:{businessId:t.id}});n(t)}const[t,r]=await Promise.all([hR(e),fR(e)]);o(t),i(r)}catch(t){console.error("Error fetching business data:",t),c({title:"Error",description:"Failed to load business data",variant:"destructive"})}finally{l(!1)}})()}),[e,u,c]),a?Be.jsx("div",{className:"min-h-screen flex items-center justify-center",children:Be.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):Be.jsxs("div",{className:"min-h-screen bg-background",children:[Be.jsx("header",{className:"py-6 px-4 border-b border-border",children:Be.jsx("div",{className:"container max-w-7xl mx-auto",children:Be.jsx("img",{src:"/OnePool.png",alt:"OnePool Logo",className:"logo-image primary-logo"})})}),Be.jsx("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:Be.jsx(kk,{children:t&&Be.jsx(PR,{business:t,stats:r,pools:s,refreshData:async()=>{const e=await hR(t.id),n=await fR(t.id);o(e),i(n)}})})}),Be.jsx("footer",{className:"py-6 px-4 border-t border-border",children:Be.jsxs("div",{className:"container max-w-7xl mx-auto text-center text-sm text-muted-foreground",children:["OnePool © ",(new Date).getFullYear()," — All rights reserved"]})})]})},IR=()=>{var e;const[t,n]=Ie.useState(!1),[r,i]=Ie.useState(!1),[s,o]=Ie.useState(!1),a=zf(),l=Uf(),{toast:u}=Cp(),c=(null==(e=l.state)?void 0:e.businessId)||"demo";De.useEffect((()=>{const e=new URLSearchParams(window.location.search),t=e.get("code"),n=e.get("state");t&&n&&(async()=>{i(!0);try{const{stripeAccountId:e}=await(async e=>(console.log(`Handling OAuth callback with code ${e}`),{stripeAccountId:`acct_${Math.random().toString(36).substring(2,15)}`}))(t);await(async(e,t)=>{try{const n=cj(lR,"businesses",e);await sR(n,{stripeAccountId:t,stripeConnected:!0})}catch(n){throw console.error("Error updating business Stripe account:",n),n}})(n,e),o(!0),u({title:"Successfully connected",description:"Your Stripe account has been successfully connected"}),setTimeout((()=>{a(`/dashboard/${n}`)}),2e3)}catch(e){console.error("Error processing Stripe callback:",e),u({title:"Connection failed",description:"Failed to connect your Stripe account",variant:"destructive"})}finally{i(!1)}})()}),[l,u,a]);return r?Be.jsxs("div",{className:"glass-card p-8 max-w-md mx-auto text-center",children:[Be.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-6"}),Be.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Processing Connection"}),Be.jsx("p",{className:"text-muted-foreground",children:"Please wait while we connect your Stripe account..."})]}):s?Be.jsxs("div",{className:"glass-card p-8 max-w-md mx-auto text-center",children:[Be.jsx("div",{className:"w-16 h-16 text-emerald-500 mx-auto mb-6",children:Be.jsx(Jm,{size:64})}),Be.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Connection Successful!"}),Be.jsx("p",{className:"text-muted-foreground mb-6",children:"Your Stripe account has been successfully connected to OnePool."}),Be.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting to dashboard..."})]}):Be.jsx(kk,{children:Be.jsxs("div",{className:"glass-card p-8 max-w-md mx-auto",children:[Be.jsxs("div",{className:"text-center mb-6",children:[Be.jsx("div",{className:"w-16 h-16 rounded-full bg-violet-100 flex items-center justify-center text-violet-600 mx-auto mb-4",children:Be.jsx(ug,{size:32})}),Be.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Connect with Stripe"}),Be.jsx("p",{className:"text-muted-foreground",children:"Connect your Stripe account to start receiving payments directly."})]}),Be.jsxs("div",{className:"mb-6",children:[Be.jsx("h3",{className:"font-medium mb-3",children:"Benefits of connecting:"}),Be.jsxs("ul",{className:"space-y-2",children:[Be.jsxs("li",{className:"flex items-start",children:[Be.jsx(Jm,{size:18,className:"text-emerald-500 mr-2 mt-0.5"}),Be.jsx("span",{children:"Receive payments directly to your bank account"})]}),Be.jsxs("li",{className:"flex items-start",children:[Be.jsx(Jm,{size:18,className:"text-emerald-500 mr-2 mt-0.5"}),Be.jsx("span",{children:"Access real-time payment information"})]}),Be.jsxs("li",{className:"flex items-start",children:[Be.jsx(Jm,{size:18,className:"text-emerald-500 mr-2 mt-0.5"}),Be.jsx("span",{children:"Manage refunds and disputes from your Stripe dashboard"})]}),Be.jsxs("li",{className:"flex items-start",children:[Be.jsx(Jm,{size:18,className:"text-emerald-500 mr-2 mt-0.5"}),Be.jsx("span",{children:"OnePool never touches your funds"})]})]})]}),Be.jsx("button",{onClick:()=>{n(!0);try{const e=`${window.location.origin}/connect-stripe`,t=((e,t)=>{const n=encodeURIComponent(e);return`https://connect.stripe.com/oauth/authorize?response_type=code&client_id=ca_XXXXXX&scope=read_write&redirect_uri=${encodeURIComponent(t)}&state=${n}`})(c,e);window.location.href=t}catch(e){console.error("Error connecting to Stripe:",e),u({title:"Connection failed",description:"Failed to initiate Stripe connection",variant:"destructive"}),n(!1)}},disabled:t,className:"w-full py-3 px-4 rounded-md bg-violet-600 hover:bg-violet-700 text-white font-medium flex items-center justify-center",children:t?Be.jsxs(Be.Fragment,{children:[Be.jsx("div",{className:"w-5 h-5 border-2 border-t-white/0 border-white rounded-full animate-spin mr-2"}),"Connecting..."]}):Be.jsxs(Be.Fragment,{children:[Be.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/ba/Stripe_Logo%2C_revised_2016.svg",alt:"Stripe Logo",className:"h-5 mr-2"}),"Connect with Stripe"]})}),Be.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"By connecting, you agree to Stripe's Terms of Service and Privacy Policy."})]})})},DR=()=>Be.jsxs("div",{className:"min-h-screen bg-background",children:[Be.jsx("header",{className:"py-6 px-4 border-b border-border",children:Be.jsx("div",{className:"container max-w-7xl mx-auto",children:Be.jsx("img",{src:"/OnePool.png",alt:"OnePool Logo",className:"logo-image primary-logo"})})}),Be.jsx("main",{className:"container max-w-7xl mx-auto px-4 py-12",children:Be.jsx(kk,{children:Be.jsx(IR,{})})}),Be.jsx("footer",{className:"py-6 px-4 border-t border-border",children:Be.jsxs("div",{className:"container max-w-7xl mx-auto text-center text-sm text-muted-foreground",children:["OnePool © ",(new Date).getFullYear()," — All rights reserved"]})})]}),jR=()=>{const e=Uf();return Ie.useEffect((()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)}),[e.pathname]),Be.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:Be.jsxs(kk,{className:"text-center",children:[Be.jsx("h1",{className:"text-9xl font-bold text-primary/20",children:"404"}),Be.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Page Not Found"}),Be.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been removed."}),Be.jsxs(dp,{to:"/",className:"btn-primary inline-flex items-center px-4 py-2 rounded bg-primary text-primary-foreground hover:bg-primary/90",children:[Be.jsx(lg,{size:18,className:"mr-2"}),"Return Home"]})]})})},RR=new jh,MR=()=>Be.jsx(Mh,{client:RR,children:Be.jsxs(Bh,{children:[Be.jsx(cy,{}),Be.jsx(_y,{}),Be.jsx(lp,{basename:"/app",children:Be.jsxs(np,{children:[Be.jsx(ep,{path:"/",element:Be.jsx(pR,{})}),Be.jsx(ep,{path:"/collect/:poolId",element:Be.jsx(bR,{})}),Be.jsx(ep,{path:"/pay/:poolId",element:Be.jsx(ER,{})}),Be.jsx(ep,{path:"/dashboard/:businessId",element:Be.jsx(AR,{})}),Be.jsx(ep,{path:"/connect-stripe",element:Be.jsx(DR,{})}),Be.jsx(ep,{path:"*",element:Be.jsx(jR,{})})]})})]})}),LR=document.getElementById("root");if(LR){const e=Yd(LR);try{e.render(Be.jsx(MR,{}))}catch(VR){console.error("Error rendering the app:",VR),LR.innerHTML='<div style="color: red; padding: 20px;">An error occurred while loading the application. Please refresh the page or check the console for more details.</div>'}}else{console.error("Failed to find the root element");const e=document.createElement("div");e.id="root",document.body.appendChild(e);const t=Yd(e);try{t.render(Be.jsx(MR,{}))}catch(VR){console.error("Error rendering the app:",VR),e.innerHTML='<div style="color: red; padding: 20px;">An error occurred while loading the application. Please refresh the page or check the console for more details.</div>'}}
//# sourceMappingURL=index-678d1440.js.map
