var e,t,n,r,i,s,o,a,l,u,c,d,h,f,p,m,g,y,v,b,w,x,E,T,S,P,_,k,C,N,A,O,I,j,R,D,M,L,F,V=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},U=(e,t,n)=>(V(e,t,"read from private field"),n?n.call(e):t.get(e)),z=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},B=(e,t,n,r)=>(V(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),$=(e,t,n,r)=>({set _(r){B(e,t,r,n)},get _(){return U(e,t,r)}}),q=(e,t,n)=>(V(e,t,"access private method"),n);function G(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function W(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function K(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var Q={exports:{}},Y={},X={exports:{}},J={},Z=Symbol.for("react.element"),ee=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),se=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),le=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),ce=Symbol.iterator;var de={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},he=Object.assign,fe={};function pe(e,t,n){this.props=e,this.context=t,this.refs=fe,this.updater=n||de}function me(){}function ge(e,t,n){this.props=e,this.context=t,this.refs=fe,this.updater=n||de}pe.prototype.isReactComponent={},pe.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},pe.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},me.prototype=pe.prototype;var ye=ge.prototype=new me;ye.constructor=ge,he(ye,pe.prototype),ye.isPureReactComponent=!0;var ve=Array.isArray,be=Object.prototype.hasOwnProperty,we={current:null},xe={key:!0,ref:!0,__self:!0,__source:!0};function Ee(e,t,n){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)be.call(t,r)&&!xe.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:Z,type:e,key:s,ref:o,props:i,_owner:we.current}}function Te(e){return"object"==typeof e&&null!==e&&e.$$typeof===Z}var Se=/\/+/g;function Pe(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _e(e,t,n,r,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var o=!1;if(null===e)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Z:case ee:o=!0}}if(o)return i=i(o=e),e=""===r?"."+Pe(o,0):r,ve(i)?(n="",null!=e&&(n=e.replace(Se,"$&/")+"/"),_e(i,t,n,"",(function(e){return e}))):null!=i&&(Te(i)&&(i=function(e,t){return{$$typeof:Z,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Se,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=""===r?".":r+":",ve(e))for(var a=0;a<e.length;a++){var l=r+Pe(s=e[a],a);o+=_e(s,t,n,l,i)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ce&&e[ce]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),a=0;!(s=e.next()).done;)o+=_e(s=s.value,t,n,l=r+Pe(s,a++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ke(e,t,n){if(null==e)return e;var r=[],i=0;return _e(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function Ce(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var Ne={current:null},Ae={transition:null},Oe={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Ae,ReactCurrentOwner:we};function Ie(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:ke,forEach:function(e,t,n){ke(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return ke(e,(function(){t++})),t},toArray:function(e){return ke(e,(function(e){return e}))||[]},only:function(e){if(!Te(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},J.Component=pe,J.Fragment=te,J.Profiler=re,J.PureComponent=ge,J.StrictMode=ne,J.Suspense=ae,J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oe,J.act=Ie,J.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=he({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=we.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)be.call(t,l)&&!xe.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Z,type:e.type,key:i,ref:s,props:r,_owner:o}},J.createContext=function(e){return(e={$$typeof:se,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:ie,_context:e},e.Consumer=e},J.createElement=Ee,J.createFactory=function(e){var t=Ee.bind(null,e);return t.type=e,t},J.createRef=function(){return{current:null}},J.forwardRef=function(e){return{$$typeof:oe,render:e}},J.isValidElement=Te,J.lazy=function(e){return{$$typeof:ue,_payload:{_status:-1,_result:e},_init:Ce}},J.memo=function(e,t){return{$$typeof:le,type:e,compare:void 0===t?null:t}},J.startTransition=function(e){var t=Ae.transition;Ae.transition={};try{e()}finally{Ae.transition=t}},J.unstable_act=Ie,J.useCallback=function(e,t){return Ne.current.useCallback(e,t)},J.useContext=function(e){return Ne.current.useContext(e)},J.useDebugValue=function(){},J.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)},J.useEffect=function(e,t){return Ne.current.useEffect(e,t)},J.useId=function(){return Ne.current.useId()},J.useImperativeHandle=function(e,t,n){return Ne.current.useImperativeHandle(e,t,n)},J.useInsertionEffect=function(e,t){return Ne.current.useInsertionEffect(e,t)},J.useLayoutEffect=function(e,t){return Ne.current.useLayoutEffect(e,t)},J.useMemo=function(e,t){return Ne.current.useMemo(e,t)},J.useReducer=function(e,t,n){return Ne.current.useReducer(e,t,n)},J.useRef=function(e){return Ne.current.useRef(e)},J.useState=function(e){return Ne.current.useState(e)},J.useSyncExternalStore=function(e,t,n){return Ne.current.useSyncExternalStore(e,t,n)},J.useTransition=function(){return Ne.current.useTransition()},J.version="18.3.1",X.exports=J;var je=X.exports;const Re=W(je),De=G({__proto__:null,default:Re},[je]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var Me=je,Le=Symbol.for("react.element"),Fe=Symbol.for("react.fragment"),Ve=Object.prototype.hasOwnProperty,Ue=Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ze={key:!0,ref:!0,__self:!0,__source:!0};function Be(e,t,n){var r,i={},s=null,o=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(o=t.ref),t)Ve.call(t,r)&&!ze.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:Le,type:e,key:s,ref:o,props:i,_owner:Ue.current}}Y.Fragment=Fe,Y.jsx=Be,Y.jsxs=Be,Q.exports=Y;var $e=Q.exports,qe={exports:{}},Ge={},He={exports:{}},We={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>i(l,n))u<s&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<s&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function w(e){if(m=!1,b(e),!p)if(null!==n(l))p=!0,I(x);else{var t=n(u);null!==t&&j(w,t.startTime-e)}}function x(t,i){p=!1,m&&(m=!1,y(P),P=-1),f=!0;var s=h;try{for(b(i),d=n(l);null!==d&&(!(d.expirationTime>i)||t&&!C());){var o=d.callback;if("function"==typeof o){d.callback=null,h=d.priorityLevel;var a=o(d.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?d.callback=a:d===n(l)&&r(l),b(i)}else r(l);d=n(l)}if(null!==d)var c=!0;else{var g=n(u);null!==g&&j(w,g.startTime-i),c=!1}return c}finally{d=null,h=s,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,T=!1,S=null,P=-1,_=5,k=-1;function C(){return!(e.unstable_now()-k<_)}function N(){if(null!==S){var t=e.unstable_now();k=t;var n=!0;try{n=S(!0,t)}finally{n?E():(T=!1,S=null)}}else T=!1}if("function"==typeof v)E=function(){v(N)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=N,E=function(){O.postMessage(null)}}else E=function(){g(N,0)};function I(e){S=e,T||(T=!0,E())}function j(t,n){P=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,I(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,s){var o=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?o+s:o:s=o,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(r.sortIndex=s,t(u,r),null===n(l)&&r===n(u)&&(m?(y(P),P=-1):m=!0,j(w,s-o))):(r.sortIndex=a,t(l,r),p||f||(p=!0,I(x))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(We),He.exports=We;var Ke=He.exports,Qe=je,Ye=Ke;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Je=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var nt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),rt=Object.prototype.hasOwnProperty,it=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,st={},ot={};function at(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){lt[e]=new at(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];lt[t]=new at(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){lt[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){lt[e]=new at(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){lt[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){lt[e]=new at(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){lt[e]=new at(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){lt[e]=new at(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){lt[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)}));var ut=/[\-:]([a-z])/g;function ct(e){return e[1].toUpperCase()}function dt(e,t,n,r){var i=lt.hasOwnProperty(t)?lt[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!rt.call(ot,e)||!rt.call(st,e)&&(it.test(e)?ot[e]=!0:(st[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(ut,ct);lt[t]=new at(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(ut,ct);lt[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(ut,ct);lt[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){lt[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)})),lt.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){lt[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)}));var ht=Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ft=Symbol.for("react.element"),pt=Symbol.for("react.portal"),mt=Symbol.for("react.fragment"),gt=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),vt=Symbol.for("react.provider"),bt=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),xt=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Pt=Symbol.for("react.offscreen"),_t=Symbol.iterator;function kt(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_t&&e[_t]||e["@@iterator"])?e:null}var Ct,Nt=Object.assign;function At(e){if(void 0===Ct)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ct=t&&t[1]||""}return"\n"+Ct+e}var Ot=!1;function It(e,t){if(!e||Ot)return"";Ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"==typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{Ot=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?At(e):""}function jt(e){switch(e.tag){case 5:return At(e.type);case 16:return At("Lazy");case 13:return At("Suspense");case 19:return At("SuspenseList");case 0:case 2:case 15:return e=It(e.type,!1);case 11:return e=It(e.type.render,!1);case 1:return e=It(e.type,!0);default:return""}}function Rt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case mt:return"Fragment";case pt:return"Portal";case yt:return"Profiler";case gt:return"StrictMode";case xt:return"Suspense";case Et:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case bt:return(e.displayName||"Context")+".Consumer";case vt:return(e._context.displayName||"Context")+".Provider";case wt:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Tt:return null!==(t=e.displayName||null)?t:Rt(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return Rt(e(t))}catch(n){}}return null}function Dt(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rt(t);case 8:return t===gt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Mt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Lt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ft(e){e._valueTracker||(e._valueTracker=function(e){var t=Lt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Vt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Lt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ut(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function zt(e,t){var n=t.checked;return Nt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Bt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Mt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $t(e,t){null!=(t=t.checked)&&dt(e,"checked",t,!1)}function qt(e,t){$t(e,t);var n=Mt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ht(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ht(e,t.type,Mt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Gt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ht(e,t,n){"number"===t&&Ut(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wt=Array.isArray;function Kt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Qt(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(Xe(91));return Nt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yt(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(Xe(92));if(Wt(n)){if(1<n.length)throw Error(Xe(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Mt(n)}}function Xt(e,t){var n=Mt(t.value),r=Mt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Jt(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Zt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function en(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Zt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var tn,nn,rn=(nn=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((tn=tn||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return nn(e,t)}))}:nn);function sn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var on={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},an=["Webkit","ms","Moz","O"];function ln(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||on.hasOwnProperty(e)&&on[e]?(""+t).trim():t+"px"}function un(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ln(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(on).forEach((function(e){an.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),on[t]=on[e]}))}));var cn=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dn(e,t){if(t){if(cn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(Xe(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(Xe(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(Xe(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(Xe(62))}}function hn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fn=null;function pn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var mn=null,gn=null,yn=null;function vn(e){if(e=ho(e)){if("function"!=typeof mn)throw Error(Xe(280));var t=e.stateNode;t&&(t=po(t),mn(e.stateNode,e.type,t))}}function bn(e){gn?yn?yn.push(e):yn=[e]:gn=e}function wn(){if(gn){var e=gn,t=yn;if(yn=gn=null,vn(e),t)for(e=0;e<t.length;e++)vn(t[e])}}function xn(e,t){return e(t)}function En(){}var Tn=!1;function Sn(e,t,n){if(Tn)return e(t,n);Tn=!0;try{return xn(e,t,n)}finally{Tn=!1,(null!==gn||null!==yn)&&(En(),wn())}}function Pn(e,t){var n=e.stateNode;if(null===n)return null;var r=po(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(Xe(231,t,typeof n));return n}var _n=!1;if(nt)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){_n=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch(nn){_n=!1}function Cn(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Nn=!1,An=null,On=!1,In=null,jn={onError:function(e){Nn=!0,An=e}};function Rn(e,t,n,r,i,s,o,a,l){Nn=!1,An=null,Cn.apply(jn,arguments)}function Dn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Mn(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ln(e){if(Dn(e)!==e)throw Error(Xe(188))}function Fn(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Dn(e)))throw Error(Xe(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ln(i),e;if(s===r)return Ln(i),t;s=s.sibling}throw Error(Xe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Xe(189))}}if(n.alternate!==r)throw Error(Xe(190))}if(3!==n.tag)throw Error(Xe(188));return n.stateNode.current===n?e:t}(e))?Vn(e):null}function Vn(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Vn(e);if(null!==t)return t;e=e.sibling}return null}var Un=Ye.unstable_scheduleCallback,zn=Ye.unstable_cancelCallback,Bn=Ye.unstable_shouldYield,$n=Ye.unstable_requestPaint,qn=Ye.unstable_now,Gn=Ye.unstable_getCurrentPriorityLevel,Hn=Ye.unstable_ImmediatePriority,Wn=Ye.unstable_UserBlockingPriority,Kn=Ye.unstable_NormalPriority,Qn=Ye.unstable_LowPriority,Yn=Ye.unstable_IdlePriority,Xn=null,Jn=null;var Zn=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(er(e)/tr|0)|0},er=Math.log,tr=Math.LN2;var nr=64,rr=4194304;function ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sr(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ir(a):0!==(s&=o)&&(r=ir(s))}else 0!==(o=n&~i)?r=ir(o):0!==s&&(r=ir(s));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&4194240&s))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Zn(t)),r|=e[n],t&=~i;return r}function or(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ar(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function lr(){var e=nr;return!(4194240&(nr<<=1))&&(nr=64),e}function ur(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cr(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Zn(t)]=n}function dr(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Zn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var hr=0;function fr(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var pr,mr,gr,yr,vr,br=!1,wr=[],xr=null,Er=null,Tr=null,Sr=new Map,Pr=new Map,_r=[],kr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cr(e,t){switch(e){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":Sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(t.pointerId)}}function Nr(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=ho(t))&&mr(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ar(e){var t=co(e.target);if(null!==t){var n=Dn(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Mn(n)))return e.blockedOn=t,void vr(e.priority,(function(){gr(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Or(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Br(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ho(n))&&mr(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);fn=r,n.target.dispatchEvent(r),fn=null,t.shift()}return!0}function Ir(e,t,n){Or(e)&&n.delete(t)}function jr(){br=!1,null!==xr&&Or(xr)&&(xr=null),null!==Er&&Or(Er)&&(Er=null),null!==Tr&&Or(Tr)&&(Tr=null),Sr.forEach(Ir),Pr.forEach(Ir)}function Rr(e,t){e.blockedOn===t&&(e.blockedOn=null,br||(br=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,jr)))}function Dr(e){function t(t){return Rr(t,e)}if(0<wr.length){Rr(wr[0],e);for(var n=1;n<wr.length;n++){var r=wr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xr&&Rr(xr,e),null!==Er&&Rr(Er,e),null!==Tr&&Rr(Tr,e),Sr.forEach(t),Pr.forEach(t),n=0;n<_r.length;n++)(r=_r[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_r.length&&null===(n=_r[0]).blockedOn;)Ar(n),null===n.blockedOn&&_r.shift()}var Mr=ht.ReactCurrentBatchConfig,Lr=!0;function Fr(e,t,n,r){var i=hr,s=Mr.transition;Mr.transition=null;try{hr=1,Ur(e,t,n,r)}finally{hr=i,Mr.transition=s}}function Vr(e,t,n,r){var i=hr,s=Mr.transition;Mr.transition=null;try{hr=4,Ur(e,t,n,r)}finally{hr=i,Mr.transition=s}}function Ur(e,t,n,r){if(Lr){var i=Br(e,t,n,r);if(null===i)Ms(e,t,r,zr,n),Cr(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xr=Nr(xr,e,t,n,r,i),!0;case"dragenter":return Er=Nr(Er,e,t,n,r,i),!0;case"mouseover":return Tr=Nr(Tr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Sr.set(s,Nr(Sr.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pr.set(s,Nr(Pr.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Cr(e,r),4&t&&-1<kr.indexOf(e)){for(;null!==i;){var s=ho(i);if(null!==s&&pr(s),null===(s=Br(e,t,n,r))&&Ms(e,t,r,zr,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Ms(e,t,r,null,n)}}var zr=null;function Br(e,t,n,r){if(zr=null,null!==(e=co(e=pn(r))))if(null===(t=Dn(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Mn(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zr=e,null}function $r(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gn()){case Hn:return 1;case Wn:return 4;case Kn:case Qn:return 16;case Yn:return 536870912;default:return 16}default:return 16}}var qr=null,Gr=null,Hr=null;function Wr(){if(Hr)return Hr;var e,t,n=Gr,r=n.length,i="value"in qr?qr.value:qr.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Hr=i.slice(e,1<t?1-t:void 0)}function Kr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qr(){return!0}function Yr(){return!1}function Xr(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Qr:Yr,this.isPropagationStopped=Yr,this}return Nt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),t}var Jr,Zr,ei,ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=Xr(ti),ri=Nt({},ti,{view:0,detail:0}),ii=Xr(ri),si=Nt({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yi,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&"mousemove"===e.type?(Jr=e.screenX-ei.screenX,Zr=e.screenY-ei.screenY):Zr=Jr=0,ei=e),Jr)},movementY:function(e){return"movementY"in e?e.movementY:Zr}}),oi=Xr(si),ai=Xr(Nt({},si,{dataTransfer:0})),li=Xr(Nt({},ri,{relatedTarget:0})),ui=Xr(Nt({},ti,{animationName:0,elapsedTime:0,pseudoElement:0})),ci=Nt({},ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),di=Xr(ci),hi=Xr(Nt({},ti,{data:0})),fi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mi[e])&&!!t[e]}function yi(){return gi}var vi=Nt({},ri,{key:function(e){if(e.key){var t=fi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yi,charCode:function(e){return"keypress"===e.type?Kr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),bi=Xr(vi),wi=Xr(Nt({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xi=Xr(Nt({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yi})),Ei=Xr(Nt({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ti=Nt({},si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Si=Xr(Ti),Pi=[9,13,27,32],_i=nt&&"CompositionEvent"in window,ki=null;nt&&"documentMode"in document&&(ki=document.documentMode);var Ci=nt&&"TextEvent"in window&&!ki,Ni=nt&&(!_i||ki&&8<ki&&11>=ki),Ai=String.fromCharCode(32),Oi=!1;function Ii(e,t){switch(e){case"keyup":return-1!==Pi.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ji(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ri=!1;var Di={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Di[e.type]:"textarea"===t}function Li(e,t,n,r){bn(r),0<(t=Fs(t,"onChange")).length&&(n=new ni("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fi=null,Vi=null;function Ui(e){As(e,0)}function zi(e){if(Vt(fo(e)))return e}function Bi(e,t){if("change"===e)return t}var $i=!1;if(nt){var qi;if(nt){var Gi="oninput"in document;if(!Gi){var Hi=document.createElement("div");Hi.setAttribute("oninput","return;"),Gi="function"==typeof Hi.oninput}qi=Gi}else qi=!1;$i=qi&&(!document.documentMode||9<document.documentMode)}function Wi(){Fi&&(Fi.detachEvent("onpropertychange",Ki),Vi=Fi=null)}function Ki(e){if("value"===e.propertyName&&zi(Vi)){var t=[];Li(t,Vi,e,pn(e)),Sn(Ui,t)}}function Qi(e,t,n){"focusin"===e?(Wi(),Vi=n,(Fi=t).attachEvent("onpropertychange",Ki)):"focusout"===e&&Wi()}function Yi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zi(Vi)}function Xi(e,t){if("click"===e)return zi(t)}function Ji(e,t){if("input"===e||"change"===e)return zi(t)}var Zi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function es(e,t){if(Zi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Zi(e[i],t[i]))return!1}return!0}function ts(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ns(e,t){var n,r=ts(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ts(r)}}function rs(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rs(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function is(){for(var e=window,t=Ut();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Ut((e=t.contentWindow).document)}return t}function ss(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function os(e){var t=is(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rs(n.ownerDocument.documentElement,n)){if(null!==r&&ss(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ns(n,s);var o=ns(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var as=nt&&"documentMode"in document&&11>=document.documentMode,ls=null,us=null,cs=null,ds=!1;function hs(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ds||null==ls||ls!==Ut(r)||("selectionStart"in(r=ls)&&ss(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cs&&es(cs,r)||(cs=r,0<(r=Fs(us,"onSelect")).length&&(t=new ni("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ls)))}function fs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ps={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionend:fs("Transition","TransitionEnd")},ms={},gs={};function ys(e){if(ms[e])return ms[e];if(!ps[e])return e;var t,n=ps[e];for(t in n)if(n.hasOwnProperty(t)&&t in gs)return ms[e]=n[t];return e}nt&&(gs=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);var vs=ys("animationend"),bs=ys("animationiteration"),ws=ys("animationstart"),xs=ys("transitionend"),Es=new Map,Ts="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(e,t){Es.set(e,t),et(t,[e])}for(var Ps=0;Ps<Ts.length;Ps++){var _s=Ts[Ps];Ss(_s.toLowerCase(),"on"+(_s[0].toUpperCase()+_s.slice(1)))}Ss(vs,"onAnimationEnd"),Ss(bs,"onAnimationIteration"),Ss(ws,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(xs,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cs=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function Ns(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,a,l){if(Rn.apply(this,arguments),Nn){if(!Nn)throw Error(Xe(198));var u=An;Nn=!1,An=null,On||(On=!0,In=u)}}(r,t,void 0,e),e.currentTarget=null}function As(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ns(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ns(i,a,u),s=l}}}if(On)throw e=In,On=!1,In=null,e}function Os(e,t){var n=t[ao];void 0===n&&(n=t[ao]=new Set);var r=e+"__bubble";n.has(r)||(Ds(t,e,2,!1),n.add(r))}function Is(e,t,n){var r=0;t&&(r|=4),Ds(n,e,r,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function Rs(e){if(!e[js]){e[js]=!0,Je.forEach((function(t){"selectionchange"!==t&&(Cs.has(t)||Is(t,!1,e),Is(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[js]||(t[js]=!0,Is("selectionchange",!1,t))}}function Ds(e,t,n,r){switch($r(t)){case 1:var i=Fr;break;case 4:i=Vr;break;default:i=Ur}n=i.bind(null,t,n,e),i=void 0,!_n||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ms(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=co(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Sn((function(){var r=s,i=pn(n),o=[];e:{var a=Es.get(e);if(void 0!==a){var l=ni,u=e;switch(e){case"keypress":if(0===Kr(n))break e;case"keydown":case"keyup":l=bi;break;case"focusin":u="focus",l=li;break;case"focusout":u="blur",l=li;break;case"beforeblur":case"afterblur":l=li;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=oi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ai;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=xi;break;case vs:case bs:case ws:l=ui;break;case xs:l=Ei;break;case"scroll":l=ii;break;case"wheel":l=Si;break;case"copy":case"cut":case"paste":l=di;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=wi}var c=!!(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pn(p,h))&&c.push(Ls(p,m,f)))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===fn||!(u=n.relatedTarget||n.fromElement)||!co(u)&&!u[oo])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?co(u):null)&&(u!==(d=Dn(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=oi,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=wi,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:fo(l),f=null==u?a:fo(u),(a=new c(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,co(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Vs(f))p++;for(f=0,m=h;m;m=Vs(m))f++;for(;0<p-f;)c=Vs(c),p--;for(;0<f-p;)h=Vs(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Vs(c),h=Vs(h)}c=null}else c=null;null!==l&&Us(o,a,l,c,!1),null!==u&&null!==d&&Us(o,d,u,c,!0)}if("select"===(l=(a=r?fo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Bi;else if(Mi(a))if($i)g=Ji;else{g=Yi;var y=Qi}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=Xi);switch(g&&(g=g(e,r))?Li(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&Ht(a,"number",a.value)),y=r?fo(r):window,e){case"focusin":(Mi(y)||"true"===y.contentEditable)&&(ls=y,us=r,cs=null);break;case"focusout":cs=us=ls=null;break;case"mousedown":ds=!0;break;case"contextmenu":case"mouseup":case"dragend":ds=!1,hs(o,n,i);break;case"selectionchange":if(as)break;case"keydown":case"keyup":hs(o,n,i)}var v;if(_i)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ri?Ii(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ni&&"ko"!==n.locale&&(Ri||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ri&&(v=Wr()):(Gr="value"in(qr=i)?qr.value:qr.textContent,Ri=!0)),0<(y=Fs(r,b)).length&&(b=new hi(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=ji(n))&&(b.data=v))),(v=Ci?function(e,t){switch(e){case"compositionend":return ji(t);case"keypress":return 32!==t.which?null:(Oi=!0,Ai);case"textInput":return(e=t.data)===Ai&&Oi?null:e;default:return null}}(e,n):function(e,t){if(Ri)return"compositionend"===e||!_i&&Ii(e,t)?(e=Wr(),Hr=Gr=qr=null,Ri=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ni&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fs(r,"onBeforeInput")).length&&(i=new hi("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}As(o,t)}))}function Ls(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fs(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pn(e,n))&&r.unshift(Ls(e,s,i)),null!=(s=Pn(e,t))&&r.push(Ls(e,s,i))),e=e.return}return r}function Vs(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Us(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Pn(n,s))&&o.unshift(Ls(n,l,a)):i||null!=(l=Pn(n,s))&&o.push(Ls(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var zs=/\r\n?/g,Bs=/\u0000|\uFFFD/g;function $s(e){return("string"==typeof e?e:""+e).replace(zs,"\n").replace(Bs,"")}function qs(e,t,n){if(t=$s(t),$s(e)!==t&&n)throw Error(Xe(425))}function Gs(){}var Hs=null,Ws=null;function Ks(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qs="function"==typeof setTimeout?setTimeout:void 0,Ys="function"==typeof clearTimeout?clearTimeout:void 0,Xs="function"==typeof Promise?Promise:void 0,Js="function"==typeof queueMicrotask?queueMicrotask:void 0!==Xs?function(e){return Xs.resolve(null).then(e).catch(Zs)}:Qs;function Zs(e){setTimeout((function(){throw e}))}function eo(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Dr(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Dr(t)}function to(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function no(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ro=Math.random().toString(36).slice(2),io="__reactFiber$"+ro,so="__reactProps$"+ro,oo="__reactContainer$"+ro,ao="__reactEvents$"+ro,lo="__reactListeners$"+ro,uo="__reactHandles$"+ro;function co(e){var t=e[io];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oo]||n[io]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=no(e);null!==e;){if(n=e[io])return n;e=no(e)}return t}n=(e=n).parentNode}return null}function ho(e){return!(e=e[io]||e[oo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function fo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(Xe(33))}function po(e){return e[so]||null}var mo=[],go=-1;function yo(e){return{current:e}}function vo(e){0>go||(e.current=mo[go],mo[go]=null,go--)}function bo(e,t){go++,mo[go]=e.current,e.current=t}var wo={},xo=yo(wo),Eo=yo(!1),To=wo;function So(e,t){var n=e.type.contextTypes;if(!n)return wo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Po(e){return null!=(e=e.childContextTypes)}function _o(){vo(Eo),vo(xo)}function ko(e,t,n){if(xo.current!==wo)throw Error(Xe(168));bo(xo,t),bo(Eo,n)}function Co(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(Xe(108,Dt(e)||"Unknown",i));return Nt({},n,r)}function No(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wo,To=xo.current,bo(xo,e),bo(Eo,Eo.current),!0}function Ao(e,t,n){var r=e.stateNode;if(!r)throw Error(Xe(169));n?(e=Co(e,t,To),r.__reactInternalMemoizedMergedChildContext=e,vo(Eo),vo(xo),bo(xo,e)):vo(Eo),bo(Eo,n)}var Oo=null,Io=!1,jo=!1;function Ro(e){null===Oo?Oo=[e]:Oo.push(e)}function Do(){if(!jo&&null!==Oo){jo=!0;var e=0,t=hr;try{var n=Oo;for(hr=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oo=null,Io=!1}catch(i){throw null!==Oo&&(Oo=Oo.slice(e+1)),Un(Hn,Do),i}finally{hr=t,jo=!1}}return null}var Mo=[],Lo=0,Fo=null,Vo=0,Uo=[],zo=0,Bo=null,$o=1,qo="";function Go(e,t){Mo[Lo++]=Vo,Mo[Lo++]=Fo,Fo=e,Vo=t}function Ho(e,t,n){Uo[zo++]=$o,Uo[zo++]=qo,Uo[zo++]=Bo,Bo=e;var r=$o;e=qo;var i=32-Zn(r)-1;r&=~(1<<i),n+=1;var s=32-Zn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$o=1<<32-Zn(t)+i|n<<i|r,qo=s+e}else $o=1<<s|n<<i|r,qo=e}function Wo(e){null!==e.return&&(Go(e,1),Ho(e,1,0))}function Ko(e){for(;e===Fo;)Fo=Mo[--Lo],Mo[Lo]=null,Vo=Mo[--Lo],Mo[Lo]=null;for(;e===Bo;)Bo=Uo[--zo],Uo[zo]=null,qo=Uo[--zo],Uo[zo]=null,$o=Uo[--zo],Uo[zo]=null}var Qo=null,Yo=null,Xo=!1,Jo=null;function Zo(e,t){var n=Td(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ea(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Qo=e,Yo=to(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Qo=e,Yo=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Bo?{id:$o,overflow:qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Td(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Qo=e,Yo=null,!0);default:return!1}}function ta(e){return!(!(1&e.mode)||128&e.flags)}function na(e){if(Xo){var t=Yo;if(t){var n=t;if(!ea(e,t)){if(ta(e))throw Error(Xe(418));t=to(n.nextSibling);var r=Qo;t&&ea(e,t)?Zo(r,n):(e.flags=-4097&e.flags|2,Xo=!1,Qo=e)}}else{if(ta(e))throw Error(Xe(418));e.flags=-4097&e.flags|2,Xo=!1,Qo=e}}}function ra(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Qo=e}function ia(e){if(e!==Qo)return!1;if(!Xo)return ra(e),Xo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Ks(e.type,e.memoizedProps)),t&&(t=Yo)){if(ta(e))throw sa(),Error(Xe(418));for(;t;)Zo(e,t),t=to(t.nextSibling)}if(ra(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(Xe(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Yo=to(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Yo=null}}else Yo=Qo?to(e.stateNode.nextSibling):null;return!0}function sa(){for(var e=Yo;e;)e=to(e.nextSibling)}function oa(){Yo=Qo=null,Xo=!1}function aa(e){null===Jo?Jo=[e]:Jo.push(e)}var la=ht.ReactCurrentBatchConfig;function ua(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(Xe(309));var r=n.stateNode}if(!r)throw Error(Xe(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(Xe(284));if(!n._owner)throw Error(Xe(290,e))}return e}function ca(e,t){throw e=Object.prototype.toString.call(t),Error(Xe(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function da(e){return(0,e._init)(e._payload)}function ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pd(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=Nd(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===mt?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===St&&da(s)===t.type)?((r=i(t,n.props)).ref=ua(e,t,n),r.return=e,r):((r=_d(n.type,n.key,n.props,null,e.mode,r)).ref=ua(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ad(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,s){return null===t||7!==t.tag?((t=kd(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Nd(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ft:return(n=_d(t.type,t.key,t.props,null,e.mode,n)).ref=ua(e,null,t),n.return=e,n;case pt:return(t=Ad(t,e.mode,n)).return=e,t;case St:return d(e,(0,t._init)(t._payload),n)}if(Wt(t)||kt(t))return(t=kd(t,e.mode,n,null)).return=e,t;ca(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ft:return n.key===i?l(e,t,n,r):null;case pt:return n.key===i?u(e,t,n,r):null;case St:return h(e,t,(i=n._init)(n._payload),r)}if(Wt(n)||kt(n))return null!==i?null:c(e,t,n,r,null);ca(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ft:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case pt:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case St:return f(e,t,n,(0,r._init)(r._payload),i)}if(Wt(r)||kt(r))return c(t,e=e.get(n)||null,r,i,null);ca(t,r)}return null}return function a(l,u,c,p){if("object"==typeof c&&null!==c&&c.type===mt&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case ft:e:{for(var m=c.key,g=u;null!==g;){if(g.key===m){if((m=c.type)===mt){if(7===g.tag){n(l,g.sibling),(u=i(g,c.props.children)).return=l,l=u;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===St&&da(m)===g.type){n(l,g.sibling),(u=i(g,c.props)).ref=ua(l,g,c),u.return=l,l=u;break e}n(l,g);break}t(l,g),g=g.sibling}c.type===mt?((u=kd(c.props.children,l.mode,p,c.key)).return=l,l=u):((p=_d(c.type,c.key,c.props,null,l.mode,p)).ref=ua(l,u,c),p.return=l,l=p)}return o(l);case pt:e:{for(g=c.key;null!==u;){if(u.key===g){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=Ad(c,l.mode,p)).return=l,l=u}return o(l);case St:return a(l,u,(g=c._init)(c._payload),p)}if(Wt(c))return function(i,o,a,l){for(var u=null,c=null,p=o,m=o=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var y=h(i,p,a[m],l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,p=g}if(m===a.length)return n(i,p),Xo&&Go(i,m),u;if(null===p){for(;m<a.length;m++)null!==(p=d(i,a[m],l))&&(o=s(p,o,m),null===c?u=p:c.sibling=p,c=p);return Xo&&Go(i,m),u}for(p=r(i,p);m<a.length;m++)null!==(g=f(p,i,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),Xo&&Go(i,m),u}(l,u,c,p);if(kt(c))return function(i,o,a,l){var u=kt(a);if("function"!=typeof u)throw Error(Xe(150));if(null==(a=u.call(a)))throw Error(Xe(151));for(var c=u=null,p=o,m=o=0,g=null,y=a.next();null!==p&&!y.done;m++,y=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var v=h(i,p,y.value,l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,p=g}if(y.done)return n(i,p),Xo&&Go(i,m),u;if(null===p){for(;!y.done;m++,y=a.next())null!==(y=d(i,y.value,l))&&(o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return Xo&&Go(i,m),u}for(p=r(i,p);!y.done;m++,y=a.next())null!==(y=f(p,i,m,y.value,l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(i,e)})),Xo&&Go(i,m),u}(l,u,c,p);ca(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l,l=u):(n(l,u),(u=Nd(c,l.mode,p)).return=l,l=u),o(l)):n(l,u)}}var fa=ha(!0),pa=ha(!1),ma=yo(null),ga=null,ya=null,va=null;function ba(){va=ya=ga=null}function wa(e){var t=ma.current;vo(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,va=ya=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(du=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(va!==e)if(e={context:e,memoizedValue:t,next:null},null===ya){if(null===ga)throw Error(Xe(308));ya=e,ga.dependencies={lanes:0,firstContext:e}}else ya=ya.next=e;return t}var Sa=null;function Pa(e){null===Sa?Sa=[e]:Sa.push(e)}function _a(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Pa(t)):(n.next=i.next,i.next=n),t.interleaved=n,ka(e,r)}function ka(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ca=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&wc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ka(e,n)}return null===(i=r.interleaved)?(t.next=t,Pa(r)):(t.next=i.next,i.next=t),r.interleaved=t,ka(e,n)}function ja(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,dr(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Da(e,t,n,r){var i=e.updateQueue;Ca=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(o=0,c=u=l=null,a=s;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(f,d,h):p))break e;d=Nt({},d,h);break e;case 2:Ca=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Cc|=o,e.lanes=o,e.memoizedState=d}}function Ma(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(Xe(191,i));i.call(r)}}}var La={},Fa=yo(La),Va=yo(La),Ua=yo(La);function za(e){if(e===La)throw Error(Xe(174));return e}function Ba(e,t){switch(bo(Ua,t),bo(Va,e),bo(Fa,La),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:en(null,"");break;default:t=en(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}vo(Fa),bo(Fa,t)}function $a(){vo(Fa),vo(Va),vo(Ua)}function qa(e){za(Ua.current);var t=za(Fa.current),n=en(t,e.type);t!==n&&(bo(Va,e),bo(Fa,n))}function Ga(e){Va.current===e&&(vo(Fa),vo(Va))}var Ha=yo(0);function Wa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ka=[];function Qa(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var Ya=ht.ReactCurrentDispatcher,Xa=ht.ReactCurrentBatchConfig,Ja=0,Za=null,el=null,tl=null,nl=!1,rl=!1,il=0,sl=0;function ol(){throw Error(Xe(321))}function al(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zi(e[n],t[n]))return!1;return!0}function ll(e,t,n,r,i,s){if(Ja=s,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Gl:Hl,e=n(r,i),rl){s=0;do{if(rl=!1,il=0,25<=s)throw Error(Xe(301));s+=1,tl=el=null,t.updateQueue=null,Ya.current=Wl,e=n(r,i)}while(rl)}if(Ya.current=ql,t=null!==el&&null!==el.next,Ja=0,tl=el=Za=null,nl=!1,t)throw Error(Xe(300));return e}function ul(){var e=0!==il;return il=0,e}function cl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===tl?Za.memoizedState=tl=e:tl=tl.next=e,tl}function dl(){if(null===el){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=el.next;var t=null===tl?Za.memoizedState:tl.next;if(null!==t)tl=t,el=e;else{if(null===e)throw Error(Xe(310));e={memoizedState:(el=e).memoizedState,baseState:el.baseState,baseQueue:el.baseQueue,queue:el.queue,next:null},null===tl?Za.memoizedState=tl=e:tl=tl.next=e}return tl}function hl(e,t){return"function"==typeof t?t(e):t}function fl(e){var t=dl(),n=t.queue;if(null===n)throw Error(Xe(311));n.lastRenderedReducer=e;var r=el,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ja&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(a=l=d,o=r):l=l.next=d,Za.lanes|=c,Cc|=c}u=u.next}while(null!==u&&u!==s);null===l?o=r:l.next=a,Zi(r,t.memoizedState)||(du=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,Za.lanes|=s,Cc|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pl(e){var t=dl(),n=t.queue;if(null===n)throw Error(Xe(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Zi(s,t.memoizedState)||(du=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ml(){}function gl(e,t){var n=Za,r=dl(),i=t(),s=!Zi(r.memoizedState,i);if(s&&(r.memoizedState=i,du=!0),r=r.queue,Cl(bl.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==tl&&1&tl.memoizedState.tag){if(n.flags|=2048,Tl(9,vl.bind(null,n,r,i,t),void 0,null),null===xc)throw Error(Xe(349));30&Ja||yl(n,t,i)}return i}function yl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Za.updateQueue)?(t={lastEffect:null,stores:null},Za.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function vl(e,t,n,r){t.value=n,t.getSnapshot=r,wl(t)&&xl(e)}function bl(e,t,n){return n((function(){wl(t)&&xl(e)}))}function wl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zi(e,n)}catch(r){return!0}}function xl(e){var t=ka(e,1);null!==t&&Kc(t,e,1,-1)}function El(e){var t=cl();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:e},t.queue=e,e=e.dispatch=Ul.bind(null,Za,e),[t.memoizedState,e]}function Tl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null,stores:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Sl(){return dl().memoizedState}function Pl(e,t,n,r){var i=cl();Za.flags|=e,i.memoizedState=Tl(1|t,n,void 0,void 0===r?null:r)}function _l(e,t,n,r){var i=dl();r=void 0===r?null:r;var s=void 0;if(null!==el){var o=el.memoizedState;if(s=o.destroy,null!==r&&al(r,o.deps))return void(i.memoizedState=Tl(t,n,s,r))}Za.flags|=e,i.memoizedState=Tl(1|t,n,s,r)}function kl(e,t){return Pl(8390656,8,e,t)}function Cl(e,t){return _l(2048,8,e,t)}function Nl(e,t){return _l(4,2,e,t)}function Al(e,t){return _l(4,4,e,t)}function Ol(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Il(e,t,n){return n=null!=n?n.concat([e]):null,_l(4,4,Ol.bind(null,t,e),n)}function jl(){}function Rl(e,t){var n=dl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&al(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Dl(e,t){var n=dl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&al(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ml(e,t,n){return 21&Ja?(Zi(n,t)||(n=lr(),Za.lanes|=n,Cc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,du=!0),e.memoizedState=n)}function Ll(e,t){var n=hr;hr=0!==n&&4>n?n:4,e(!0);var r=Xa.transition;Xa.transition={};try{e(!1),t()}finally{hr=n,Xa.transition=r}}function Fl(){return dl().memoizedState}function Vl(e,t,n){var r=Wc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zl(e))Bl(t,n);else if(null!==(n=_a(e,t,n,r))){Kc(n,e,r,Hc()),$l(n,t,r)}}function Ul(e,t,n){var r=Wc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zl(e))Bl(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Zi(a,o)){var l=t.interleaved;return null===l?(i.next=i,Pa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=_a(e,t,i,r))&&(Kc(n,e,r,i=Hc()),$l(n,t,r))}}function zl(e){var t=e.alternate;return e===Za||null!==t&&t===Za}function Bl(e,t){rl=nl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $l(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,dr(e,n)}}var ql={readContext:Ta,useCallback:ol,useContext:ol,useEffect:ol,useImperativeHandle:ol,useInsertionEffect:ol,useLayoutEffect:ol,useMemo:ol,useReducer:ol,useRef:ol,useState:ol,useDebugValue:ol,useDeferredValue:ol,useTransition:ol,useMutableSource:ol,useSyncExternalStore:ol,useId:ol,unstable_isNewReconciler:!1},Gl={readContext:Ta,useCallback:function(e,t){return cl().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:kl,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Pl(4194308,4,Ol.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pl(4,2,e,t)},useMemo:function(e,t){var n=cl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=cl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vl.bind(null,Za,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},cl().memoizedState=e},useState:El,useDebugValue:jl,useDeferredValue:function(e){return cl().memoizedState=e},useTransition:function(){var e=El(!1),t=e[0];return e=Ll.bind(null,e[1]),cl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Za,i=cl();if(Xo){if(void 0===n)throw Error(Xe(407));n=n()}else{if(n=t(),null===xc)throw Error(Xe(349));30&Ja||yl(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,kl(bl.bind(null,r,s,e),[e]),r.flags|=2048,Tl(9,vl.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=cl(),t=xc.identifierPrefix;if(Xo){var n=qo;t=":"+t+"R"+(n=($o&~(1<<32-Zn($o)-1)).toString(32)+n),0<(n=il++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=sl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hl={readContext:Ta,useCallback:Rl,useContext:Ta,useEffect:Cl,useImperativeHandle:Il,useInsertionEffect:Nl,useLayoutEffect:Al,useMemo:Dl,useReducer:fl,useRef:Sl,useState:function(){return fl(hl)},useDebugValue:jl,useDeferredValue:function(e){return Ml(dl(),el.memoizedState,e)},useTransition:function(){return[fl(hl)[0],dl().memoizedState]},useMutableSource:ml,useSyncExternalStore:gl,useId:Fl,unstable_isNewReconciler:!1},Wl={readContext:Ta,useCallback:Rl,useContext:Ta,useEffect:Cl,useImperativeHandle:Il,useInsertionEffect:Nl,useLayoutEffect:Al,useMemo:Dl,useReducer:pl,useRef:Sl,useState:function(){return pl(hl)},useDebugValue:jl,useDeferredValue:function(e){var t=dl();return null===el?t.memoizedState=e:Ml(t,el.memoizedState,e)},useTransition:function(){return[pl(hl)[0],dl().memoizedState]},useMutableSource:ml,useSyncExternalStore:gl,useId:Fl,unstable_isNewReconciler:!1};function Kl(e,t){if(e&&e.defaultProps){for(var n in t=Nt({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function Ql(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:Nt({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Yl={isMounted:function(e){return!!(e=e._reactInternals)&&Dn(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hc(),i=Wc(e),s=Oa(r,i);s.payload=t,null!=n&&(s.callback=n),null!==(t=Ia(e,s,i))&&(Kc(t,e,i,r),ja(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hc(),i=Wc(e),s=Oa(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=Ia(e,s,i))&&(Kc(t,e,i,r),ja(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hc(),r=Wc(e),i=Oa(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ia(e,i,r))&&(Kc(t,e,r,n),ja(t,e,r))}};function Xl(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!es(n,r)||!es(i,s))}function Jl(e,t,n){var r=!1,i=wo,s=t.contextType;return"object"==typeof s&&null!==s?s=Ta(s):(i=Po(t)?To:xo.current,s=(r=null!=(r=t.contextTypes))?So(e,i):wo),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Yl,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Zl(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yl.enqueueReplaceState(t,t.state,null)}function eu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Na(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=Ta(s):(s=Po(t)?To:xo.current,i.context=So(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(Ql(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Yl.enqueueReplaceState(i,i.state,null),Da(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function tu(e,t){try{var n="",r=t;do{n+=jt(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function nu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu="function"==typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mc||(Mc=!0,Lc=r),ru(0,t)},n}function ou(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!=typeof r&&(null===Fc?Fc=new Set([this]):Fc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function au(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new iu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=yd.bind(null,e,t,n),t.then(e,e))}function lu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function uu(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Ia(n,t,1))),n.lanes|=1),e)}var cu=ht.ReactCurrentOwner,du=!1;function hu(e,t,n,r){t.child=null===e?pa(t,null,n,r):fa(t,e.child,n,r)}function fu(e,t,n,r,i){n=n.render;var s=t.ref;return Ea(t,i),r=ll(e,t,n,r,s,i),n=ul(),null===e||du?(Xo&&n&&Wo(t),t.flags|=1,hu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Mu(e,t,i))}function pu(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||Sd(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_d(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,mu(e,t,s,r,i))}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:es)(o,r)&&e.ref===t.ref)return Mu(e,t,i)}return t.flags|=1,(e=Pd(s,r)).ref=t.ref,e.return=t,t.child=e}function mu(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(es(s,r)&&e.ref===t.ref){if(du=!1,t.pendingProps=r=s,!(e.lanes&i))return t.lanes=e.lanes,Mu(e,t,i);131072&e.flags&&(du=!0)}}return vu(e,t,n,r,i)}function gu(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bo(Pc,Sc),Sc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,bo(Pc,Sc),Sc|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bo(Pc,Sc),Sc|=n;else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,bo(Pc,Sc),Sc|=r;return hu(e,t,i,n),t.child}function yu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vu(e,t,n,r,i){var s=Po(n)?To:xo.current;return s=So(t,s),Ea(t,i),n=ll(e,t,n,r,s,i),r=ul(),null===e||du?(Xo&&r&&Wo(t),t.flags|=1,hu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Mu(e,t,i))}function bu(e,t,n,r,i){if(Po(n)){var s=!0;No(t)}else s=!1;if(Ea(t,i),null===t.stateNode)Du(e,t),Jl(t,n,r),eu(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=Ta(u):u=So(t,u=Po(n)?To:xo.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&Zl(t,o,r,u),Ca=!1;var h=t.memoizedState;o.state=h,Da(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Eo.current||Ca?("function"==typeof c&&(Ql(t,n,c,r),l=t.memoizedState),(a=Ca||Xl(t,n,a,r,h,l,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Aa(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Kl(t.type,a),o.props=u,d=t.pendingProps,h=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ta(l):l=So(t,l=Po(n)?To:xo.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==d||h!==l)&&Zl(t,o,r,l),Ca=!1,h=t.memoizedState,o.state=h,Da(t,r,o,i);var p=t.memoizedState;a!==d||h!==p||Eo.current||Ca?("function"==typeof f&&(Ql(t,n,f,r),p=t.memoizedState),(u=Ca||Xl(t,n,u,r,h,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return wu(e,t,n,r,s,i)}function wu(e,t,n,r,i,s){yu(e,t);var o=!!(128&t.flags);if(!r&&!o)return i&&Ao(t,n,!1),Mu(e,t,s);r=t.stateNode,cu.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=fa(t,e.child,null,s),t.child=fa(t,null,a,s)):hu(e,t,a,s),t.memoizedState=r.state,i&&Ao(t,n,!0),t.child}function xu(e){var t=e.stateNode;t.pendingContext?ko(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ko(0,t.context,!1),Ba(e,t.containerInfo)}function Eu(e,t,n,r,i){return oa(),aa(i),t.flags|=256,hu(e,t,n,r),t.child}var Tu,Su,Pu,_u,ku={dehydrated:null,treeContext:null,retryLane:0};function Cu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nu(e,t,n){var r,i=t.pendingProps,s=Ha.current,o=!1,a=!!(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&!!(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),bo(Ha,1&s),null===e)return na(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},1&i||null===o?o=Cd(a,i,0,null):(o.childLanes=0,o.pendingProps=a),e=kd(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Cu(n),t.memoizedState=ku,e):Au(t,a));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,Ou(e,t,o,r=nu(Error(Xe(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Cd({mode:"visible",children:r.children},i,0,null),(s=kd(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,1&t.mode&&fa(t,e.child,null,o),t.child.memoizedState=Cu(o),t.memoizedState=ku,s);if(!(1&t.mode))return Ou(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var a=r.dgst;return r=a,Ou(e,t,o,r=nu(s=Error(Xe(419)),r,void 0))}if(a=!!(o&e.childLanes),du||a){if(null!==(r=xc)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|o)?0:i)&&i!==s.retryLane&&(s.retryLane=i,ka(e,i),Kc(r,e,i,-1))}return ad(),Ou(e,t,o,r=nu(Error(Xe(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=bd.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Yo=to(i.nextSibling),Qo=t,Xo=!0,Jo=null,null!==e&&(Uo[zo++]=$o,Uo[zo++]=qo,Uo[zo++]=Bo,$o=e.id,qo=e.overflow,Bo=t),t=Au(t,r.children),t.flags|=4096,t)}(e,t,a,i,r,s,n);if(o){o=i.fallback,a=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 1&a||t.child===s?(i=Pd(s,l)).subtreeFlags=14680064&s.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null),null!==r?o=Pd(r,o):(o=kd(o,a,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,a=null===(a=e.child.memoizedState)?Cu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=ku,i}return e=(o=e.child).sibling,i=Pd(o,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Au(e,t){return(t=Cd({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ou(e,t,n,r){return null!==r&&aa(r),fa(t,e.child,null,n),(e=Au(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Iu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function ju(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ru(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(hu(e,t,r.children,n),2&(r=Ha.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Iu(e,n,t);else if(19===e.tag)Iu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bo(Ha,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Wa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ju(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Wa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ju(t,!0,n,null,s);break;case"together":ju(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Du(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Cc|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(Xe(153));if(null!==t.child){for(n=Pd(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pd(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Lu(e,t){if(!Xo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Fu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vu(e,t,n){var r=t.pendingProps;switch(Ko(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fu(t),null;case 1:case 17:return Po(t.type)&&_o(),Fu(t),null;case 3:return r=t.stateNode,$a(),vo(Eo),vo(xo),Qa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ia(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Jo&&(Jc(Jo),Jo=null))),Su(e,t),Fu(t),null;case 5:Ga(t);var i=za(Ua.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(Xe(166));return Fu(t),null}if(e=za(Fa.current),ia(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[io]=t,r[so]=s,e=!!(1&t.mode),n){case"dialog":Os("cancel",r),Os("close",r);break;case"iframe":case"object":case"embed":Os("load",r);break;case"video":case"audio":for(i=0;i<ks.length;i++)Os(ks[i],r);break;case"source":Os("error",r);break;case"img":case"image":case"link":Os("error",r),Os("load",r);break;case"details":Os("toggle",r);break;case"input":Bt(r,s),Os("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Os("invalid",r);break;case"textarea":Yt(r,s),Os("invalid",r)}for(var o in dn(n,s),i=null,s)if(s.hasOwnProperty(o)){var a=s[o];"children"===o?"string"==typeof a?r.textContent!==a&&(!0!==s.suppressHydrationWarning&&qs(r.textContent,a,e),i=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(!0!==s.suppressHydrationWarning&&qs(r.textContent,a,e),i=["children",""+a]):Ze.hasOwnProperty(o)&&null!=a&&"onScroll"===o&&Os("scroll",r)}switch(n){case"input":Ft(r),Gt(r,s,!0);break;case"textarea":Ft(r),Jt(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Gs)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=Zt(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[io]=t,e[so]=r,Tu(e,t,!1,!1),t.stateNode=e;e:{switch(o=hn(n,r),n){case"dialog":Os("cancel",e),Os("close",e),i=r;break;case"iframe":case"object":case"embed":Os("load",e),i=r;break;case"video":case"audio":for(i=0;i<ks.length;i++)Os(ks[i],e);i=r;break;case"source":Os("error",e),i=r;break;case"img":case"image":case"link":Os("error",e),Os("load",e),i=r;break;case"details":Os("toggle",e),i=r;break;case"input":Bt(e,r),i=zt(e,r),Os("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Nt({},r,{value:void 0}),Os("invalid",e);break;case"textarea":Yt(e,r),i=Qt(e,r),Os("invalid",e)}for(s in dn(n,i),a=i)if(a.hasOwnProperty(s)){var l=a[s];"style"===s?un(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&rn(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&sn(e,l):"number"==typeof l&&sn(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(Ze.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Os("scroll",e):null!=l&&dt(e,s,l,o))}switch(n){case"input":Ft(e),Gt(e,r,!1);break;case"textarea":Ft(e),Jt(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Mt(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?Kt(e,!!r.multiple,s,!1):null!=r.defaultValue&&Kt(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Gs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Fu(t),null;case 6:if(e&&null!=t.stateNode)_u(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(Xe(166));if(n=za(Ua.current),za(Fa.current),ia(t)){if(r=t.stateNode,n=t.memoizedProps,r[io]=t,(s=r.nodeValue!==n)&&null!==(e=Qo))switch(e.tag){case 3:qs(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&qs(r.nodeValue,n,!!(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[io]=t,t.stateNode=r}return Fu(t),null;case 13:if(vo(Ha),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Xo&&null!==Yo&&1&t.mode&&!(128&t.flags))sa(),oa(),t.flags|=98560,s=!1;else if(s=ia(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(Xe(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(Xe(317));s[io]=t}else oa(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Fu(t),s=!1}else null!==Jo&&(Jc(Jo),Jo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Ha.current?0===_c&&(_c=3):ad())),null!==t.updateQueue&&(t.flags|=4),Fu(t),null);case 4:return $a(),Su(e,t),null===e&&Rs(t.stateNode.containerInfo),Fu(t),null;case 10:return wa(t.type._context),Fu(t),null;case 19:if(vo(Ha),null===(s=t.memoizedState))return Fu(t),null;if(r=!!(128&t.flags),null===(o=s.rendering))if(r)Lu(s,!1);else{if(0!==_c||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=Wa(e))){for(t.flags|=128,Lu(s,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bo(Ha,1&Ha.current|2),t.child}e=e.sibling}null!==s.tail&&qn()>Rc&&(t.flags|=128,r=!0,Lu(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Wa(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Lu(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!Xo)return Fu(t),null}else 2*qn()-s.renderingStartTime>Rc&&1073741824!==n&&(t.flags|=128,r=!0,Lu(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=s.last)?n.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=qn(),t.sibling=null,n=Ha.current,bo(Ha,r?1&n|2:1&n),t):(Fu(t),null);case 22:case 23:return rd(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Sc)&&(Fu(t),6&t.subtreeFlags&&(t.flags|=8192)):Fu(t),null;case 24:case 25:return null}throw Error(Xe(156,t.tag))}function Uu(e,t){switch(Ko(t),t.tag){case 1:return Po(t.type)&&_o(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $a(),vo(Eo),vo(xo),Qa(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ga(t),null;case 13:if(vo(Ha),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(Xe(340));oa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return vo(Ha),null;case 4:return $a(),null;case 10:return wa(t.type._context),null;case 22:case 23:return rd(),null;default:return null}}Tu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Su=function(){},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,za(Fa.current);var s,o=null;switch(n){case"input":i=zt(e,i),r=zt(e,r),o=[];break;case"select":i=Nt({},i,{value:void 0}),r=Nt({},r,{value:void 0}),o=[];break;case"textarea":i=Qt(e,i),r=Qt(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Gs)}for(u in dn(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(Ze.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(Ze.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Os("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},_u=function(e,t,n,r){n!==r&&(t.flags|=4)};var zu=!1,Bu=!1,$u="function"==typeof WeakSet?WeakSet:Set,qu=null;function Gu(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){gd(e,t,r)}else n.current=null}function Hu(e,t,n){try{n()}catch(r){gd(e,t,r)}}var Wu=!1;function Ku(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&Hu(t,n,s)}i=i.next}while(i!==r)}}function Qu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function Xu(e){var t=e.alternate;null!==t&&(e.alternate=null,Xu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[io],delete t[so],delete t[ao],delete t[lo],delete t[uo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ju(e){return 5===e.tag||3===e.tag||4===e.tag}function Zu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ju(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ec(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Gs));else if(4!==r&&null!==(e=e.child))for(ec(e,t,n),e=e.sibling;null!==e;)ec(e,t,n),e=e.sibling}function tc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(tc(e,t,n),e=e.sibling;null!==e;)tc(e,t,n),e=e.sibling}var nc=null,rc=!1;function ic(e,t,n){for(n=n.child;null!==n;)sc(e,t,n),n=n.sibling}function sc(e,t,n){if(Jn&&"function"==typeof Jn.onCommitFiberUnmount)try{Jn.onCommitFiberUnmount(Xn,n)}catch(a){}switch(n.tag){case 5:Bu||Gu(n,t);case 6:var r=nc,i=rc;nc=null,ic(e,t,n),rc=i,null!==(nc=r)&&(rc?(e=nc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):nc.removeChild(n.stateNode));break;case 18:null!==nc&&(rc?(e=nc,n=n.stateNode,8===e.nodeType?eo(e.parentNode,n):1===e.nodeType&&eo(e,n),Dr(e)):eo(nc,n.stateNode));break;case 4:r=nc,i=rc,nc=n.stateNode.containerInfo,rc=!0,ic(e,t,n),nc=r,rc=i;break;case 0:case 11:case 14:case 15:if(!Bu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(2&s||4&s)&&Hu(n,t,o),i=i.next}while(i!==r)}ic(e,t,n);break;case 1:if(!Bu&&(Gu(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gd(n,t,a)}ic(e,t,n);break;case 21:ic(e,t,n);break;case 22:1&n.mode?(Bu=(r=Bu)||null!==n.memoizedState,ic(e,t,n),Bu=r):ic(e,t,n);break;default:ic(e,t,n)}}function oc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $u),t.forEach((function(t){var r=wd.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ac(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;null!==a;){switch(a.tag){case 5:nc=a.stateNode,rc=!1;break e;case 3:case 4:nc=a.stateNode.containerInfo,rc=!0;break e}a=a.return}if(null===nc)throw Error(Xe(160));sc(s,o,i),nc=null,rc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){gd(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)lc(t,e),t=t.sibling}function lc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ac(t,e),uc(e),4&r){try{Ku(3,e,e.return),Qu(3,e)}catch(m){gd(e,e.return,m)}try{Ku(5,e,e.return)}catch(m){gd(e,e.return,m)}}break;case 1:ac(t,e),uc(e),512&r&&null!==n&&Gu(n,n.return);break;case 5:if(ac(t,e),uc(e),512&r&&null!==n&&Gu(n,n.return),32&e.flags){var i=e.stateNode;try{sn(i,"")}catch(m){gd(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===s.type&&null!=s.name&&$t(i,s),hn(a,o);var u=hn(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];"style"===c?un(i,d):"dangerouslySetInnerHTML"===c?rn(i,d):"children"===c?sn(i,d):dt(i,c,d,u)}switch(a){case"input":qt(i,s);break;case"textarea":Xt(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?Kt(i,!!s.multiple,f,!1):h!==!!s.multiple&&(null!=s.defaultValue?Kt(i,!!s.multiple,s.defaultValue,!0):Kt(i,!!s.multiple,s.multiple?[]:"",!1))}i[so]=s}catch(m){gd(e,e.return,m)}}break;case 6:if(ac(t,e),uc(e),4&r){if(null===e.stateNode)throw Error(Xe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){gd(e,e.return,m)}}break;case 3:if(ac(t,e),uc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Dr(t.containerInfo)}catch(m){gd(e,e.return,m)}break;case 4:default:ac(t,e),uc(e);break;case 13:ac(t,e),uc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(jc=qn())),4&r&&oc(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Bu=(u=Bu)||c,ac(t,e),Bu=u):ac(t,e),uc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&1&e.mode)for(qu=e,c=e.child;null!==c;){for(d=qu=c;null!==qu;){switch(f=(h=qu).child,h.tag){case 0:case 11:case 14:case 15:Ku(4,h,h.return);break;case 1:Gu(h,h.return);var p=h.stateNode;if("function"==typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){gd(r,n,m)}}break;case 5:Gu(h,h.return);break;case 22:if(null!==h.memoizedState){fc(d);continue}}null!==f?(f.return=h,qu=f):fc(d)}c=c.sibling}e:for(c=null,d=e;;){if(5===d.tag){if(null===c){c=d;try{i=d.stateNode,u?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(a=d.stateNode,o=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=ln("display",o))}catch(m){gd(e,e.return,m)}}}else if(6===d.tag){if(null===c)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){gd(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ac(t,e),uc(e),4&r&&oc(e);case 21:}}function uc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Ju(n)){var r=n;break e}n=n.return}throw Error(Xe(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(sn(i,""),r.flags&=-33),tc(e,Zu(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ec(e,Zu(e),s);break;default:throw Error(Xe(161))}}catch(o){gd(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function cc(e,t,n){qu=e,dc(e)}function dc(e,t,n){for(var r=!!(1&e.mode);null!==qu;){var i=qu,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||zu;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Bu;a=zu;var u=Bu;if(zu=o,(Bu=l)&&!u)for(qu=i;null!==qu;)l=(o=qu).child,22===o.tag&&null!==o.memoizedState?pc(i):null!==l?(l.return=o,qu=l):pc(i);for(;null!==s;)qu=s,dc(s),s=s.sibling;qu=i,zu=a,Bu=u}hc(e)}else 8772&i.subtreeFlags&&null!==s?(s.return=i,qu=s):hc(e)}}function hc(e){for(;null!==qu;){var t=qu;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Bu||Qu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Bu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Kl(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ma(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ma(t,o,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var d=c.dehydrated;null!==d&&Dr(d)}}}break;default:throw Error(Xe(163))}Bu||512&t.flags&&Yu(t)}catch(h){gd(t,t.return,h)}}if(t===e){qu=null;break}if(null!==(n=t.sibling)){n.return=t.return,qu=n;break}qu=t.return}}function fc(e){for(;null!==qu;){var t=qu;if(t===e){qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qu=n;break}qu=t.return}}function pc(e){for(;null!==qu;){var t=qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qu(4,t)}catch(l){gd(t,n,l)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){gd(t,i,l)}}var s=t.return;try{Yu(t)}catch(l){gd(t,s,l)}break;case 5:var o=t.return;try{Yu(t)}catch(l){gd(t,o,l)}}}catch(l){gd(t,t.return,l)}if(t===e){qu=null;break}var a=t.sibling;if(null!==a){a.return=t.return,qu=a;break}qu=t.return}}var mc,gc=Math.ceil,yc=ht.ReactCurrentDispatcher,vc=ht.ReactCurrentOwner,bc=ht.ReactCurrentBatchConfig,wc=0,xc=null,Ec=null,Tc=0,Sc=0,Pc=yo(0),_c=0,kc=null,Cc=0,Nc=0,Ac=0,Oc=null,Ic=null,jc=0,Rc=1/0,Dc=null,Mc=!1,Lc=null,Fc=null,Vc=!1,Uc=null,zc=0,Bc=0,$c=null,qc=-1,Gc=0;function Hc(){return 6&wc?qn():-1!==qc?qc:qc=qn()}function Wc(e){return 1&e.mode?2&wc&&0!==Tc?Tc&-Tc:null!==la.transition?(0===Gc&&(Gc=lr()),Gc):0!==(e=hr)?e:e=void 0===(e=window.event)?16:$r(e.type):1}function Kc(e,t,n,r){if(50<Bc)throw Bc=0,$c=null,Error(Xe(185));cr(e,n,r),2&wc&&e===xc||(e===xc&&(!(2&wc)&&(Nc|=n),4===_c&&Zc(e,Tc)),Qc(e,r),1===n&&0===wc&&!(1&t.mode)&&(Rc=qn()+500,Io&&Do()))}function Qc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Zn(s),a=1<<o,l=i[o];-1===l?a&n&&!(a&r)||(i[o]=or(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=sr(e,e===xc?Tc:0);if(0===r)null!==n&&zn(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&zn(n),1===t)0===e.tag?function(e){Io=!0,Ro(e)}(ed.bind(null,e)):Ro(ed.bind(null,e)),Js((function(){!(6&wc)&&Do()})),n=null;else{switch(fr(r)){case 1:n=Hn;break;case 4:n=Wn;break;case 16:default:n=Kn;break;case 536870912:n=Yn}n=xd(n,Yc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Yc(e,t){if(qc=-1,Gc=0,6&wc)throw Error(Xe(327));var n=e.callbackNode;if(pd()&&e.callbackNode!==n)return null;var r=sr(e,e===xc?Tc:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=ld(e,r);else{t=r;var i=wc;wc|=2;var s=od();for(xc===e&&Tc===t||(Dc=null,Rc=qn()+500,id(e,t));;)try{cd();break}catch(a){sd(e,a)}ba(),yc.current=s,wc=i,null!==Ec?t=0:(xc=null,Tc=0,t=_c)}if(0!==t){if(2===t&&(0!==(i=ar(e))&&(r=i,t=Xc(e,i))),1===t)throw n=kc,id(e,0),Zc(e,r),Qc(e,qn()),n;if(6===t)Zc(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zi(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=ld(e,r),2===t&&(s=ar(e),0!==s&&(r=s,t=Xc(e,s))),1!==t)))throw n=kc,id(e,0),Zc(e,r),Qc(e,qn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Xe(345));case 2:case 5:fd(e,Ic,Dc);break;case 3:if(Zc(e,r),(130023424&r)===r&&10<(t=jc+500-qn())){if(0!==sr(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Hc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qs(fd.bind(null,e,Ic,Dc),t);break}fd(e,Ic,Dc);break;case 4:if(Zc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Zn(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=qn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gc(r/1960))-r)){e.timeoutHandle=Qs(fd.bind(null,e,Ic,Dc),r);break}fd(e,Ic,Dc);break;default:throw Error(Xe(329))}}}return Qc(e,qn()),e.callbackNode===n?Yc.bind(null,e):null}function Xc(e,t){var n=Oc;return e.current.memoizedState.isDehydrated&&(id(e,t).flags|=256),2!==(e=ld(e,t))&&(t=Ic,Ic=n,null!==t&&Jc(t)),e}function Jc(e){null===Ic?Ic=e:Ic.push.apply(Ic,e)}function Zc(e,t){for(t&=~Ac,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Zn(t),r=1<<n;e[n]=-1,t&=~r}}function ed(e){if(6&wc)throw Error(Xe(327));pd();var t=sr(e,0);if(!(1&t))return Qc(e,qn()),null;var n=ld(e,t);if(0!==e.tag&&2===n){var r=ar(e);0!==r&&(t=r,n=Xc(e,r))}if(1===n)throw n=kc,id(e,0),Zc(e,t),Qc(e,qn()),n;if(6===n)throw Error(Xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fd(e,Ic,Dc),Qc(e,qn()),null}function td(e,t){var n=wc;wc|=1;try{return e(t)}finally{0===(wc=n)&&(Rc=qn()+500,Io&&Do())}}function nd(e){null!==Uc&&0===Uc.tag&&!(6&wc)&&pd();var t=wc;wc|=1;var n=bc.transition,r=hr;try{if(bc.transition=null,hr=1,e)return e()}finally{hr=r,bc.transition=n,!(6&(wc=t))&&Do()}}function rd(){Sc=Pc.current,vo(Pc)}function id(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Ys(n)),null!==Ec)for(n=Ec.return;null!==n;){var r=n;switch(Ko(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&_o();break;case 3:$a(),vo(Eo),vo(xo),Qa();break;case 5:Ga(r);break;case 4:$a();break;case 13:case 19:vo(Ha);break;case 10:wa(r.type._context);break;case 22:case 23:rd()}n=n.return}if(xc=e,Ec=e=Pd(e.current,null),Tc=Sc=t,_c=0,kc=null,Ac=Nc=Cc=0,Ic=Oc=null,null!==Sa){for(t=0;t<Sa.length;t++)if(null!==(r=(n=Sa[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Sa=null}return e}function sd(e,t){for(;;){var n=Ec;try{if(ba(),Ya.current=ql,nl){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}nl=!1}if(Ja=0,tl=el=Za=null,rl=!1,il=0,vc.current=null,null===n||null===n.return){_c=1,kc=t,Ec=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Tc,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=a,d=c.tag;if(!(1&c.mode||0!==d&&11!==d&&15!==d)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=lu(o);if(null!==f){f.flags&=-257,uu(f,o,a,0,t),1&f.mode&&au(s,u,t),l=u;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(!(1&t)){au(s,u,t),ad();break e}l=Error(Xe(426))}else if(Xo&&1&a.mode){var g=lu(o);if(null!==g){!(65536&g.flags)&&(g.flags|=256),uu(g,o,a,0,t),aa(tu(l,a));break e}}s=l=tu(l,a),4!==_c&&(_c=2),null===Oc?Oc=[s]:Oc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Ra(s,su(0,l,t));break e;case 1:a=l;var y=s.type,v=s.stateNode;if(!(128&s.flags||"function"!=typeof y.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==Fc&&Fc.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Ra(s,ou(s,a,t));break e}}s=s.return}while(null!==s)}hd(n)}catch(b){t=b,Ec===n&&null!==n&&(Ec=n=n.return);continue}break}}function od(){var e=yc.current;return yc.current=ql,null===e?ql:e}function ad(){0!==_c&&3!==_c&&2!==_c||(_c=4),null===xc||!(268435455&Cc)&&!(268435455&Nc)||Zc(xc,Tc)}function ld(e,t){var n=wc;wc|=2;var r=od();for(xc===e&&Tc===t||(Dc=null,id(e,t));;)try{ud();break}catch(i){sd(e,i)}if(ba(),wc=n,yc.current=r,null!==Ec)throw Error(Xe(261));return xc=null,Tc=0,_c}function ud(){for(;null!==Ec;)dd(Ec)}function cd(){for(;null!==Ec&&!Bn();)dd(Ec)}function dd(e){var t=mc(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?hd(e):Ec=t,vc.current=null}function hd(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Uu(n,t)))return n.flags&=32767,void(Ec=n);if(null===e)return _c=6,void(Ec=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Vu(n,t,Sc)))return void(Ec=n);if(null!==(t=t.sibling))return void(Ec=t);Ec=t=e}while(null!==t);0===_c&&(_c=5)}function fd(e,t,n){var r=hr,i=bc.transition;try{bc.transition=null,hr=1,function(e,t,n,r){do{pd()}while(null!==Uc);if(6&wc)throw Error(Xe(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Xe(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Zn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,s),e===xc&&(Ec=xc=null,Tc=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Vc||(Vc=!0,xd(Kn,(function(){return pd(),null}))),s=!!(15990&n.flags),!!(15990&n.subtreeFlags)||s){s=bc.transition,bc.transition=null;var o=hr;hr=1;var a=wc;wc|=4,vc.current=null,function(e,t){if(Hs=Lr,ss(e=is())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(a=o+i),d!==s||0!==r&&3!==d.nodeType||(l=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ws={focusedElem:e,selectionRange:n},Lr=!1,qu=t;null!==qu;)if(e=(t=qu).child,1028&t.subtreeFlags&&null!==e)e.return=t,qu=e;else for(;null!==qu;){t=qu;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Kl(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(Xe(163))}}catch(w){gd(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,qu=e;break}qu=t.return}p=Wu,Wu=!1}(e,n),lc(n,e),os(Ws),Lr=!!Hs,Ws=Hs=null,e.current=n,cc(n),$n(),wc=a,hr=o,bc.transition=s}else e.current=n;if(Vc&&(Vc=!1,Uc=e,zc=i),s=e.pendingLanes,0===s&&(Fc=null),function(e){if(Jn&&"function"==typeof Jn.onCommitFiberRoot)try{Jn.onCommitFiberRoot(Xn,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),Qc(e,qn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Mc)throw Mc=!1,e=Lc,Lc=null,e;!!(1&zc)&&0!==e.tag&&pd(),s=e.pendingLanes,1&s?e===$c?Bc++:(Bc=0,$c=e):Bc=0,Do()}(e,t,n,r)}finally{bc.transition=i,hr=r}return null}function pd(){if(null!==Uc){var e=fr(zc),t=bc.transition,n=hr;try{if(bc.transition=null,hr=16>e?16:e,null===Uc)var r=!1;else{if(e=Uc,Uc=null,zc=0,6&wc)throw Error(Xe(331));var i=wc;for(wc|=4,qu=e.current;null!==qu;){var s=qu,o=s.child;if(16&qu.flags){var a=s.deletions;if(null!==a){for(var l=0;l<a.length;l++){var u=a[l];for(qu=u;null!==qu;){var c=qu;switch(c.tag){case 0:case 11:case 15:Ku(8,c,s)}var d=c.child;if(null!==d)d.return=c,qu=d;else for(;null!==qu;){var h=(c=qu).sibling,f=c.return;if(Xu(c),c===u){qu=null;break}if(null!==h){h.return=f,qu=h;break}qu=f}}}var p=s.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}qu=s}}if(2064&s.subtreeFlags&&null!==o)o.return=s,qu=o;else e:for(;null!==qu;){if(2048&(s=qu).flags)switch(s.tag){case 0:case 11:case 15:Ku(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,qu=y;break e}qu=s.return}}var v=e.current;for(qu=v;null!==qu;){var b=(o=qu).child;if(2064&o.subtreeFlags&&null!==b)b.return=o,qu=b;else e:for(o=v;null!==qu;){if(2048&(a=qu).flags)try{switch(a.tag){case 0:case 11:case 15:Qu(9,a)}}catch(x){gd(a,a.return,x)}if(a===o){qu=null;break e}var w=a.sibling;if(null!==w){w.return=a.return,qu=w;break e}qu=a.return}}if(wc=i,Do(),Jn&&"function"==typeof Jn.onPostCommitFiberRoot)try{Jn.onPostCommitFiberRoot(Xn,e)}catch(x){}r=!0}return r}finally{hr=n,bc.transition=t}}return!1}function md(e,t,n){e=Ia(e,t=su(0,t=tu(n,t),1),1),t=Hc(),null!==e&&(cr(e,1,t),Qc(e,t))}function gd(e,t,n){if(3===e.tag)md(e,e,n);else for(;null!==t;){if(3===t.tag){md(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fc||!Fc.has(r))){t=Ia(t,e=ou(t,e=tu(n,e),1),1),e=Hc(),null!==t&&(cr(t,1,e),Qc(t,e));break}}t=t.return}}function yd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Hc(),e.pingedLanes|=e.suspendedLanes&n,xc===e&&(Tc&n)===n&&(4===_c||3===_c&&(130023424&Tc)===Tc&&500>qn()-jc?id(e,0):Ac|=n),Qc(e,t)}function vd(e,t){0===t&&(1&e.mode?(t=rr,!(130023424&(rr<<=1))&&(rr=4194304)):t=1);var n=Hc();null!==(e=ka(e,t))&&(cr(e,t,n),Qc(e,n))}function bd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vd(e,n)}function wd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Xe(314))}null!==r&&r.delete(t),vd(e,n)}function xd(e,t){return Un(e,t)}function Ed(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Td(e,t,n,r){return new Ed(e,t,n,r)}function Sd(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pd(e,t){var n=e.alternate;return null===n?((n=Td(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _d(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)Sd(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case mt:return kd(n.children,i,s,t);case gt:o=8,i|=8;break;case yt:return(e=Td(12,n,t,2|i)).elementType=yt,e.lanes=s,e;case xt:return(e=Td(13,n,t,i)).elementType=xt,e.lanes=s,e;case Et:return(e=Td(19,n,t,i)).elementType=Et,e.lanes=s,e;case Pt:return Cd(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case vt:o=10;break e;case bt:o=9;break e;case wt:o=11;break e;case Tt:o=14;break e;case St:o=16,r=null;break e}throw Error(Xe(130,null==e?e:typeof e,""))}return(t=Td(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function kd(e,t,n,r){return(e=Td(7,e,r,t)).lanes=n,e}function Cd(e,t,n,r){return(e=Td(22,e,r,t)).elementType=Pt,e.lanes=n,e.stateNode={isHidden:!1},e}function Nd(e,t,n){return(e=Td(6,e,null,t)).lanes=n,e}function Ad(e,t,n){return(t=Td(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Od(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ur(0),this.expirationTimes=ur(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Id(e,t,n,r,i,s,o,a,l){return e=new Od(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Td(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(s),e}function jd(e){if(!e)return wo;e:{if(Dn(e=e._reactInternals)!==e||1!==e.tag)throw Error(Xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Po(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(Xe(171))}if(1===e.tag){var n=e.type;if(Po(n))return Co(e,n,t)}return t}function Rd(e,t,n,r,i,s,o,a,l){return(e=Id(n,r,!0,e,0,s,0,a,l)).context=jd(null),n=e.current,(s=Oa(r=Hc(),i=Wc(n))).callback=null!=t?t:null,Ia(n,s,i),e.current.lanes=i,cr(e,i,r),Qc(e,r),e}function Dd(e,t,n,r){var i=t.current,s=Hc(),o=Wc(i);return n=jd(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ia(i,t,o))&&(Kc(e,i,o,s),ja(e,i,o)),o}function Md(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ld(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Fd(e,t){Ld(e,t),(e=e.alternate)&&Ld(e,t)}mc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Eo.current)du=!0;else{if(!(e.lanes&n||128&t.flags))return du=!1,function(e,t,n){switch(t.tag){case 3:xu(t),oa();break;case 5:qa(t);break;case 1:Po(t.type)&&No(t);break;case 4:Ba(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;bo(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(bo(Ha,1&Ha.current),t.flags|=128,null):n&t.child.childLanes?Nu(e,t,n):(bo(Ha,1&Ha.current),null!==(e=Mu(e,t,n))?e.sibling:null);bo(Ha,1&Ha.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Ru(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),bo(Ha,Ha.current),r)break;return null;case 22:case 23:return t.lanes=0,gu(e,t,n)}return Mu(e,t,n)}(e,t,n);du=!!(131072&e.flags)}else du=!1,Xo&&1048576&t.flags&&Ho(t,Vo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Du(e,t),e=t.pendingProps;var i=So(t,xo.current);Ea(t,n),i=ll(null,t,r,e,i,n);var s=ul();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Po(r)?(s=!0,No(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Na(t),i.updater=Yl,t.stateNode=i,i._reactInternals=t,eu(t,r,e,n),t=wu(null,t,r,!0,s,n)):(t.tag=0,Xo&&s&&Wo(t),hu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Du(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Sd(e)?1:0;if(null!=e){if((e=e.$$typeof)===wt)return 11;if(e===Tt)return 14}return 2}(r),e=Kl(r,e),i){case 0:t=vu(null,t,r,e,n);break e;case 1:t=bu(null,t,r,e,n);break e;case 11:t=fu(null,t,r,e,n);break e;case 14:t=pu(null,t,r,Kl(r.type,e),n);break e}throw Error(Xe(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,vu(e,t,r,i=t.elementType===r?i:Kl(r,i),n);case 1:return r=t.type,i=t.pendingProps,bu(e,t,r,i=t.elementType===r?i:Kl(r,i),n);case 3:e:{if(xu(t),null===e)throw Error(Xe(387));r=t.pendingProps,i=(s=t.memoizedState).element,Aa(e,t),Da(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Eu(e,t,r,n,i=tu(Error(Xe(423)),t));break e}if(r!==i){t=Eu(e,t,r,n,i=tu(Error(Xe(424)),t));break e}for(Yo=to(t.stateNode.containerInfo.firstChild),Qo=t,Xo=!0,Jo=null,n=pa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(oa(),r===i){t=Mu(e,t,n);break e}hu(e,t,r,n)}t=t.child}return t;case 5:return qa(t),null===e&&na(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,Ks(r,i)?o=null:null!==s&&Ks(r,s)&&(t.flags|=32),yu(e,t),hu(e,t,o,n),t.child;case 6:return null===e&&na(t),null;case 13:return Nu(e,t,n);case 4:return Ba(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fa(t,null,r,n):hu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,fu(e,t,r,i=t.elementType===r?i:Kl(r,i),n);case 7:return hu(e,t,t.pendingProps,n),t.child;case 8:case 12:return hu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,bo(ma,r._currentValue),r._currentValue=o,null!==s)if(Zi(s.value,o)){if(s.children===i.children&&!Eo.current){t=Mu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var a=s.dependencies;if(null!==a){o=s.child;for(var l=a.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Oa(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),xa(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(Xe(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),xa(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}hu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ta(i)),t.flags|=1,hu(e,t,r,n),t.child;case 14:return i=Kl(r=t.type,t.pendingProps),pu(e,t,r,i=Kl(r.type,i),n);case 15:return mu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kl(r,i),Du(e,t),t.tag=1,Po(r)?(e=!0,No(t)):e=!1,Ea(t,n),Jl(t,r,i),eu(t,r,i,n),wu(null,t,r,!0,e,n);case 19:return Ru(e,t,n);case 22:return gu(e,t,n)}throw Error(Xe(156,t.tag))};var Vd="function"==typeof reportError?reportError:function(e){console.error(e)};function Ud(e){this._internalRoot=e}function zd(e){this._internalRoot=e}function Bd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $d(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function qd(){}function Gd(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"==typeof i){var a=i;i=function(){var e=Md(o);a.call(e)}}Dd(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=Md(o);s.call(e)}}var o=Rd(t,r,e,0,null,!1,0,"",qd);return e._reactRootContainer=o,e[oo]=o.current,Rs(8===e.nodeType?e.parentNode:e),nd(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=Md(l);a.call(e)}}var l=Id(e,0,!1,null,0,!1,0,"",qd);return e._reactRootContainer=l,e[oo]=l.current,Rs(8===e.nodeType?e.parentNode:e),nd((function(){Dd(t,l,n,r)})),l}(n,t,e,i,r);return Md(o)}zd.prototype.render=Ud.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(Xe(409));Dd(e,t,null,null)},zd.prototype.unmount=Ud.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;nd((function(){Dd(null,e,null,null)})),t[oo]=null}},zd.prototype.unstable_scheduleHydration=function(e){if(e){var t=yr();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_r.length&&0!==t&&t<_r[n].priority;n++);_r.splice(n,0,e),0===n&&Ar(e)}},pr=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ir(t.pendingLanes);0!==n&&(dr(t,1|n),Qc(t,qn()),!(6&wc)&&(Rc=qn()+500,Do()))}break;case 13:nd((function(){var t=ka(e,1);if(null!==t){var n=Hc();Kc(t,e,1,n)}})),Fd(e,1)}},mr=function(e){if(13===e.tag){var t=ka(e,134217728);if(null!==t)Kc(t,e,134217728,Hc());Fd(e,134217728)}},gr=function(e){if(13===e.tag){var t=Wc(e),n=ka(e,t);if(null!==n)Kc(n,e,t,Hc());Fd(e,t)}},yr=function(){return hr},vr=function(e,t){var n=hr;try{return hr=e,t()}finally{hr=n}},mn=function(e,t,n){switch(t){case"input":if(qt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=po(r);if(!i)throw Error(Xe(90));Vt(r),qt(r,i)}}}break;case"textarea":Xt(e,n);break;case"select":null!=(t=n.value)&&Kt(e,!!n.multiple,t,!1)}},xn=td,En=nd;var Hd={usingClientEntryPoint:!1,Events:[ho,fo,po,bn,wn,td]},Wd={findFiberByHostInstance:co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kd={bundleType:Wd.bundleType,version:Wd.version,rendererPackageName:Wd.rendererPackageName,rendererConfig:Wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Fn(e))?null:e.stateNode},findFiberByHostInstance:Wd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{Xn=Qd.inject(Kd),Jn=Qd}catch(nn){}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hd,Ge.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bd(t))throw Error(Xe(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:pt,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},Ge.createRoot=function(e,t){if(!Bd(e))throw Error(Xe(299));var n=!1,r="",i=Vd;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Id(e,1,!1,null,0,n,0,r,i),e[oo]=t.current,Rs(8===e.nodeType?e.parentNode:e),new Ud(t)},Ge.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(Xe(188));throw e=Object.keys(e).join(","),Error(Xe(268,e))}return e=null===(e=Fn(t))?null:e.stateNode},Ge.flushSync=function(e){return nd(e)},Ge.hydrate=function(e,t,n){if(!$d(t))throw Error(Xe(200));return Gd(null,e,t,!0,n)},Ge.hydrateRoot=function(e,t,n){if(!Bd(e))throw Error(Xe(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Vd;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Rd(t,null,e,1,null!=n?n:null,i,0,s,o),e[oo]=t.current,Rs(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new zd(t)},Ge.render=function(e,t,n){if(!$d(t))throw Error(Xe(200));return Gd(null,e,t,!1,n)},Ge.unmountComponentAtNode=function(e){if(!$d(e))throw Error(Xe(40));return!!e._reactRootContainer&&(nd((function(){Gd(null,null,e,!1,(function(){e._reactRootContainer=null,e[oo]=null}))})),!0)},Ge.unstable_batchedUpdates=td,Ge.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$d(n))throw Error(Xe(200));if(null==e||void 0===e._reactInternals)throw Error(Xe(38));return Gd(e,t,n,!1,r)},Ge.version="18.3.1-next-f1338f8080-20240426",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),qe.exports=Ge;var Yd=qe.exports;const Xd=W(Yd);var Jd,Zd=Yd;Jd=Zd.createRoot,Zd.hydrateRoot;var eh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},th="undefined"==typeof window||"Deno"in globalThis;function nh(){}function rh(e,t){return"function"==typeof e?e(t):e}function ih(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o)if(r){if(t.queryHash!==oh(o,t.options))return!1}else if(!lh(t.queryKey,o))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&((!i||i===t.state.fetchStatus)&&!(s&&!s(t)))}function sh(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(ah(t.options.mutationKey)!==ah(s))return!1}else if(!lh(t.options.mutationKey,s))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function oh(e,t){return((null==t?void 0:t.queryKeyHashFn)||ah)(e)}function ah(e){return JSON.stringify(e,((e,t)=>dh(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function lh(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((n=>!lh(e[n],t[n]))))}function uh(e,t){if(e===t)return e;const n=ch(e)&&ch(t);if(n||dh(e)&&dh(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const i=n?u:s[u];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(a[i]=void 0,l++):(a[i]=uh(e[i],t[i]),a[i]===e[i]&&void 0!==e[i]&&l++)}return i===o&&l===i?e:a}return t}function ch(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dh(e){if(!hh(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!hh(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function hh(e){return"[object Object]"===Object.prototype.toString.call(e)}function fh(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?uh(e,t):t}function ph(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function mh(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var gh=Symbol();function yh(e,t){return!e.queryFn&&(null==t?void 0:t.initialPromise)?()=>t.initialPromise:e.queryFn&&e.queryFn!==gh?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var vh=new(r=class extends eh{constructor(){super(),z(this,e,void 0),z(this,t,void 0),z(this,n,void 0),B(this,n,(e=>{if(!th&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}))}onSubscribe(){U(this,t)||this.setEventListener(U(this,n))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=U(this,t))||e.call(this),B(this,t,void 0))}setEventListener(e){var r;B(this,n,e),null==(r=U(this,t))||r.call(this),B(this,t,e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})))}setFocused(t){U(this,e)!==t&&(B(this,e,t),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){var t;return"boolean"==typeof U(this,e)?U(this,e):"hidden"!==(null==(t=globalThis.document)?void 0:t.visibilityState)}},e=new WeakMap,t=new WeakMap,n=new WeakMap,r),bh=new(a=class extends eh{constructor(){super(),z(this,i,!0),z(this,s,void 0),z(this,o,void 0),B(this,o,(e=>{if(!th&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}))}onSubscribe(){U(this,s)||this.setEventListener(U(this,o))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=U(this,s))||e.call(this),B(this,s,void 0))}setEventListener(e){var t;B(this,o,e),null==(t=U(this,s))||t.call(this),B(this,s,e(this.setOnline.bind(this)))}setOnline(e){U(this,i)!==e&&(B(this,i,e),this.listeners.forEach((t=>{t(e)})))}isOnline(){return U(this,i)}},i=new WeakMap,s=new WeakMap,o=new WeakMap,a);function wh(e){return Math.min(1e3*2**e,3e4)}function xh(e){return"online"!==(e??"online")||bh.isOnline()}var Eh=class extends Error{constructor(e){super("CancelledError"),this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function Th(e){return e instanceof Eh}function Sh(e){let t,n=!1,r=0,i=!1;const s=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),o=()=>vh.isFocused()&&("always"===e.networkMode||bh.isOnline())&&e.canRun(),a=()=>xh(e.networkMode)&&e.canRun(),l=n=>{var r;i||(i=!0,null==(r=e.onSuccess)||r.call(e,n),null==t||t(),s.resolve(n))},u=n=>{var r;i||(i=!0,null==(r=e.onError)||r.call(e,n),null==t||t(),s.reject(n))},c=()=>new Promise((n=>{var r;t=e=>{(i||o())&&n(e)},null==(r=e.onPause)||r.call(e)})).then((()=>{var n;t=void 0,i||null==(n=e.onContinue)||n.call(e)})),d=()=>{if(i)return;let t;const s=0===r?e.initialPromise:void 0;try{t=s??e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(l).catch((t=>{var s;if(i)return;const a=e.retry??(th?0:3),l=e.retryDelay??wh,h="function"==typeof l?l(r,t):l,f=!0===a||"number"==typeof a&&r<a||"function"==typeof a&&a(r,t);var p;!n&&f?(r++,null==(s=e.onFail)||s.call(e,r,t),(p=h,new Promise((e=>{setTimeout(e,p)}))).then((()=>o()?void 0:c())).then((()=>{n?u(t):d()}))):u(t)}))};return{promise:s,cancel:t=>{var n;i||(u(new Eh(t)),null==(n=e.abort)||n.call(e))},continue:()=>(null==t||t(),s),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?d():c().then(d),s)}}var Ph=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=e=>setTimeout(e,0);const s=r=>{t?e.push(r):i((()=>{n(r)}))};return{batch:s=>{let o;t++;try{o=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return o},batchCalls:e=>(...t)=>{s((()=>{e(...t)}))},schedule:s,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),_h=(u=class{constructor(){z(this,l,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&B(this,l,setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(th?1/0:3e5))}clearGcTimeout(){U(this,l)&&(clearTimeout(U(this,l)),B(this,l,void 0))}},l=new WeakMap,u),kh=(v=class extends _h{constructor(e){super(),z(this,g),z(this,c,void 0),z(this,d,void 0),z(this,h,void 0),z(this,f,void 0),z(this,p,void 0),z(this,m,void 0),B(this,m,!1),B(this,p,e.defaultOptions),this.setOptions(e.options),this.observers=[],B(this,h,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,B(this,c,function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=e.state??U(this,c),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return null==(e=U(this,f))?void 0:e.promise}setOptions(e){this.options={...U(this,p),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||U(this,h).remove(this)}setData(e,t){const n=fh(this.state.data,e,this.options);return q(this,g,y).call(this,{data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){q(this,g,y).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,n;const r=null==(t=U(this,f))?void 0:t.promise;return null==(n=U(this,f))||n.cancel(e),r?r.then(nh).catch(nh):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,c))}isActive(){return this.observers.some((e=>{return!1!==(t=e.options.enabled,n=this,"function"==typeof t?t(n):t);var t,n}))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(e=0){return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));null==t||t.refetch({cancelRefetch:!1}),null==(e=U(this,f))||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));null==t||t.refetch({cancelRefetch:!1}),null==(e=U(this,f))||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),U(this,h).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(U(this,f)&&(U(this,m)?U(this,f).cancel({revert:!0}):U(this,f).cancelRetry()),this.scheduleGc()),U(this,h).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||q(this,g,y).call(this,{type:"invalidate"})}fetch(e,t){var n,r,i;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==t?void 0:t.cancelRefetch))this.cancel({silent:!0});else if(U(this,f))return U(this,f).continueRetry(),U(this,f).promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const s=new AbortController,o=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(B(this,m,!0),s.signal)})},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const e=yh(this.options,t),n={queryKey:this.queryKey,meta:this.meta};return o(n),B(this,m,!1),this.options.persister?this.options.persister(e,n,this):e(n)}};o(a),null==(n=this.options.behavior)||n.onFetch(a,this),B(this,d,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(r=a.fetchOptions)?void 0:r.meta)||q(this,g,y).call(this,{type:"fetch",meta:null==(i=a.fetchOptions)?void 0:i.meta});const l=e=>{var t,n,r,i;Th(e)&&e.silent||q(this,g,y).call(this,{type:"error",error:e}),Th(e)||(null==(n=(t=U(this,h).config).onError)||n.call(t,e,this),null==(i=(r=U(this,h).config).onSettled)||i.call(r,this.state.data,e,this)),this.scheduleGc()};return B(this,f,Sh({initialPromise:null==t?void 0:t.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:e=>{var t,n,r,i;if(void 0!==e){try{this.setData(e)}catch(s){return void l(s)}null==(n=(t=U(this,h).config).onSuccess)||n.call(t,e,this),null==(i=(r=U(this,h).config).onSettled)||i.call(r,e,this.state.error,this),this.scheduleGc()}else l(new Error(`${this.queryHash} data is undefined`))},onError:l,onFail:(e,t)=>{q(this,g,y).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{q(this,g,y).call(this,{type:"pause"})},onContinue:()=>{q(this,g,y).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,f).start()}},c=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,g=new WeakSet,y=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(n=t.data,r=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xh(r.networkMode)?"fetching":"paused",...void 0===n&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Th(i)&&i.revert&&U(this,d)?{...U(this,d),fetchStatus:"idle"}:{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var n,r})(this.state),Ph.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),U(this,h).notify({query:this,type:"updated",action:e})}))},v);var Ch=(w=class extends eh{constructor(e={}){super(),z(this,b,void 0),this.config=e,B(this,b,new Map)}build(e,t,n){const r=t.queryKey,i=t.queryHash??oh(r,t);let s=this.get(i);return s||(s=new kh({cache:this,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){U(this,b).has(e.queryHash)||(U(this,b).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=U(this,b).get(e.queryHash);t&&(e.destroy(),t===e&&U(this,b).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ph.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return U(this,b).get(e)}getAll(){return[...U(this,b).values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>ih(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>ih(e,t))):t}notify(e){Ph.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){Ph.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){Ph.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},b=new WeakMap,w),Nh=(_=class extends _h{constructor(e){super(),z(this,S),z(this,x,void 0),z(this,E,void 0),z(this,T,void 0),this.mutationId=e.mutationId,B(this,E,e.mutationCache),B(this,x,[]),this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){U(this,x).includes(e)||(U(this,x).push(e),this.clearGcTimeout(),U(this,E).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){B(this,x,U(this,x).filter((t=>t!==e))),this.scheduleGc(),U(this,E).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){U(this,x).length||("pending"===this.state.status?this.scheduleGc():U(this,E).remove(this))}continue(){var e;return(null==(e=U(this,T))?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,n,r,i,s,o,a,l,u,c,d,h,f,p,m,g,y,v,b,w;B(this,T,Sh({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{q(this,S,P).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{q(this,S,P).call(this,{type:"pause"})},onContinue:()=>{q(this,S,P).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,E).canRun(this)}));const x="pending"===this.state.status,_=!U(this,T).canStart();try{if(!x){q(this,S,P).call(this,{type:"pending",variables:e,isPaused:_}),await(null==(n=(t=U(this,E).config).onMutate)?void 0:n.call(t,e,this));const s=await(null==(i=(r=this.options).onMutate)?void 0:i.call(r,e));s!==this.state.context&&q(this,S,P).call(this,{type:"pending",context:s,variables:e,isPaused:_})}const f=await U(this,T).start();return await(null==(o=(s=U(this,E).config).onSuccess)?void 0:o.call(s,f,e,this.state.context,this)),await(null==(l=(a=this.options).onSuccess)?void 0:l.call(a,f,e,this.state.context)),await(null==(c=(u=U(this,E).config).onSettled)?void 0:c.call(u,f,null,this.state.variables,this.state.context,this)),await(null==(h=(d=this.options).onSettled)?void 0:h.call(d,f,null,e,this.state.context)),q(this,S,P).call(this,{type:"success",data:f}),f}catch(k){try{throw await(null==(p=(f=U(this,E).config).onError)?void 0:p.call(f,k,e,this.state.context,this)),await(null==(g=(m=this.options).onError)?void 0:g.call(m,k,e,this.state.context)),await(null==(v=(y=U(this,E).config).onSettled)?void 0:v.call(y,void 0,k,this.state.variables,this.state.context,this)),await(null==(w=(b=this.options).onSettled)?void 0:w.call(b,void 0,k,e,this.state.context)),k}finally{q(this,S,P).call(this,{type:"error",error:k})}}finally{U(this,E).runNext(this)}}},x=new WeakMap,E=new WeakMap,T=new WeakMap,S=new WeakSet,P=function(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Ph.batch((()=>{U(this,x).forEach((t=>{t.onMutationUpdate(e)})),U(this,E).notify({mutation:this,type:"updated",action:e})}))},_);var Ah=(N=class extends eh{constructor(e={}){super(),z(this,k,void 0),z(this,C,void 0),this.config=e,B(this,k,new Map),B(this,C,Date.now())}build(e,t,n){const r=new Nh({mutationCache:this,mutationId:++$(this,C)._,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=Oh(e),n=U(this,k).get(t)??[];n.push(e),U(this,k).set(t,n),this.notify({type:"added",mutation:e})}remove(e){var t;const n=Oh(e);if(U(this,k).has(n)){const r=null==(t=U(this,k).get(n))?void 0:t.filter((t=>t!==e));r&&(0===r.length?U(this,k).delete(n):U(this,k).set(n,r))}this.notify({type:"removed",mutation:e})}canRun(e){var t;const n=null==(t=U(this,k).get(Oh(e)))?void 0:t.find((e=>"pending"===e.state.status));return!n||n===e}runNext(e){var t;const n=null==(t=U(this,k).get(Oh(e)))?void 0:t.find((t=>t!==e&&t.state.isPaused));return(null==n?void 0:n.continue())??Promise.resolve()}clear(){Ph.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}getAll(){return[...U(this,k).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find((e=>sh(t,e)))}findAll(e={}){return this.getAll().filter((t=>sh(e,t)))}notify(e){Ph.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return Ph.batch((()=>Promise.all(e.map((e=>e.continue().catch(nh))))))}},k=new WeakMap,C=new WeakMap,N);function Oh(e){var t;return(null==(t=e.options.scope)?void 0:t.id)??String(e.mutationId)}function Ih(e){return{onFetch:(t,n)=>{var r,i,s,o,a;const l=t.options,u=null==(s=null==(i=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:i.fetchMore)?void 0:s.direction,c=(null==(o=t.state.data)?void 0:o.pages)||[],d=(null==(a=t.state.data)?void 0:a.pageParams)||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let n=!1;const r=yh(t.options,t.fetchOptions),i=async(e,i,s)=>{if(n)return Promise.reject();if(null==i&&e.pages.length)return Promise.resolve(e);const o={queryKey:t.queryKey,pageParam:i,direction:s?"backward":"forward",meta:t.options.meta};var a;a=o,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const l=await r(o),{maxPages:u}=t.options,c=s?mh:ph;return{pages:c(e.pages,l,u),pageParams:c(e.pageParams,i,u)}};if(u&&c.length){const e="backward"===u,t={pages:c,pageParams:d},n=(e?Rh:jh)(l,t);h=await i(t,n,e)}else{const t=e??c.length;do{const e=0===f?d[0]??l.initialPageParam:jh(l,h);if(f>0&&null==e)break;h=await i(h,e),f++}while(f<t)}return h};t.options.persister?t.fetchFn=()=>{var e,r;return null==(r=(e=t.options).persister)?void 0:r.call(e,p,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function jh(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Rh(e,{pages:t,pageParams:n}){var r;return t.length>0?null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n):void 0}var Dh=(F=class{constructor(e={}){z(this,A,void 0),z(this,O,void 0),z(this,I,void 0),z(this,j,void 0),z(this,R,void 0),z(this,D,void 0),z(this,M,void 0),z(this,L,void 0),B(this,A,e.queryCache||new Ch),B(this,O,e.mutationCache||new Ah),B(this,I,e.defaultOptions||{}),B(this,j,new Map),B(this,R,new Map),B(this,D,0)}mount(){$(this,D)._++,1===U(this,D)&&(B(this,M,vh.subscribe((async e=>{e&&(await this.resumePausedMutations(),U(this,A).onFocus())}))),B(this,L,bh.subscribe((async e=>{e&&(await this.resumePausedMutations(),U(this,A).onOnline())}))))}unmount(){var e,t;$(this,D)._--,0===U(this,D)&&(null==(e=U(this,M))||e.call(this),B(this,M,void 0),null==(t=U(this,L))||t.call(this),B(this,L,void 0))}isFetching(e){return U(this,A).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,O).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=U(this,A).get(n.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=U(this,A).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(rh(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return U(this,A).findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=U(this,A).get(r.queryHash),s=function(e,t){return"function"==typeof e?e(t):e}(t,null==i?void 0:i.state.data);if(void 0!==s)return U(this,A).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return Ph.batch((()=>U(this,A).findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e){var t;const n=this.defaultQueryOptions({queryKey:e});return null==(t=U(this,A).get(n.queryHash))?void 0:t.state}removeQueries(e){const t=U(this,A);Ph.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=U(this,A),r={type:"active",...e};return Ph.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries(r,t))))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Ph.batch((()=>U(this,A).findAll(e).map((e=>e.cancel(n)))));return Promise.all(r).then(nh).catch(nh)}invalidateQueries(e={},t={}){return Ph.batch((()=>{if(U(this,A).findAll(e).forEach((e=>{e.invalidate()})),"none"===e.refetchType)return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)}))}refetchQueries(e={},t){const n={...t,cancelRefetch:(null==t?void 0:t.cancelRefetch)??!0},r=Ph.batch((()=>U(this,A).findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(nh)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(nh)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=U(this,A).build(this,t);return n.isStaleByTime(rh(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nh).catch(nh)}fetchInfiniteQuery(e){return e.behavior=Ih(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nh).catch(nh)}ensureInfiniteQueryData(e){return e.behavior=Ih(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bh.isOnline()?U(this,O).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,A)}getMutationCache(){return U(this,O)}getDefaultOptions(){return U(this,I)}setDefaultOptions(e){B(this,I,e)}setQueryDefaults(e,t){U(this,j).set(ah(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,j).values()];let n={};return t.forEach((t=>{lh(e,t.queryKey)&&(n={...n,...t.defaultOptions})})),n}setMutationDefaults(e,t){U(this,R).set(ah(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,R).values()];let n={};return t.forEach((t=>{lh(e,t.mutationKey)&&(n={...n,...t.defaultOptions})})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,I).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=oh(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===gh&&(t.enabled=!1),t}defaultMutationOptions(e){return(null==e?void 0:e._defaulted)?e:{...U(this,I).mutations,...(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,A).clear(),U(this,O).clear()}},A=new WeakMap,O=new WeakMap,I=new WeakMap,j=new WeakMap,R=new WeakMap,D=new WeakMap,M=new WeakMap,L=new WeakMap,F),Mh=je.createContext(void 0),Lh=({client:e,children:t})=>(je.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),$e.jsx(Mh.Provider,{value:e,children:t}));const Fh=["light","dark"],Vh="(prefers-color-scheme: dark)",Uh="undefined"==typeof window,zh=je.createContext(void 0),Bh={setTheme:e=>{},themes:[]},$h=e=>je.useContext(zh)?Re.createElement(je.Fragment,null,e.children):Re.createElement(Gh,e),qh=["light","dark"],Gh=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:s=qh,defaultTheme:o=(n?"system":"light"),attribute:a="data-theme",value:l,children:u,nonce:c})=>{const[d,h]=je.useState((()=>Wh(i,o))),[f,p]=je.useState((()=>Wh(i))),m=l?Object.values(l):s,g=je.useCallback((e=>{let i=e;if(!i)return;"system"===e&&n&&(i=Qh());const s=l?l[i]:i,u=t?Kh():null,c=document.documentElement;if("class"===a?(c.classList.remove(...m),s&&c.classList.add(s)):s?c.setAttribute(a,s):c.removeAttribute(a),r){const e=Fh.includes(o)?o:null,t=Fh.includes(i)?i:e;c.style.colorScheme=t}null==u||u()}),[]),y=je.useCallback((e=>{h(e);try{localStorage.setItem(i,e)}catch(t){}}),[e]),v=je.useCallback((t=>{const r=Qh(t);p(r),"system"===d&&n&&!e&&g("system")}),[d,e]);je.useEffect((()=>{const e=window.matchMedia(Vh);return e.addListener(v),v(e),()=>e.removeListener(v)}),[v]),je.useEffect((()=>{const e=e=>{e.key===i&&y(e.newValue||o)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[y]),je.useEffect((()=>{g(null!=e?e:d)}),[e,d]);const b=je.useMemo((()=>({theme:d,setTheme:y,forcedTheme:e,resolvedTheme:"system"===d?f:d,themes:n?[...s,"system"]:s,systemTheme:n?f:void 0})),[d,y,e,f,n,s]);return Re.createElement(zh.Provider,{value:b},Re.createElement(Hh,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:i,themes:s,defaultTheme:o,attribute:a,value:l,children:u,attrs:m,nonce:c}),u)},Hh=je.memo((({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{const u="system"===s,c="class"===n?`var d=document.documentElement,c=d.classList;c.remove(${a.map((e=>`'${e}'`)).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=i?Fh.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(e,t=!1,r=!0)=>{const s=o?o[e]:e,a=t?e+"|| ''":`'${s}'`;let l="";return i&&r&&!t&&Fh.includes(e)&&(l+=`d.style.colorScheme = '${e}';`),"class"===n?l+=t||s?`c.add(${a})`:"null":s&&(l+=`d[s](n,${a})`),l},f=e?`!function(){${c}${h(e)}}()`:r?`!function(){try{${c}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Vh}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${c}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return Re.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})}),(()=>!0)),Wh=(e,t)=>{if(Uh)return;let n;try{n=localStorage.getItem(e)||void 0}catch(r){}return n||t},Kh=()=>{const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout((()=>{document.head.removeChild(e)}),1)}},Qh=e=>(e||(e=window.matchMedia(Vh)),e.matches?"dark":"light")
/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */;function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yh.apply(this,arguments)}var Xh,Jh;(Jh=Xh||(Xh={})).Pop="POP",Jh.Push="PUSH",Jh.Replace="REPLACE";const Zh="popstate";function ef(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Xh.Pop,l=null,u=c();null==u&&(u=0,o.replaceState(Yh({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Xh.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:m.location,delta:t})}function h(e,t){a=Xh.Push;let r=sf(m.location,e,t);n&&n(r,e),u=c()+1;let d=rf(r,u),h=m.createHref(r);try{o.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}s&&l&&l({action:a,location:m.location,delta:1})}function f(e,t){a=Xh.Replace;let r=sf(m.location,e,t);n&&n(r,e),u=c();let i=rf(r,u),d=m.createHref(r);o.replaceState(i,"",d),s&&l&&l({action:a,location:m.location,delta:0})}function p(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:of(e);return n=n.replace(/ $/,"%20"),tf(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}let m={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Zh,d),l=e,()=>{i.removeEventListener(Zh,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>o.go(e)};return m}((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return sf("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:of(t)}),null,e)}function tf(e,t){if(!1===e||null==e)throw new Error(t)}function nf(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function rf(e,t){return{usr:e.state,key:e.key,idx:t}}function sf(e,t,n,r){return void 0===n&&(n=null),Yh({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?af(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function of(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function af(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var lf,uf;function cf(e,t,n){return void 0===n&&(n="/"),function(e,t,n,r){let i="string"==typeof t?af(t):t,s=Sf(i.pathname||"/",n);if(null==s)return null;let o=df(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let l=0;null==a&&l<o.length;++l){let e=Tf(s);a=xf(o[l],e,r)}return a}(e,t,n,!1)}function df(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(tf(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=Cf([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(tf(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),df(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:wf(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of hf(e.path))i(e,t,r);else i(e,t)})),t}function hf(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=hf(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}(uf=lf||(lf={})).data="data",uf.deferred="deferred",uf.redirect="redirect",uf.error="error";const ff=/^:[\w-]+$/,pf=3,mf=2,gf=1,yf=10,vf=-2,bf=e=>"*"===e;function wf(e,t){let n=e.split("/"),r=n.length;return n.some(bf)&&(r+=vf),t&&(r+=mf),n.filter((e=>!bf(e))).reduce(((e,t)=>e+(ff.test(t)?pf:""===t?gf:yf)),r)}function xf(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=Ef({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=Ef({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:Cf([s,c.pathname]),pathnameBase:Nf(Cf([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=Cf([s,c.pathnameBase]))}return o}function Ef(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);nf("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function Tf(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return nf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Sf(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Pf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function _f(e,t){let n=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function kf(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=af(e):(i=Yh({},e),tf(!i.pathname||!i.pathname.includes("?"),Pf("?","pathname","search",i)),tf(!i.pathname||!i.pathname.includes("#"),Pf("#","pathname","hash",i)),tf(!i.search||!i.search.includes("#"),Pf("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?af(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Af(r),hash:Of(i)}}(i,s),u=a&&"/"!==a&&a.endsWith("/"),c=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const Cf=e=>e.join("/").replace(/\/\/+/g,"/"),Nf=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Af=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Of=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";const If=["post","put","patch","delete"];new Set(If);const jf=["get",...If];
/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(this,arguments)}new Set(jf);const Df=je.createContext(null),Mf=je.createContext(null),Lf=je.createContext(null),Ff=je.createContext(null),Vf=je.createContext({outlet:null,matches:[],isDataRoute:!1}),Uf=je.createContext(null);function zf(){return null!=je.useContext(Ff)}function Bf(){return zf()||tf(!1),je.useContext(Ff).location}function $f(e){je.useContext(Lf).static||je.useLayoutEffect(e)}function qf(){let{isDataRoute:e}=je.useContext(Vf);return e?function(){let{router:e}=function(){let e=je.useContext(Df);return e||tf(!1),e}(Jf.UseNavigateStable),t=ep(Zf.UseNavigateStable),n=je.useRef(!1);return $f((()=>{n.current=!0})),je.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,Rf({fromRouteId:t},i)))}),[e,t])}():function(){zf()||tf(!1);let e=je.useContext(Df),{basename:t,future:n,navigator:r}=je.useContext(Lf),{matches:i}=je.useContext(Vf),{pathname:s}=Bf(),o=JSON.stringify(_f(i,n.v7_relativeSplatPath)),a=je.useRef(!1);return $f((()=>{a.current=!0})),je.useCallback((function(n,i){if(void 0===i&&(i={}),!a.current)return;if("number"==typeof n)return void r.go(n);let l=kf(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Cf([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[t,r,o,s,e])}()}function Gf(){let{matches:e}=je.useContext(Vf),t=e[e.length-1];return t?t.params:{}}function Hf(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=je.useContext(Lf),{matches:i}=je.useContext(Vf),{pathname:s}=Bf(),o=JSON.stringify(_f(i,r.v7_relativeSplatPath));return je.useMemo((()=>kf(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function Wf(e,t){return function(e,t,n,r){zf()||tf(!1);let{navigator:i}=je.useContext(Lf),{matches:s}=je.useContext(Vf),o=s[s.length-1],a=o?o.params:{};!o||o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u,c=Bf();if(t){var d;let e="string"==typeof t?af(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||tf(!1),u=e}else u=c;let h=u.pathname||"/",f=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=cf(e,{pathname:f}),m=function(e,t,n,r){var i;void 0===t&&(t=[]);void 0===n&&(n=null);void 0===r&&(r=null);if(null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&void 0!==(null==a?void 0:a[e.route.id])));e>=0||tf(!1),o=o.slice(0,Math.min(o.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let e=o[c];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=c),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,r,i)=>{let s,c=!1,d=null,h=null;var f;n&&(s=a&&r.route.id?a[r.route.id]:void 0,d=r.route.errorElement||Qf,l&&(u<0&&0===i?(f="route-fallback",!1||tp[f]||(tp[f]=!0),c=!0,h=null):u===i&&(c=!0,h=r.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,i+1)),m=()=>{let t;return t=s?d:c?h:r.route.Component?je.createElement(r.route.Component,null):r.route.element?r.route.element:e,je.createElement(Xf,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?je.createElement(Yf,{location:n.location,revalidation:n.revalidation,component:d,error:s,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}(p&&p.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:Cf([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Cf([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n,r);if(t&&m)return je.createElement(Ff.Provider,{value:{location:Rf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Xh.Pop}},m);return m}(e,t)}function Kf(){let e=function(){var e;let t=je.useContext(Uf),n=function(){let e=je.useContext(Mf);return e||tf(!1),e}(Zf.UseRouteError),r=ep(Zf.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return je.createElement(je.Fragment,null,je.createElement("h2",null,"Unexpected Application Error!"),je.createElement("h3",{style:{fontStyle:"italic"}},t),n?je.createElement("pre",{style:r},n):null,null)}const Qf=je.createElement(Kf,null);class Yf extends je.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?je.createElement(Vf.Provider,{value:this.props.routeContext},je.createElement(Uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xf(e){let{routeContext:t,match:n,children:r}=e,i=je.useContext(Df);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),je.createElement(Vf.Provider,{value:t},r)}var Jf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jf||{}),Zf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zf||{});function ep(e){let t=function(){let e=je.useContext(Vf);return e||tf(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||tf(!1),n.route.id}const tp={};function np(e){tf(!1)}function rp(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Xh.Pop,navigator:s,static:o=!1,future:a}=e;zf()&&tf(!1);let l=t.replace(/^\/*/,"/"),u=je.useMemo((()=>({basename:l,navigator:s,static:o,future:Rf({v7_relativeSplatPath:!1},a)})),[l,a,s,o]);"string"==typeof r&&(r=af(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=je.useMemo((()=>{let e=Sf(c,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:f,key:p},navigationType:i}}),[l,c,d,h,f,p,i]);return null==m?null:je.createElement(Lf.Provider,{value:u},je.createElement(Ff.Provider,{children:n,value:m}))}function ip(e){let{children:t,location:n}=e;return Wf(sp(t),n)}function sp(e,t){void 0===t&&(t=[]);let n=[];return je.Children.forEach(e,((e,r)=>{if(!je.isValidElement(e))return;let i=[...t,r];if(e.type===je.Fragment)return void n.push.apply(n,sp(e.props.children,i));e.type!==np&&tf(!1),e.props.index&&e.props.children&&tf(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=sp(e.props.children,i)),n.push(s)})),n}
/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},op.apply(this,arguments)}function ap(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Promise((()=>{}));const lp=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Yq){}const up=De.startTransition;function cp(e){let{basename:t,children:n,future:r,window:i}=e,s=je.useRef();null==s.current&&(s.current=ef({window:i,v5Compat:!0}));let o=s.current,[a,l]=je.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=je.useCallback((e=>{u&&up?up((()=>l(e))):l(e)}),[l,u]);return je.useLayoutEffect((()=>o.listen(c)),[o,c]),je.createElement(rp,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const dp="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,hp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fp=je.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,h=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,lp),{basename:f}=je.useContext(Lf),p=!1;if("string"==typeof u&&hp.test(u)&&(n=u,dp))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=Sf(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:p=!0}catch(Yq){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;zf()||tf(!1);let{basename:r,navigator:i}=je.useContext(Lf),{hash:s,pathname:o,search:a}=Hf(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:Cf([r,o])),i.createHref({pathname:l,search:a,hash:s})}(u,{relative:i}),g=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=void 0===t?{}:t,l=qf(),u=Bf(),c=Hf(e,{relative:o});return je.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:of(u)===of(c);l(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a})}}),[u,l,c,r,i,n,e,s,o,a])}(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});return je.createElement("a",op({},h,{href:n||m,onClick:p||s?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))}));var pp,mp,gp,yp;function vp(e){let t=je.useRef(ap(e)),n=je.useRef(!1),r=Bf(),i=je.useMemo((()=>function(e,t){let n=ap(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),s=qf(),o=je.useCallback(((e,t)=>{const r=ap("function"==typeof e?e(i):e);n.current=!0,s("?"+r,t)}),[s,i]);return[i,o]}(mp=pp||(pp={})).UseScrollRestoration="useScrollRestoration",mp.UseSubmit="useSubmit",mp.UseSubmitFetcher="useSubmitFetcher",mp.UseFetcher="useFetcher",mp.useViewTransitionState="useViewTransitionState",(yp=gp||(gp={})).UseFetcher="useFetcher",yp.UseFetchers="useFetchers",yp.UseScrollRestoration="useScrollRestoration";let bp=0;const wp=new Map,xp=e=>{if(wp.has(e))return;const t=setTimeout((()=>{wp.delete(e),Pp({type:"REMOVE_TOAST",toastId:e})}),1e6);wp.set(e,t)},Ep=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case"DISMISS_TOAST":{const{toastId:n}=t;return n?xp(n):e.toasts.forEach((e=>{xp(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===n||void 0===n?{...e,open:!1}:e))}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))}}},Tp=[];let Sp={toasts:[]};function Pp(e){Sp=Ep(Sp,e),Tp.forEach((e=>{e(Sp)}))}function _p({...e}){const t=(bp=(bp+1)%Number.MAX_SAFE_INTEGER,bp.toString()),n=()=>Pp({type:"DISMISS_TOAST",toastId:t});return Pp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>Pp({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function kp(){const[e,t]=je.useState(Sp);return je.useEffect((()=>(Tp.push(t),()=>{const e=Tp.indexOf(t);e>-1&&Tp.splice(e,1)})),[e]),{...e,toast:_p,dismiss:e=>Pp({type:"DISMISS_TOAST",toastId:e})}}function Cp(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function Np(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function Ap(...e){return je.useCallback(Np(...e),e)}function Op(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return je.useMemo((()=>({[`__scope${t.scopeName}`]:r})),[r])}};return n.scopeName=t.scopeName,n}var Ip=je.forwardRef(((e,t)=>{const{children:n,...r}=e,i=je.Children.toArray(n),s=i.find(Dp);if(s){const e=s.props.children,n=i.map((t=>t===s?je.Children.count(e)>1?je.Children.only(null):je.isValidElement(e)?e.props.children:null:t));return $e.jsx(jp,{...r,ref:t,children:je.isValidElement(e)?je.cloneElement(e,void 0,n):null})}return $e.jsx(jp,{...r,ref:t,children:n})}));Ip.displayName="Slot";var jp=je.forwardRef(((e,t)=>{const{children:n,...r}=e;if(je.isValidElement(n)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n);return je.cloneElement(n,{...Mp(r,n.props),ref:t?Np(t,e):e})}return je.Children.count(n)>1?je.Children.only(null):null}));jp.displayName="SlotClone";var Rp=({children:e})=>$e.jsx($e.Fragment,{children:e});function Dp(e){return je.isValidElement(e)&&e.type===Rp}function Mp(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...e)=>{s(...e),i(...e)}:i&&(n[r]=i):"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Lp(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const r=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return je.useMemo((()=>({[`__scope${t.scopeName}`]:r})),[r])}};return n.scopeName=t.scopeName,n}var Fp=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=je.forwardRef(((e,n)=>{const{asChild:r,...i}=e,s=r?Ip:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),$e.jsx(s,{...i,ref:n})}));return n.displayName=`Primitive.${t}`,{...e,[t]:n}}),{});function Vp(e,t){e&&Yd.flushSync((()=>e.dispatchEvent(t)))}function Up(e){const t=je.useRef(e);return je.useEffect((()=>{t.current=e})),je.useMemo((()=>(...e)=>{var n;return null==(n=t.current)?void 0:n.call(t,...e)}),[])}var zp,Bp="dismissableLayer.update",$p="dismissableLayer.pointerDownOutside",qp="dismissableLayer.focusOutside",Gp=je.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hp=je.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=e,u=je.useContext(Gp),[c,d]=je.useState(null),h=(null==c?void 0:c.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,f]=je.useState({}),p=Ap(t,(e=>d(e))),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),v=c?m.indexOf(c):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,w=v>=y,x=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Up(e),r=je.useRef(!1),i=je.useRef((()=>{}));return je.useEffect((()=>{const e=e=>{if(e.target&&!r.current){let r=function(){Qp($p,n,s,{discrete:!0})};const s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:()=>r.current=!0}}((e=>{const t=e.target,n=[...u.branches].some((e=>e.contains(t)));w&&!n&&(null==i||i(e),null==o||o(e),e.defaultPrevented||null==a||a())}),h),E=function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Up(e),r=je.useRef(!1);return je.useEffect((()=>{const e=e=>{if(e.target&&!r.current){Qp(qp,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(null==s||s(e),null==o||o(e),e.defaultPrevented||null==a||a())}),h);return function(e,t=(null==globalThis?void 0:globalThis.document)){const n=Up(e);je.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[n,t])}((e=>{v===u.layers.size-1&&(null==r||r(e),!e.defaultPrevented&&a&&(e.preventDefault(),a()))}),h),je.useEffect((()=>{if(c)return n&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(zp=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),Kp(),()=>{n&&1===u.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=zp)}}),[c,h,n,u]),je.useEffect((()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),Kp())}),[c,u]),je.useEffect((()=>{const e=()=>f({});return document.addEventListener(Bp,e),()=>document.removeEventListener(Bp,e)}),[]),$e.jsx(Fp.div,{...l,ref:p,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:Cp(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Cp(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Cp(e.onPointerDownCapture,x.onPointerDownCapture)})}));Hp.displayName="DismissableLayer";var Wp=je.forwardRef(((e,t)=>{const n=je.useContext(Gp),r=je.useRef(null),i=Ap(t,r);return je.useEffect((()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}}),[n.branches]),$e.jsx(Fp.div,{...e,ref:i})}));function Kp(){const e=new CustomEvent(Bp);document.dispatchEvent(e)}function Qp(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Vp(i,s):i.dispatchEvent(s)}Wp.displayName="DismissableLayerBranch";var Yp=Hp,Xp=Wp,Jp=Boolean(null==globalThis?void 0:globalThis.document)?je.useLayoutEffect:()=>{},Zp=je.forwardRef(((e,t)=>{var n;const{container:r,...i}=e,[s,o]=je.useState(!1);Jp((()=>o(!0)),[]);const a=r||s&&(null==(n=null==globalThis?void 0:globalThis.document)?void 0:n.body);return a?Xd.createPortal($e.jsx(Fp.div,{...i,ref:t}),a):null}));Zp.displayName="Portal";var em=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=je.useState(),r=je.useRef({}),i=je.useRef(e),s=je.useRef("none"),o=e?"mounted":"unmounted",[a,l]=function(e,t){return je.useReducer(((e,n)=>t[e][n]??e),e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return je.useEffect((()=>{const e=tm(r.current);s.current="mounted"===a?e:"none"}),[a]),Jp((()=>{const t=r.current,n=i.current;if(n!==e){const r=s.current,o=tm(t);if(e)l("MOUNT");else if("none"===o||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,l]),Jp((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,o=s=>{const o=tm(r.current).includes(s.animationName);if(s.target===t&&o&&(l("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},a=e=>{e.target===t&&(s.current=tm(r.current))};return t.addEventListener("animationstart",a),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",a),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}l("ANIMATION_END")}),[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:je.useCallback((e=>{e&&(r.current=getComputedStyle(e)),n(e)}),[])}}(t),i="function"==typeof n?n({present:r.isPresent}):je.Children.only(n),s=Ap(r.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;if(i)return e.ref;if(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof n||r.isPresent?je.cloneElement(i,{ref:s}):null};function tm(e){return(null==e?void 0:e.animationName)||"none"}function nm({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=function({defaultProp:e,onChange:t}){const n=je.useState(e),[r]=n,i=je.useRef(r),s=Up(t);return je.useEffect((()=>{i.current!==r&&(s(r),i.current=r)}),[r,i,s]),n}({defaultProp:t,onChange:n}),s=void 0!==e,o=s?e:r,a=Up(n);return[o,je.useCallback((t=>{if(s){const n="function"==typeof t?t(e):t;n!==e&&a(n)}else i(t)}),[s,e,i,a])]}em.displayName="Presence";var rm=je.forwardRef(((e,t)=>$e.jsx(Fp.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));rm.displayName="VisuallyHidden";var im="ToastProvider",[sm,om,am]=function(e){const t=e+"CollectionProvider",[n,r]=function(e,t=[]){let n=[];const r=()=>{const t=n.map((e=>je.createContext(e)));return function(n){const r=(null==n?void 0:n[e])||t;return je.useMemo((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const i=je.createContext(r),s=n.length;function o(t){const{scope:n,children:r,...o}=t,a=(null==n?void 0:n[e][s])||i,l=je.useMemo((()=>o),Object.values(o));return $e.jsx(a.Provider,{value:l,children:r})}return n=[...n,r],o.displayName=t+"Provider",[o,function(n,o){const a=(null==o?void 0:o[e][s])||i,l=je.useContext(a);if(l)return l;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Op(r,...t)]}(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{const{scope:t,children:n}=e,r=Re.useRef(null),s=Re.useRef(new Map).current;return $e.jsx(i,{scope:t,itemMap:s,collectionRef:r,children:n})};o.displayName=t;const a=e+"CollectionSlot",l=Re.forwardRef(((e,t)=>{const{scope:n,children:r}=e,i=Ap(t,s(a,n).collectionRef);return $e.jsx(Ip,{ref:i,children:r})}));l.displayName=a;const u=e+"CollectionItemSlot",c="data-radix-collection-item",d=Re.forwardRef(((e,t)=>{const{scope:n,children:r,...i}=e,o=Re.useRef(null),a=Ap(t,o),l=s(u,n);return Re.useEffect((()=>(l.itemMap.set(o,{ref:o,...i}),()=>{l.itemMap.delete(o)}))),$e.jsx(Ip,{[c]:"",ref:a,children:r})}));return d.displayName=u,[{Provider:o,Slot:l,ItemSlot:d},function(t){const n=s(e+"CollectionConsumer",t),r=Re.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${c}]`)),r=Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)));return r}),[n.collectionRef,n.itemMap]);return r},r]}("Toast"),[lm,um]=function(e,t=[]){let n=[];const r=()=>{const t=n.map((e=>je.createContext(e)));return function(n){const r=(null==n?void 0:n[e])||t;return je.useMemo((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const i=je.createContext(r),s=n.length;n=[...n,r];const o=t=>{var n;const{scope:r,children:o,...a}=t,l=(null==(n=null==r?void 0:r[e])?void 0:n[s])||i,u=je.useMemo((()=>a),Object.values(a));return $e.jsx(l.Provider,{value:u,children:o})};return o.displayName=t+"Provider",[o,function(n,o){var a;const l=(null==(a=null==o?void 0:o[e])?void 0:a[s])||i,u=je.useContext(l);if(u)return u;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Lp(r,...t)]}("Toast",[am]),[cm,dm]=lm(im),hm=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=e,[a,l]=je.useState(null),[u,c]=je.useState(0),d=je.useRef(!1),h=je.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${im}\`. Expected non-empty \`string\`.`),$e.jsx(sm.Provider,{scope:t,children:$e.jsx(cm,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:je.useCallback((()=>c((e=>e+1))),[]),onToastRemove:je.useCallback((()=>c((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};hm.displayName=im;var fm="ToastViewport",pm=["F8"],mm="toast.viewportPause",gm="toast.viewportResume",ym=je.forwardRef(((e,t)=>{const{__scopeToast:n,hotkey:r=pm,label:i="Notifications ({hotkey})",...s}=e,o=dm(fm,n),a=om(n),l=je.useRef(null),u=je.useRef(null),c=je.useRef(null),d=je.useRef(null),h=Ap(t,d,o.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;je.useEffect((()=>{const e=e=>{var t;0!==r.length&&r.every((t=>e[t]||e.code===t))&&(null==(t=d.current)||t.focus())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r]),je.useEffect((()=>{const e=l.current,t=d.current;if(p&&e&&t){const n=()=>{if(!o.isClosePausedRef.current){const e=new CustomEvent(mm);t.dispatchEvent(e),o.isClosePausedRef.current=!0}},r=()=>{if(o.isClosePausedRef.current){const e=new CustomEvent(gm);t.dispatchEvent(e),o.isClosePausedRef.current=!1}},i=t=>{!e.contains(t.relatedTarget)&&r()},s=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",i),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",s),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",s),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}}),[p,o.isClosePausedRef]);const m=je.useCallback((({tabbingDirection:e})=>{const t=a().map((t=>{const n=t.ref.current,r=[n,...Mm(n)];return"forwards"===e?r:r.reverse()}));return("forwards"===e?t.reverse():t).flat()}),[a]);return je.useEffect((()=>{const e=d.current;if(e){const t=t=>{var n,r,i;const s=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!s){const s=document.activeElement,o=t.shiftKey;if(t.target===e&&o)return void(null==(n=u.current)||n.focus());const a=m({tabbingDirection:o?"backwards":"forwards"}),l=a.findIndex((e=>e===s));Lm(a.slice(l+1))?t.preventDefault():o?null==(r=u.current)||r.focus():null==(i=c.current)||i.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[a,m]),$e.jsxs(Xp,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&$e.jsx(bm,{ref:u,onFocusFromOutsideViewport:()=>{Lm(m({tabbingDirection:"forwards"}))}}),$e.jsx(sm.Slot,{scope:n,children:$e.jsx(Fp.ol,{tabIndex:-1,...s,ref:h})}),p&&$e.jsx(bm,{ref:c,onFocusFromOutsideViewport:()=>{Lm(m({tabbingDirection:"backwards"}))}})]})}));ym.displayName=fm;var vm="ToastFocusProxy",bm=je.forwardRef(((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=dm(vm,n);return $e.jsx(rm,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{var t;const n=e.relatedTarget;!(null==(t=s.viewport)?void 0:t.contains(n))&&r()}})}));bm.displayName=vm;var wm="Toast",xm=je.forwardRef(((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=e,[a=!0,l]=nm({prop:r,defaultProp:i,onChange:s});return $e.jsx(em,{present:n||a,children:$e.jsx(Sm,{open:a,...o,ref:t,onClose:()=>l(!1),onPause:Up(e.onPause),onResume:Up(e.onResume),onSwipeStart:Cp(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:Cp(e.onSwipeMove,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)})),onSwipeCancel:Cp(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:Cp(e.onSwipeEnd,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),l(!1)}))})})}));xm.displayName=wm;var[Em,Tm]=lm(wm,{onClose(){}}),Sm=je.forwardRef(((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:c,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...p}=e,m=dm(wm,n),[g,y]=je.useState(null),v=Ap(t,(e=>y(e))),b=je.useRef(null),w=je.useRef(null),x=i||m.duration,E=je.useRef(0),T=je.useRef(x),S=je.useRef(0),{onToastAdd:P,onToastRemove:_}=m,k=Up((()=>{var e;(null==g?void 0:g.contains(document.activeElement))&&(null==(e=m.viewport)||e.focus()),o()})),C=je.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(S.current),E.current=(new Date).getTime(),S.current=window.setTimeout(k,e))}),[k]);je.useEffect((()=>{const e=m.viewport;if(e){const t=()=>{C(T.current),null==u||u()},n=()=>{const e=(new Date).getTime()-E.current;T.current=T.current-e,window.clearTimeout(S.current),null==l||l()};return e.addEventListener(mm,n),e.addEventListener(gm,t),()=>{e.removeEventListener(mm,n),e.removeEventListener(gm,t)}}}),[m.viewport,x,l,u,C]),je.useEffect((()=>{s&&!m.isClosePausedRef.current&&C(x)}),[s,x,m.isClosePausedRef,C]),je.useEffect((()=>(P(),()=>_())),[P,_]);const N=je.useMemo((()=>g?jm(g):null),[g]);return m.viewport?$e.jsxs($e.Fragment,{children:[N&&$e.jsx(Pm,{__scopeToast:n,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:N}),$e.jsx(Em,{scope:n,onClose:k,children:Yd.createPortal($e.jsx(sm.ItemSlot,{scope:n,children:$e.jsx(Yp,{asChild:!0,onEscapeKeyDown:Cp(a,(()=>{m.isFocusedToastEscapeKeyDownRef.current||k(),m.isFocusedToastEscapeKeyDownRef.current=!1})),children:$e.jsx(Fp.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Cp(e.onKeyDown,(e=>{"Escape"===e.key&&(null==a||a(e.nativeEvent),e.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,k()))})),onPointerDown:Cp(e.onPointerDown,(e=>{0===e.button&&(b.current={x:e.clientX,y:e.clientY})})),onPointerMove:Cp(e.onPointerMove,(e=>{if(!b.current)return;const t=e.clientX-b.current.x,n=e.clientY-b.current.y,r=Boolean(w.current),i=["left","right"].includes(m.swipeDirection),s=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,o=i?s(0,t):0,a=i?0:s(0,n),l="touch"===e.pointerType?10:2,u={x:o,y:a},h={originalEvent:e,delta:u};r?(w.current=u,Rm("toast.swipeMove",d,h,{discrete:!1})):Dm(u,m.swipeDirection,l)?(w.current=u,Rm("toast.swipeStart",c,h,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(n)>l)&&(b.current=null)})),onPointerUp:Cp(e.onPointerUp,(e=>{const t=w.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),w.current=null,b.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};Dm(t,m.swipeDirection,m.swipeThreshold)?Rm("toast.swipeEnd",f,r,{discrete:!0}):Rm("toast.swipeCancel",h,r,{discrete:!0}),n.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),m.viewport)})]}):null})),Pm=e=>{const{__scopeToast:t,children:n,...r}=e,i=dm(wm,t),[s,o]=je.useState(!1),[a,l]=je.useState(!1);return function(e=()=>{}){const t=Up(e);Jp((()=>{let e=0,n=0;return e=window.requestAnimationFrame((()=>n=window.requestAnimationFrame(t))),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}}),[t])}((()=>o(!0))),je.useEffect((()=>{const e=window.setTimeout((()=>l(!0)),1e3);return()=>window.clearTimeout(e)}),[]),a?null:$e.jsx(Zp,{asChild:!0,children:$e.jsx(rm,{...r,children:s&&$e.jsxs($e.Fragment,{children:[i.label," ",n]})})})},_m=je.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return $e.jsx(Fp.div,{...r,ref:t})}));_m.displayName="ToastTitle";var km=je.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return $e.jsx(Fp.div,{...r,ref:t})}));km.displayName="ToastDescription";var Cm="ToastAction",Nm=je.forwardRef(((e,t)=>{const{altText:n,...r}=e;return n.trim()?$e.jsx(Im,{altText:n,asChild:!0,children:$e.jsx(Om,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Cm}\`. Expected non-empty \`string\`.`),null)}));Nm.displayName=Cm;var Am="ToastClose",Om=je.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e,i=Tm(Am,n);return $e.jsx(Im,{asChild:!0,children:$e.jsx(Fp.button,{type:"button",...r,ref:t,onClick:Cp(e.onClick,i.onClose)})})}));Om.displayName=Am;var Im=je.forwardRef(((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return $e.jsx(Fp.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})}));function jm(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...jm(e))}})),t}function Rm(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Vp(i,s):i.dispatchEvent(s)}var Dm=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return"left"===t||"right"===t?s&&r>n:!s&&i>n};function Mm(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Lm(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var Fm=hm,Vm=ym,Um=xm,zm=_m,Bm=km,$m=Nm,qm=Om;function Gm(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Gm(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Hm(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Gm(e))&&(r&&(r+=" "),r+=t);return r}const Wm=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Km=Hm;var Qm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ym=(e,t)=>{const n=je.forwardRef((({color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:o,...a},l)=>{return je.createElement("svg",{ref:l,...Qm,width:r,height:r,stroke:n,strokeWidth:s?24*Number(i)/Number(r):i,className:`lucide lucide-${u=e,u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...a},[...t.map((([e,t])=>je.createElement(e,t))),...(Array.isArray(o)?o:[o])||[]]);var u}));return n.displayName=`${e}`,n},Xm=Ym("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Jm=Ym("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Zm=Ym("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),eg=Ym("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),tg=Ym("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),ng=Ym("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),rg=Ym("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ig=Ym("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),sg=Ym("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),og=Ym("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ag=Ym("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),lg=Ym("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ug=Ym("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),cg=Ym("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),dg=Ym("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),hg=Ym("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),fg=Ym("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),pg=Ym("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),mg=Ym("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),gg=Ym("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),yg=Ym("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function vg(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=bg(e))&&(r&&(r+=" "),r+=t);return r}function bg(e){if("string"==typeof e)return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=bg(e[r]))&&(n&&(n+=" "),n+=t);return n}function wg(e){var t=function(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=function(e,t){if(!t)return e;return e.map((function(e){return[e[0],e[1].map((function(e){return"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((function(e){var n=e[0],r=e[1];return[t+n,r]}))):e}))]}))}(Object.entries(e.classGroups),n);return i.forEach((function(e){var n=e[0];Tg(e[1],r,n,t)})),r}(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=void 0===r?{}:r;return{getClassGroupId:function(e){var n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),xg(n,t)||function(e){if(Eg.test(e)){var t=Eg.exec(e)[1],n=null==t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}(e)},getConflictingClassGroupIds:function(e,t){var r=n[e]||[];return t&&i[e]?[].concat(r,i[e]):r}}}function xg(e,t){var n;if(0===e.length)return t.classGroupId;var r=e[0],i=t.nextPart.get(r),s=i?xg(e.slice(1),i):void 0;if(s)return s;if(0!==t.validators.length){var o=e.join("-");return null==(n=t.validators.find((function(e){return(0,e.validator)(o)})))?void 0:n.classGroupId}}var Eg=/^\[(.+)\]$/;function Tg(e,t,n,r){e.forEach((function(e){if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void Tg(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((function(e){var i=e[0];Tg(e[1],Sg(t,i),n,r)}))}else{(""===e?t:Sg(t,e)).classGroupId=n}}))}function Sg(e,t){var n=e;return t.split("-").forEach((function(e){n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n}function Pg(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(i,s){n.set(i,s),++t>e&&(t=0,r=n,n=new Map)}return{get:function(e){var t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set:function(e,t){n.has(e)?n.set(e,t):i(e,t)}}}function _g(e){var t=e.separator||":",n=1===t.length,r=t[0],i=t.length;return function(e){for(var s,o=[],a=0,l=0,u=0;u<e.length;u++){var c=e[u];if(0===a){if(c===r&&(n||e.slice(u,u+i)===t)){o.push(e.slice(l,u)),l=u+i;continue}if("/"===c){s=u;continue}}"["===c?a++:"]"===c&&a--}var d=0===o.length?e:e.substring(l),h=d.startsWith("!");return{modifiers:o,hasImportantModifier:h,baseClassName:h?d.substring(1):d,maybePostfixModifierPosition:s&&s>l?s-l:void 0}}}var kg=/\s+/;function Cg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,s,o=function(e){var n=t[0],l=t.slice(1).reduce((function(e,t){return t(e)}),n());return r=function(e){return{cache:Pg(e.cacheSize),splitModifiers:_g(e),...wg(e)}}(l),i=r.cache.get,s=r.cache.set,o=a,a(e)};function a(e){var t=i(e);if(t)return t;var n=function(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,s=new Set;return e.trim().split(kg).map((function(e){var t=n(e),i=t.modifiers,s=t.hasImportantModifier,o=t.baseClassName,a=t.maybePostfixModifierPosition,l=r(a?o.substring(0,a):o),u=Boolean(a);if(!l){if(!a)return{isTailwindClass:!1,originalClassName:e};if(!(l=r(o)))return{isTailwindClass:!1,originalClassName:e};u=!1}var c=function(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach((function(e){"["===e[0]?(t.push.apply(t,n.sort().concat([e])),n=[]):n.push(e)})),t.push.apply(t,n.sort()),t}(i).join(":");return{isTailwindClass:!0,modifierId:s?c+"!":c,classGroupId:l,originalClassName:e,hasPostfixModifier:u}})).reverse().filter((function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,n=e.classGroupId,r=e.hasPostfixModifier,o=t+n;return!s.has(o)&&(s.add(o),i(n,r).forEach((function(e){return s.add(t+e)})),!0)})).reverse().map((function(e){return e.originalClassName})).join(" ")}(e,r);return s(e,n),n}return function(){return o(vg.apply(null,arguments))}}function Ng(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var Ag=/^\[(?:([a-z-]+):)?(.+)\]$/i,Og=/^\d+\/\d+$/,Ig=new Set(["px","full","screen"]),jg=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rg=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dg=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Mg(e){return Bg(e)||Ig.has(e)||Og.test(e)||Lg(e)}function Lg(e){return Qg(e,"length",Yg)}function Fg(e){return Qg(e,"size",Xg)}function Vg(e){return Qg(e,"position",Xg)}function Ug(e){return Qg(e,"url",Jg)}function zg(e){return Qg(e,"number",Bg)}function Bg(e){return!Number.isNaN(Number(e))}function $g(e){return e.endsWith("%")&&Bg(e.slice(0,-1))}function qg(e){return Zg(e)||Qg(e,"number",Zg)}function Gg(e){return Ag.test(e)}function Hg(){return!0}function Wg(e){return jg.test(e)}function Kg(e){return Qg(e,"",ey)}function Qg(e,t,n){var r=Ag.exec(e);return!!r&&(r[1]?r[1]===t:n(r[2]))}function Yg(e){return Rg.test(e)}function Xg(){return!1}function Jg(e){return e.startsWith("url(")}function Zg(e){return Number.isInteger(Number(e))}function ey(e){return Dg.test(e)}function ty(){var e=Ng("colors"),t=Ng("spacing"),n=Ng("blur"),r=Ng("brightness"),i=Ng("borderColor"),s=Ng("borderRadius"),o=Ng("borderSpacing"),a=Ng("borderWidth"),l=Ng("contrast"),u=Ng("grayscale"),c=Ng("hueRotate"),d=Ng("invert"),h=Ng("gap"),f=Ng("gradientColorStops"),p=Ng("gradientColorStopPositions"),m=Ng("inset"),g=Ng("margin"),y=Ng("opacity"),v=Ng("padding"),b=Ng("saturate"),w=Ng("scale"),x=Ng("sepia"),E=Ng("skew"),T=Ng("space"),S=Ng("translate"),P=function(){return["auto",Gg,t]},_=function(){return[Gg,t]},k=function(){return["",Mg]},C=function(){return["auto",Bg,Gg]},N=function(){return["","0",Gg]},A=function(){return[Bg,zg]},O=function(){return[Bg,Gg]};return{cacheSize:500,theme:{colors:[Hg],spacing:[Mg],blur:["none","",Wg,Gg],brightness:A(),borderColor:[e],borderRadius:["none","","full",Wg,Gg],borderSpacing:_(),borderWidth:k(),contrast:A(),grayscale:N(),hueRotate:O(),invert:N(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[$g,Lg],inset:P(),margin:P(),opacity:A(),padding:_(),saturate:A(),scale:A(),sepia:N(),skew:O(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",Gg]}],container:["container"],columns:[{columns:[Wg]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[Gg])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qg]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Gg]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",qg]}],"grid-cols":[{"grid-cols":[Hg]}],"col-start-end":[{col:["auto",{span:["full",qg]},Gg]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[Hg]}],"row-start-end":[{row:["auto",{span:[qg]},Gg]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Gg]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Gg]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Gg,t]}],"min-w":[{"min-w":["min","max","fit",Gg,Mg]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Wg]},Wg,Gg]}],h:[{h:[Gg,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Gg,Mg]}],"max-h":[{"max-h":[Gg,t,"min","max","fit"]}],"font-size":[{text:["base",Wg,Lg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zg]}],"font-family":[{font:[Hg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Gg]}],"line-clamp":[{"line-clamp":["none",Bg,zg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gg,Mg]}],"list-image":[{"list-image":["none",Gg]}],"list-style-type":[{list:["none","disc","decimal",Gg]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Mg]}],"underline-offset":[{"underline-offset":["auto",Gg,Mg]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Gg]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Gg]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[Vg])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Fg]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ug]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[Gg,Mg]}],"outline-w":[{outline:[Mg]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Mg]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Wg,Kg]}],"shadow-color":[{shadow:[Hg]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Wg,Gg]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Gg]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Gg]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Gg]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[qg,Gg]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Gg]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Gg]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Gg]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mg,zg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var ny=Cg(ty);function ry(...e){return ny(Hm(e))}const iy=Fm,sy=je.forwardRef((({className:e,...t},n)=>$e.jsx(Vm,{ref:n,className:ry("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t})));sy.displayName=Vm.displayName;const oy=(ay="group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",ly={variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}},e=>{var t;if(null==(null==ly?void 0:ly.variants))return Km(ay,null==e?void 0:e.class,null==e?void 0:e.className);const{variants:n,defaultVariants:r}=ly,i=Object.keys(n).map((t=>{const i=null==e?void 0:e[t],s=null==r?void 0:r[t];if(null===i)return null;const o=Wm(i)||Wm(s);return n[t][o]})),s=e&&Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),o=null==ly||null===(t=ly.compoundVariants)||void 0===t?void 0:t.reduce(((e,t)=>{let{class:n,className:i,...o}=t;return Object.entries(o).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...r,...s}[t]):{...r,...s}[t]===n}))?[...e,n,i]:e}),[]);return Km(ay,i,o,null==e?void 0:e.class,null==e?void 0:e.className)});var ay,ly;const uy=je.forwardRef((({className:e,variant:t,...n},r)=>$e.jsx(Um,{ref:r,className:ry(oy({variant:t}),e),...n})));uy.displayName=Um.displayName;je.forwardRef((({className:e,...t},n)=>$e.jsx($m,{ref:n,className:ry("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}))).displayName=$m.displayName;const cy=je.forwardRef((({className:e,...t},n)=>$e.jsx(qm,{ref:n,className:ry("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:$e.jsx(yg,{className:"h-4 w-4"})})));cy.displayName=qm.displayName;const dy=je.forwardRef((({className:e,...t},n)=>$e.jsx(zm,{ref:n,className:ry("text-sm font-semibold",e),...t})));dy.displayName=zm.displayName;const hy=je.forwardRef((({className:e,...t},n)=>$e.jsx(Bm,{ref:n,className:ry("text-sm opacity-90",e),...t})));function fy(){const{toasts:e}=kp();return $e.jsxs(iy,{children:[e.map((function({id:e,title:t,description:n,action:r,...i}){return $e.jsxs(uy,{...i,children:[$e.jsxs("div",{className:"grid gap-1",children:[t&&$e.jsx(dy,{children:t}),n&&$e.jsx(hy,{children:n})]}),r,$e.jsx(cy,{})]},e)})),$e.jsx(sy,{})]})}hy.displayName=Bm.displayName;var py=Array(12).fill(0),my=({visible:e})=>Re.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Re.createElement("div",{className:"sonner-spinner"},py.map(((e,t)=>Re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`}))))),gy=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yy=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vy=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),by=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wy=1,xy=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:wy++,s=this.toasts.find((e=>e.id===i)),o=void 0===e.dismissible||e.dismissible;return s?this.toasts=this.toasts.map((t=>t.id===i?(this.publish({...t,...e,id:i,title:n}),{...t,...e,id:i,dismissible:o,title:n}):t)):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),this.subscribers.forEach((t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r=e instanceof Promise?e:e(),i=void 0!==n;return r.then((async e=>{if(Ey(e)&&!e.ok){i=!1;let r="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,s="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:n,type:"error",message:r,description:s})}else if(void 0!==t.success){i=!1;let r="function"==typeof t.success?await t.success(e):t.success,s="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:r,description:s})}})).catch((async e=>{if(void 0!==t.error){i=!1;let r="function"==typeof t.error?await t.error(e):t.error,s="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:r,description:s})}})).finally((()=>{var e;i&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)})),n},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||wy++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Ey=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,Ty=(e,t)=>{let n=(null==t?void 0:t.id)||wy++;return xy.addToast({title:e,...t,id:n}),n};function Sy(e){return void 0!==e.label}Object.assign(Ty,{success:xy.success,info:xy.info,warning:xy.warning,error:xy.error,custom:xy.custom,message:xy.message,promise:xy.promise,dismiss:xy.dismiss,loading:xy.loading},{getHistory:()=>xy.toasts}),function(e,{insertAt:t}={}){if(!e||"undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var Py=3,_y=14;function ky(...e){return e.filter(Boolean).join(" ")}var Cy=e=>{var t,n,r,i,s,o,a,l,u,c;let{invert:d,toast:h,unstyled:f,interacting:p,setHeights:m,visibleToasts:g,heights:y,index:v,toasts:b,expanded:w,removeToast:x,defaultRichColors:E,closeButton:T,style:S,cancelButtonStyle:P,actionButtonStyle:_,className:k="",descriptionClassName:C="",duration:N,position:A,gap:O,loadingIcon:I,expandByDefault:j,classNames:R,icons:D,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:L,cn:F}=e,[V,U]=Re.useState(!1),[z,B]=Re.useState(!1),[$,q]=Re.useState(!1),[G,H]=Re.useState(!1),[W,K]=Re.useState(0),[Q,Y]=Re.useState(0),X=Re.useRef(null),J=Re.useRef(null),Z=0===v,ee=v+1<=g,te=h.type,ne=!1!==h.dismissible,re=h.className||"",ie=h.descriptionClassName||"",se=Re.useMemo((()=>y.findIndex((e=>e.toastId===h.id))||0),[y,h.id]),oe=Re.useMemo((()=>{var e;return null!=(e=h.closeButton)?e:T}),[h.closeButton,T]),ae=Re.useMemo((()=>h.duration||N||4e3),[h.duration,N]),le=Re.useRef(0),ue=Re.useRef(0),ce=Re.useRef(0),de=Re.useRef(null),[he,fe]=A.split("-"),pe=Re.useMemo((()=>y.reduce(((e,t,n)=>n>=se?e:e+t.height),0)),[y,se]),me=(()=>{let[e,t]=Re.useState(document.hidden);return Re.useEffect((()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),ge=h.invert||d,ye="loading"===te;ue.current=Re.useMemo((()=>se*O+pe),[se,pe]),Re.useEffect((()=>{U(!0)}),[]),Re.useLayoutEffect((()=>{if(!V)return;let e=J.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,Y(n),m((e=>e.find((e=>e.toastId===h.id))?e.map((e=>e.toastId===h.id?{...e,height:n}:e)):[{toastId:h.id,height:n,position:h.position},...e]))}),[V,h.title,h.description,m,h.id]);let ve=Re.useCallback((()=>{B(!0),K(ue.current),m((e=>e.filter((e=>e.toastId!==h.id)))),setTimeout((()=>{x(h)}),200)}),[h,x,m,ue]);return Re.useEffect((()=>{if(h.promise&&"loading"===te||h.duration===1/0||"loading"===h.type)return;let e,t=ae;return w||p||L&&me?(()=>{if(ce.current<le.current){let e=(new Date).getTime()-le.current;t-=e}ce.current=(new Date).getTime()})():t!==1/0&&(le.current=(new Date).getTime(),e=setTimeout((()=>{var e;null==(e=h.onAutoClose)||e.call(h,h),ve()}),t)),()=>clearTimeout(e)}),[w,p,j,h,ae,ve,h.promise,te,L,me]),Re.useEffect((()=>{let e=J.current;if(e){let t=e.getBoundingClientRect().height;return Y(t),m((e=>[{toastId:h.id,height:t,position:h.position},...e])),()=>m((e=>e.filter((e=>e.toastId!==h.id))))}}),[m,h.id]),Re.useEffect((()=>{h.delete&&ve()}),[ve,h.delete]),Re.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:J,className:F(k,re,null==R?void 0:R.toast,null==(t=null==h?void 0:h.classNames)?void 0:t.toast,null==R?void 0:R.default,null==R?void 0:R[te],null==(n=null==h?void 0:h.classNames)?void 0:n[te]),"data-sonner-toast":"","data-rich-colors":null!=(r=h.richColors)?r:E,"data-styled":!(h.jsx||h.unstyled||f),"data-mounted":V,"data-promise":!!h.promise,"data-removed":z,"data-visible":ee,"data-y-position":he,"data-x-position":fe,"data-index":v,"data-front":Z,"data-swiping":$,"data-dismissible":ne,"data-type":te,"data-invert":ge,"data-swipe-out":G,"data-expanded":!!(w||j&&V),style:{"--index":v,"--toasts-before":v,"--z-index":b.length-v,"--offset":`${z?W:ue.current}px`,"--initial-height":j?"auto":`${Q}px`,...S,...h.style},onPointerDown:e=>{ye||!ne||(X.current=new Date,K(ue.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(q(!0),de.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,r;if(G||!ne)return;de.current=null;let i=Number((null==(e=J.current)?void 0:e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),s=(new Date).getTime()-(null==(t=X.current)?void 0:t.getTime()),o=Math.abs(i)/s;if(Math.abs(i)>=20||o>.11)return K(ue.current),null==(n=h.onDismiss)||n.call(h,h),ve(),void H(!0);null==(r=J.current)||r.style.setProperty("--swipe-amount","0px"),q(!1)},onPointerMove:e=>{var t;if(!de.current||!ne)return;let n=e.clientY-de.current.y,r=e.clientX-de.current.x,i=("top"===he?Math.min:Math.max)(0,n),s="touch"===e.pointerType?10:2;Math.abs(i)>s?null==(t=J.current)||t.style.setProperty("--swipe-amount",`${n}px`):Math.abs(r)>s&&(de.current=null)}},oe&&!h.jsx?Re.createElement("button",{"aria-label":M,"data-disabled":ye,"data-close-button":!0,onClick:ye||!ne?()=>{}:()=>{var e;ve(),null==(e=h.onDismiss)||e.call(h,h)},className:F(null==R?void 0:R.closeButton,null==(i=null==h?void 0:h.classNames)?void 0:i.closeButton)},Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||Re.isValidElement(h.title)?h.jsx||h.title:Re.createElement(Re.Fragment,null,te||h.icon||h.promise?Re.createElement("div",{"data-icon":"",className:F(null==R?void 0:R.icon,null==(s=null==h?void 0:h.classNames)?void 0:s.icon)},h.promise||"loading"===h.type&&!h.icon?h.icon||(null!=D&&D.loading?Re.createElement("div",{className:"sonner-loader","data-visible":"loading"===te},D.loading):I?Re.createElement("div",{className:"sonner-loader","data-visible":"loading"===te},I):Re.createElement(my,{visible:"loading"===te})):null,"loading"!==h.type?h.icon||(null==D?void 0:D[te])||(e=>{switch(e){case"success":return gy;case"info":return vy;case"warning":return yy;case"error":return by;default:return null}})(te):null):null,Re.createElement("div",{"data-content":"",className:F(null==R?void 0:R.content,null==(o=null==h?void 0:h.classNames)?void 0:o.content)},Re.createElement("div",{"data-title":"",className:F(null==R?void 0:R.title,null==(a=null==h?void 0:h.classNames)?void 0:a.title)},h.title),h.description?Re.createElement("div",{"data-description":"",className:F(C,ie,null==R?void 0:R.description,null==(l=null==h?void 0:h.classNames)?void 0:l.description)},h.description):null),Re.isValidElement(h.cancel)?h.cancel:h.cancel&&Sy(h.cancel)?Re.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||P,onClick:e=>{var t,n;Sy(h.cancel)&&ne&&(null==(n=(t=h.cancel).onClick)||n.call(t,e),ve())},className:F(null==R?void 0:R.cancelButton,null==(u=null==h?void 0:h.classNames)?void 0:u.cancelButton)},h.cancel.label):null,Re.isValidElement(h.action)?h.action:h.action&&Sy(h.action)?Re.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||_,onClick:e=>{var t,n;Sy(h.action)&&(e.defaultPrevented||(null==(n=(t=h.action).onClick)||n.call(t,e),ve()))},className:F(null==R?void 0:R.actionButton,null==(c=null==h?void 0:h.classNames)?void 0:c.actionButton)},h.action.label):null))};function Ny(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var Ay=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:u,duration:c,style:d,visibleToasts:h=Py,toastOptions:f,dir:p=Ny(),gap:m=_y,loadingIcon:g,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:b,cn:w=ky}=e,[x,E]=Re.useState([]),T=Re.useMemo((()=>Array.from(new Set([n].concat(x.filter((e=>e.position)).map((e=>e.position)))))),[x,n]),[S,P]=Re.useState([]),[_,k]=Re.useState(!1),[C,N]=Re.useState(!1),[A,O]=Re.useState("system"!==l?l:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=Re.useRef(null),j=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=Re.useRef(null),D=Re.useRef(!1),M=Re.useCallback((e=>{var t;null!=(t=x.find((t=>t.id===e.id)))&&t.delete||xy.dismiss(e.id),E((t=>t.filter((({id:t})=>t!==e.id))))}),[x]);return Re.useEffect((()=>xy.subscribe((e=>{e.dismiss?E((t=>t.map((t=>t.id===e.id?{...t,delete:!0}:t)))):setTimeout((()=>{Xd.flushSync((()=>{E((t=>{let n=t.findIndex((t=>t.id===e.id));return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]}))}))}))}))),[]),Re.useEffect((()=>{"system"===l?("system"===l&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{O(e?"dark":"light")}))):O(l)}),[l]),Re.useEffect((()=>{x.length<=1&&k(!1)}),[x]),Re.useEffect((()=>{let e=e=>{var t,n;r.every((t=>e[t]||e.code===t))&&(k(!0),null==(t=I.current)||t.focus()),"Escape"===e.code&&(document.activeElement===I.current||null!=(n=I.current)&&n.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r]),Re.useEffect((()=>{if(I.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,D.current=!1)}}),[I.current]),x.length?Re.createElement("section",{"aria-label":`${v} ${j}`,tabIndex:-1},T.map(((e,n)=>{var r;let[l,v]=e.split("-");return Re.createElement("ol",{key:e,dir:"auto"===p?Ny():p,tabIndex:-1,ref:I,className:o,"data-sonner-toaster":!0,"data-theme":A,"data-y-position":l,"data-x-position":v,style:{"--front-toast-height":`${(null==(r=S[0])?void 0:r.height)||0}px`,"--offset":"number"==typeof a?`${a}px`:a||"32px","--width":"356px","--gap":`${m}px`,...d},onBlur:e=>{D.current&&!e.currentTarget.contains(e.relatedTarget)&&(D.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||D.current||(D.current=!0,R.current=e.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{C||k(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||N(!0)},onPointerUp:()=>N(!1)},x.filter((t=>!t.position&&0===n||t.position===e)).map(((n,r)=>{var o,a;return Re.createElement(Cy,{key:n.id,icons:y,index:r,toast:n,defaultRichColors:u,duration:null!=(o=null==f?void 0:f.duration)?o:c,className:null==f?void 0:f.className,descriptionClassName:null==f?void 0:f.descriptionClassName,invert:t,visibleToasts:h,closeButton:null!=(a=null==f?void 0:f.closeButton)?a:s,interacting:C,position:e,style:null==f?void 0:f.style,unstyled:null==f?void 0:f.unstyled,classNames:null==f?void 0:f.classNames,cancelButtonStyle:null==f?void 0:f.cancelButtonStyle,actionButtonStyle:null==f?void 0:f.actionButtonStyle,removeToast:M,toasts:x.filter((e=>e.position==n.position)),heights:S.filter((e=>e.position==n.position)),setHeights:P,expandByDefault:i,gap:m,loadingIcon:g,expanded:_,pauseWhenPageIsHidden:b,cn:w})})))}))):null};const Oy=({...e})=>{const{theme:t="system"}=null!==(n=je.useContext(zh))&&void 0!==n?n:Bh;var n;return $e.jsx(Ay,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},Iy=je.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),jy=je.createContext({}),Ry=je.createContext(null),Dy="undefined"!=typeof document,My=Dy?je.useLayoutEffect:je.useEffect,Ly=je.createContext({strict:!1}),Fy=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Vy="data-"+Fy("framerAppearId");function Uy(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function zy(e){return"string"==typeof e||Array.isArray(e)}function By(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}const $y=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qy=["initial",...$y];function Gy(e){return By(e.animate)||qy.some((t=>zy(e[t])))}function Hy(e){return Boolean(Gy(e)||e.variants)}function Wy(e){const{initial:t,animate:n}=function(e,t){if(Gy(e)){const{initial:t,animate:n}=e;return{initial:!1===t||zy(t)?t:void 0,animate:zy(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,je.useContext(jy));return je.useMemo((()=>({initial:t,animate:n})),[Ky(t),Ky(n)])}function Ky(e){return Array.isArray(e)?e.join(" "):e}const Qy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yy={};for(const Zq in Qy)Yy[Zq]={isEnabled:e=>Qy[Zq].some((t=>!!e[t]))};const Xy=je.createContext({}),Jy=je.createContext({}),Zy=Symbol.for("motionComponentSymbol");function ev({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&function(e){for(const t in e)Yy[t]={...Yy[t],...e[t]}}(e);const s=je.forwardRef((function(s,o){let a;const l={...je.useContext(Iy),...s,layoutId:tv(s)},{isStatic:u}=l,c=Wy(s),d=r(s,u);if(!u&&Dy){c.visualElement=function(e,t,n,r){const{visualElement:i}=je.useContext(jy),s=je.useContext(Ly),o=je.useContext(Ry),a=je.useContext(Iy).reducedMotion,l=je.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:a}));const u=l.current;je.useInsertionEffect((()=>{u&&u.update(n,o)}));const c=je.useRef(Boolean(n[Vy]&&!window.HandoffComplete));return My((()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())})),je.useEffect((()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))})),u}(i,d,l,t);const n=je.useContext(Jy),r=je.useContext(Ly).strict;c.visualElement&&(a=c.visualElement.loadFeatures(l,r,e,n))}return je.createElement(jy.Provider,{value:c},a&&c.visualElement?je.createElement(a,{visualElement:c.visualElement,...l}):null,n(i,s,function(e,t,n){return je.useCallback((r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):Uy(n)&&(n.current=r))}),[t])}(d,c.visualElement,o),d,u,c.visualElement))}));return s[Zy]=i,s}function tv({layoutId:e}){const t=je.useContext(Xy).id;return t&&void 0!==e?t+"-"+e:e}function nv(e){function t(t,n={}){return ev(e(t,n))}if("undefined"==typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const rv=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iv(e){return"string"==typeof e&&!e.includes("-")&&!!(rv.indexOf(e)>-1||/[A-Z]/.test(e))}const sv={};const ov=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],av=new Set(ov);function lv(e,{layout:t,layoutId:n}){return av.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!sv[e]||"opacity"===e)}const uv=e=>Boolean(e&&e.getVelocity),cv={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dv=ov.length;const hv=e=>t=>"string"==typeof t&&t.startsWith(e),fv=hv("--"),pv=hv("var(--"),mv=(e,t)=>t&&"number"==typeof e?t.transform(e):e,gv=(e,t,n)=>Math.min(Math.max(n,e),t),yv={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},vv={...yv,transform:e=>gv(0,1,e)},bv={...yv,default:1},wv=e=>Math.round(1e5*e)/1e5,xv=/(-)?([\d]*\.?[\d])+/g,Ev=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Tv=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Sv(e){return"string"==typeof e}const Pv=e=>({test:t=>Sv(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),_v=Pv("deg"),kv=Pv("%"),Cv=Pv("px"),Nv=Pv("vh"),Av=Pv("vw"),Ov={...kv,parse:e=>kv.parse(e)/100,transform:e=>kv.transform(100*e)},Iv={...yv,transform:Math.round},jv={borderWidth:Cv,borderTopWidth:Cv,borderRightWidth:Cv,borderBottomWidth:Cv,borderLeftWidth:Cv,borderRadius:Cv,radius:Cv,borderTopLeftRadius:Cv,borderTopRightRadius:Cv,borderBottomRightRadius:Cv,borderBottomLeftRadius:Cv,width:Cv,maxWidth:Cv,height:Cv,maxHeight:Cv,size:Cv,top:Cv,right:Cv,bottom:Cv,left:Cv,padding:Cv,paddingTop:Cv,paddingRight:Cv,paddingBottom:Cv,paddingLeft:Cv,margin:Cv,marginTop:Cv,marginRight:Cv,marginBottom:Cv,marginLeft:Cv,rotate:_v,rotateX:_v,rotateY:_v,rotateZ:_v,scale:bv,scaleX:bv,scaleY:bv,scaleZ:bv,skew:_v,skewX:_v,skewY:_v,distance:Cv,translateX:Cv,translateY:Cv,translateZ:Cv,x:Cv,y:Cv,z:Cv,perspective:Cv,transformPerspective:Cv,opacity:vv,originX:Ov,originY:Ov,originZ:Cv,zIndex:Iv,fillOpacity:vv,strokeOpacity:vv,numOctaves:Iv};function Rv(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=e;let l=!1,u=!1,c=!0;for(const d in t){const e=t[d];if(fv(d)){s[d]=e;continue}const n=jv[d],r=mv(e,n);if(av.has(d)){if(l=!0,o[d]=r,!c)continue;e!==(n.default||0)&&(c=!1)}else d.startsWith("origin")?(u=!0,a[d]=r):i[d]=r}if(t.transform||(l||r?i.transform=function(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<dv;o++){const t=ov[o];void 0!==e[t]&&(s+=`${cv[t]||t}(${e[t]}) `)}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}(e.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;i.transformOrigin=`${e} ${t} ${n}`}}const Dv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Mv(e,t,n){for(const r in t)uv(t[r])||lv(r,n)||(e[r]=t[r])}function Lv(e,t,n){const r={};return Mv(r,e.style||{},e),Object.assign(r,function({transformTemplate:e},t,n){return je.useMemo((()=>{const r={style:{},transform:{},transformOrigin:{},vars:{}};return Rv(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)}),[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function Fv(e,t,n){const r={},i=Lv(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Vv=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uv(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Vv.has(e)}let zv=e=>!Uv(e);try{(Bv=require("@emotion/is-prop-valid").default)&&(zv=e=>e.startsWith("on")?!Uv(e):Bv(e))}catch(Xq){}var Bv;function $v(e,t,n){return"string"==typeof e?e:Cv.transform(t+n*e)}const qv={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gv={offset:"strokeDashoffset",array:"strokeDasharray"};function Hv(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,d,h){if(Rv(e,u,c,h),d)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==i||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){return`${$v(t,e.x,e.width)} ${$v(n,e.y,e.height)}`}(m,void 0!==i?i:.5,void 0!==s?s:.5)),void 0!==t&&(f.x=t),void 0!==n&&(f.y=n),void 0!==r&&(f.scale=r),void 0!==o&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?qv:Gv;e[s.offset]=Cv.transform(-r);const o=Cv.transform(t),a=Cv.transform(n);e[s.array]=`${o} ${a}`}(f,o,a,l,!1)}const Wv=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Kv=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Qv(e,t,n,r){const i=je.useMemo((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Hv(n,t,{enableHardwareAcceleration:!1},Kv(r),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Mv(t,e.style,e),i.style={...t,...i.style}}return i}function Yv(e=!1){return(t,n,r,{latestValues:i},s)=>{const o=(iv(t)?Qv:Fv)(n,i,s,t),a=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(zv(i)||!0===n&&Uv(i)||!t&&!Uv(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),l={...a,...o,ref:r},{children:u}=n,c=je.useMemo((()=>uv(u)?u.get():u),[u]);return je.createElement(t,{...l,children:c})}}function Xv(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const Jv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zv(e,t,n,r){Xv(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Jv.has(i)?i:Fy(i),t.attrs[i])}function eb(e,t){const{style:n}=e,r={};for(const i in n)(uv(n[i])||t.style&&uv(t.style[i])||lv(i,e))&&(r[i]=n[i]);return r}function tb(e,t){const n=eb(e,t);for(const r in e)if(uv(e[r])||uv(t[r])){n[-1!==ov.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function nb(e,t,n,r={},i={}){return"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}function rb(e){const t=je.useRef(null);return null===t.current&&(t.current=e()),t.current}const ib=e=>Array.isArray(e);function sb(e){const t=uv(e)?e.get():e;return n=t,Boolean(n&&"object"==typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const ob=e=>(t,n)=>{const r=je.useContext(jy),i=je.useContext(Ry),s=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:ab(r,i,s,e),renderState:t()};return n&&(o.mount=e=>n(r,e,o)),o}(e,t,r,i);return n?s():rb(s)};function ab(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=sb(s[h]);let{initial:o,animate:a}=e;const l=Gy(e),u=Hy(e);t&&u&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let c=!!n&&!1===n.initial;c=c||!1===o;const d=c?a:o;if(d&&"boolean"!=typeof d&&!By(d)){(Array.isArray(d)?d:[d]).forEach((t=>{const n=nb(e,t);if(!n)return;const{transitionEnd:r,transition:s,...o}=n;for(const e in o){let t=o[e];if(Array.isArray(t)){t=t[c?t.length-1:0]}null!==t&&(i[e]=t)}for(const e in r)i[e]=r[e]}))}return i}const lb=e=>e;class ub{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const cb=["prepare","read","update","preRender","render","postRender"];const{schedule:db,cancel:hb,state:fb,steps:pb}=function(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=cb.reduce(((e,t)=>(e[t]=function(e){let t=new ub,n=new ub,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(e,s=!1,a=!1)=>{const l=a&&i,u=l?t:n;return s&&o.add(e),u.add(e)&&l&&i&&(r=t.order.length),e},cancel:e=>{n.remove(e),o.delete(e)},process:l=>{if(i)s=!0;else{if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),o.has(r)&&(a.schedule(r),e())}i=!1,s&&(s=!1,a.process(l))}}};return a}((()=>n=!0)),e)),{}),o=e=>s[e].process(i),a=()=>{const s=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1),i.timestamp=s,i.isProcessing=!0,cb.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(a))};return{schedule:cb.reduce(((t,o)=>{const l=s[o];return t[o]=(t,s=!1,o=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(a)),l.schedule(t,s,o)),t}),{}),cancel:e=>cb.forEach((t=>s[t].cancel(e))),state:i,steps:s}}("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:lb,!0),mb={useVisualState:ob({scrapeMotionValuesFromProps:tb,createRenderState:Wv,onMount:(e,t,{renderState:n,latestValues:r})=>{db.read((()=>{try{n.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(Yq){n.dimensions={x:0,y:0,width:0,height:0}}})),db.render((()=>{Hv(n,r,{enableHardwareAcceleration:!1},Kv(t.tagName),e.transformTemplate),Zv(t,n)}))}})},gb={useVisualState:ob({scrapeMotionValuesFromProps:eb,createRenderState:Dv})};function yb(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const vb=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function bb(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function wb(e,t,n,r){return yb(e,t,(e=>t=>vb(t)&&e(t,bb(t)))(n),r)}const xb=(e,t)=>n=>t(e(n)),Eb=(...e)=>e.reduce(xb);function Tb(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Sb=Tb("dragHorizontal"),Pb=Tb("dragVertical");function _b(e){let t=!1;if("y"===e)t=Pb();else if("x"===e)t=Sb();else{const e=Sb(),n=Pb();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function kb(){const e=_b(!0);return!e||(e(),!1)}class Cb{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Nb(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return wb(e.current,n,((n,i)=>{if("touch"===n.pointerType||kb())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&db.update((()=>s[r](n,i)))}),{passive:!e.getProps()[r]})}const Ab=(e,t)=>!!t&&(e===t||Ab(e,t.parentElement));function Ob(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,bb(n))}const Ib=new WeakMap,jb=new WeakMap,Rb=e=>{const t=Ib.get(e.target);t&&t(e)},Db=e=>{e.forEach(Rb)};function Mb(e,t,n){const r=function({root:e,...t}){const n=e||document;jb.has(n)||jb.set(n,{});const r=jb.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Db,{root:e,...t})),r[i]}(t);return Ib.set(e,n),r.observe(e),()=>{Ib.delete(e),r.unobserve(e)}}const Lb={some:0,all:1};const Fb={inView:{Feature:class extends Cb{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:Lb[r]};return Mb(this.node.current,s,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)}))}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends Cb{constructor(){super(...arguments),this.removeStartListeners=lb,this.removeEndListeners=lb,this.removeAccessibleListeners=lb,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=wb(window,"pointerup",((e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:i}=this.node.getProps();db.update((()=>{i||Ab(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)}))}),{passive:!(n.onTap||n.onPointerUp)}),i=wb(window,"pointercancel",((e,t)=>this.cancelPress(e,t)),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Eb(r,i),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=yb(this.node.current,"keydown",(e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=yb(this.node.current,"keyup",(e=>{"Enter"===e.key&&this.checkPressEnd()&&Ob("up",((e,t)=>{const{onTap:n}=this.node.getProps();n&&db.update((()=>n(e,t)))}))})),Ob("down",((e,t)=>{this.startPress(e,t)}))})),t=yb(this.node.current,"blur",(()=>{this.isPressing&&Ob("cancel",((e,t)=>this.cancelPress(e,t)))}));this.removeAccessibleListeners=Eb(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&db.update((()=>n(e,t)))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kb()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&db.update((()=>n(e,t)))}mount(){const e=this.node.getProps(),t=wb(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=yb(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Eb(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends Cb{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(Yq){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Eb(yb(this.node.current,"focus",(()=>this.onFocus())),yb(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends Cb{mount(){this.unmount=Eb(Nb(this.node,!0),Nb(this.node,!1))}unmount(){}}}};function Vb(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ub(e,t,n){const r=e.getProps();return nb(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}let zb=lb,Bb=lb;const $b=e=>1e3*e,qb=e=>e/1e3,Gb=!1,Hb=e=>Array.isArray(e)&&"number"==typeof e[0];function Wb(e){return Boolean(!e||"string"==typeof e&&Qb[e]||Hb(e)||Array.isArray(e)&&e.every(Wb))}const Kb=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Qb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kb([0,.65,.55,1]),circOut:Kb([.55,0,1,.45]),backIn:Kb([.31,.01,.66,-.59]),backOut:Kb([.33,1.53,.69,.99])};function Yb(e){if(e)return Hb(e)?Kb(e):Array.isArray(e)?e.map(Yb):Qb[e]}const Xb=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Jb(e,t,n,r){if(e===t&&n===r)return lb;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=Xb(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:Xb(i(e),t,r)}const Zb=Jb(.42,0,1,1),ew=Jb(0,0,.58,1),tw=Jb(.42,0,.58,1),nw=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,rw=e=>t=>1-e(1-t),iw=e=>1-Math.sin(Math.acos(e)),sw=rw(iw),ow=nw(iw),aw=Jb(.33,1.53,.69,.99),lw=rw(aw),uw=nw(lw),cw={linear:lb,easeIn:Zb,easeInOut:tw,easeOut:ew,circIn:iw,circInOut:ow,circOut:sw,backIn:lw,backInOut:uw,backOut:aw,anticipate:e=>(e*=2)<1?.5*lw(e):.5*(2-Math.pow(2,-10*(e-1)))},dw=e=>{if(Array.isArray(e)){Bb(4===e.length);const[t,n,r,i]=e;return Jb(t,n,r,i)}return"string"==typeof e?cw[e]:e},hw=(e,t)=>n=>Boolean(Sv(n)&&Tv.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),fw=(e,t,n)=>r=>{if(!Sv(r))return r;const[i,s,o,a]=r.match(xv);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},pw={...yv,transform:e=>Math.round((e=>gv(0,255,e))(e))},mw={test:hw("rgb","red"),parse:fw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+pw.transform(e)+", "+pw.transform(t)+", "+pw.transform(n)+", "+wv(vv.transform(r))+")"};const gw={test:hw("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:mw.transform},yw={test:hw("hsl","hue"),parse:fw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+kv.transform(wv(t))+", "+kv.transform(wv(n))+", "+wv(vv.transform(r))+")"},vw={test:e=>mw.test(e)||gw.test(e)||yw.test(e),parse:e=>mw.test(e)?mw.parse(e):yw.test(e)?yw.parse(e):gw.parse(e),transform:e=>Sv(e)?e:e.hasOwnProperty("red")?mw.transform(e):yw.transform(e)},bw=(e,t,n)=>-n*e+n*t+e;function ww(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const xw=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Ew=[gw,mw,yw];function Tw(e){const t=(n=e,Ew.find((e=>e.test(n))));var n;let r=t.parse(e);return t===yw&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,s=0,o=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r;i=ww(a,r,e+1/3),s=ww(a,r,e),o=ww(a,r,e-1/3)}else i=s=o=n;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*o),alpha:r}}(r)),r}const Sw=(e,t)=>{const n=Tw(e),r=Tw(t),i={...n};return e=>(i.red=xw(n.red,r.red,e),i.green=xw(n.green,r.green,e),i.blue=xw(n.blue,r.blue,e),i.alpha=bw(n.alpha,r.alpha,e),mw.transform(i))};const Pw={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:lb},_w={regex:Ev,countKey:"Colors",token:"${c}",parse:vw.parse},kw={regex:xv,countKey:"Numbers",token:"${n}",parse:yv.parse};function Cw(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function Nw(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Cw(n,Pw),Cw(n,_w),Cw(n,kw),n}function Aw(e){return Nw(e).values}function Ow(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Nw(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(Pw.token,e[i]):i<r+n?t.replace(_w.token,vw.transform(e[i])):t.replace(kw.token,wv(e[i]));return t}}const Iw=e=>"number"==typeof e?0:e;const jw={test:function(e){var t,n;return isNaN(e)&&Sv(e)&&((null===(t=e.match(xv))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Ev))||void 0===n?void 0:n.length)||0)>0},parse:Aw,createTransformer:Ow,getAnimatableNone:function(e){const t=Aw(e);return Ow(e)(t.map(Iw))}},Rw=(e,t)=>n=>`${n>0?t:e}`;function Dw(e,t){return"number"==typeof e?n=>bw(e,t,n):vw.test(e)?Sw(e,t):e.startsWith("var(")?Rw(e,t):Fw(e,t)}const Mw=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>Dw(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},Lw=(e,t)=>{const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Dw(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}},Fw=(e,t)=>{const n=jw.createTransformer(t),r=Nw(e),i=Nw(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Eb(Mw(r.values,i.values),n):Rw(e,t)},Vw=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Uw=(e,t)=>n=>bw(e,t,n);function zw(e,t,n){const r=[],i=n||("number"==typeof(s=e[0])?Uw:"string"==typeof s?vw.test(s)?Sw:Fw:Array.isArray(s)?Mw:"object"==typeof s?Lw:Uw);var s;const o=e.length-1;for(let a=0;a<o;a++){let n=i(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||lb:t;n=Eb(e,n)}r.push(n)}return r}function Bw(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Bb(s===t.length),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=zw(t,r,i),a=o.length,l=t=>{let n=0;if(a>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Vw(e[n],e[n+1],t);return o[n](r)};return n?t=>l(gv(e[0],e[s-1],t)):l}function $w(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Vw(0,t,r);e.push(bw(n,1,i))}}(t,e.length-1),t}function qw({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(dw):dw(r),s={done:!1,value:t[0]},o=function(e,t){return e.map((e=>e*t))}(n&&n.length===t.length?n:$w(t),e),a=Bw(o,t,{ease:Array.isArray(i)?i:(l=t,u=i,l.map((()=>u||tw)).splice(0,l.length-1))});var l,u;return{calculatedDuration:e,next:t=>(s.value=a(t),s.done=t>=e,s)}}function Gw(e,t){return t?e*(1e3/t):0}function Hw(e,t,n){const r=Math.max(t-5,0);return Gw(n-e(r),t-r)}const Ww=.001;function Kw({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;zb(e<=$b(10));let o=1-t;o=gv(.05,1,o),e=gv(.01,10,qb(e)),o<1?(i=t=>{const r=t*o,i=r*e,s=r-n,a=Yw(t,o),l=Math.exp(-i);return Ww-s/a*l},s=t=>{const r=t*o*e,s=r*n+n,a=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-r),u=Yw(Math.pow(t,2),o);return(-i(t)+Ww>0?-1:1)*((s-a)*l)/u}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,s=t=>Math.exp(-t*e)*(e*e*(n-t)));const a=function(e,t,n){let r=n;for(let i=1;i<Qw;i++)r-=e(r)/t(r);return r}(i,s,5/e);if(e=$b(e),isNaN(a))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(a,2)*r;return{stiffness:t,damping:2*o*Math.sqrt(r*t),duration:e}}}const Qw=12;function Yw(e,t){return e*Math.sqrt(1-t*t)}const Xw=["duration","bounce"],Jw=["stiffness","damping","mass"];function Zw(e,t){return t.some((t=>void 0!==e[t]))}function ex({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:c,velocity:d,isResolvedFromDuration:h}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Zw(e,Jw)&&Zw(e,Xw)){const n=Kw(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}({...r,velocity:-qb(r.velocity||0)}),f=d||0,p=l/(2*Math.sqrt(a*u)),m=s-i,g=qb(Math.sqrt(a/u)),y=Math.abs(m)<5;let v;if(n||(n=y?.01:2),t||(t=y?.005:.5),p<1){const e=Yw(g,p);v=t=>{const n=Math.exp(-p*g*t);return s-n*((f+p*g*m)/e*Math.sin(e*t)+m*Math.cos(e*t))}}else if(1===p)v=e=>s-Math.exp(-g*e)*(m+(f+g*m)*e);else{const e=g*Math.sqrt(p*p-1);v=t=>{const n=Math.exp(-p*g*t),r=Math.min(e*t,300);return s-n*((f+p*g*m)*Math.sinh(r)+e*m*Math.cosh(r))/e}}return{calculatedDuration:h&&c||null,next:e=>{const r=v(e);if(h)o.done=e>=c;else{let i=f;0!==e&&(i=p<1?Hw(v,e,r):0);const a=Math.abs(i)<=n,l=Math.abs(s-r)<=t;o.done=a&&l}return o.value=o.done?s:r,o}}}function tx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],h={done:!1,value:d},f=e=>void 0===a?l:void 0===l||Math.abs(a-e)<Math.abs(l-e)?a:l;let p=n*t;const m=d+p,g=void 0===o?m:o(m);g!==m&&(p=g-d);const y=e=>-p*Math.exp(-e/r),v=e=>g+y(e),b=e=>{const t=y(e),n=v(e);h.done=Math.abs(t)<=u,h.value=h.done?g:n};let w,x;const E=e=>{var t;(t=h.value,void 0!==a&&t<a||void 0!==l&&t>l)&&(w=e,x=ex({keyframes:[h.value,f(h.value)],velocity:Hw(v,e,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return E(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==w||(t=!0,b(e),E(e)),void 0!==w&&e>w?x.next(e-w):(!t&&b(e),h)}}}const nx=e=>{const t=({timestamp:t})=>e(t);return{start:()=>db.update(t,!0),stop:()=>hb(t),now:()=>fb.isProcessing?fb.timestamp:performance.now()}};function rx(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const ix={decay:tx,inertia:tx,tween:qw,keyframes:qw,spring:ex};function sx({autoplay:e=!0,delay:t=0,driver:n=nx,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:d,...h}){let f,p,m=1,g=!1;const y=()=>{p=new Promise((e=>{f=e}))};let v;y();const b=ix[i]||qw;let w;b!==qw&&"number"!=typeof r[0]&&(w=Bw([0,100],r,{clamp:!1}),r=[0,100]);const x=b({...h,keyframes:r});let E;"mirror"===a&&(E=b({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let T="idle",S=null,P=null,_=null;null===x.calculatedDuration&&s&&(x.calculatedDuration=rx(x));const{calculatedDuration:k}=x;let C=1/0,N=1/0;null!==k&&(C=k+o,N=C*(s+1)-o);let A=0;const O=e=>{if(null===P)return;m>0&&(P=Math.min(P,e)),m<0&&(P=Math.min(e-N/m,P)),A=null!==S?S:Math.round(e-P)*m;const n=A-t*(m>=0?1:-1),i=m>=0?n<0:n>N;A=Math.max(n,0),"finished"===T&&null===S&&(A=N);let l=A,u=x;if(s){const e=Math.min(A,N)/C;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,s+1);Boolean(t%2)&&("reverse"===a?(n=1-n,o&&(n-=o/C)):"mirror"===a&&(u=E)),l=gv(0,1,n)*C}const c=i?{done:!1,value:r[0]}:u.next(l);w&&(c.value=w(c.value));let{done:h}=c;i||null===k||(h=m>=0?A>=N:A<=0);const f=null===S&&("finished"===T||"running"===T&&h);return d&&d(c.value),f&&R(),c},I=()=>{v&&v.stop(),v=void 0},j=()=>{T="idle",I(),f(),y(),P=_=null},R=()=>{T="finished",c&&c(),I(),f()},D=()=>{if(g)return;v||(v=n(O));const e=v.now();l&&l(),null!==S?P=e-S:P&&"finished"!==T||(P=e),"finished"===T&&y(),_=P,S=null,T="running",v.start()};e&&D();const M={then:(e,t)=>p.then(e,t),get time(){return qb(A)},set time(e){e=$b(e),A=e,null===S&&v&&0!==m?P=v.now()-e/m:S=e},get duration(){const e=null===x.calculatedDuration?rx(x):x.calculatedDuration;return qb(e)},get speed(){return m},set speed(e){e!==m&&v&&(m=e,M.time=qb(A))},get state(){return T},play:D,pause:()=>{T="paused",S=A},stop:()=>{g=!0,"idle"!==T&&(T="idle",u&&u(),j())},cancel:()=>{null!==_&&O(_),j()},complete:()=>{T="finished"},sample:e=>(P=0,O(e))};return M}const ox=function(e){let t;return()=>(void 0===t&&(t=e()),t)}((()=>Object.hasOwnProperty.call(Element.prototype,"animate"))),ax=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function lx(e,t,{onUpdate:n,onComplete:r,...i}){if(!(ox()&&ax.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;let s,o,a=!1,l=!1;const u=()=>{o=new Promise((e=>{s=e}))};u();let{keyframes:c,duration:d=300,ease:h,times:f}=i;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!Wb(t.ease))(t,i)){const e=sx({...i,repeat:0,delay:0});let t={done:!1,value:c[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;f=void 0,c=n,d=r-10,h="linear"}const p=function(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[t]:n};l&&(u.offset=l);const c=Yb(a);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"})}(e.owner.current,t,c,{...i,duration:d,ease:h,times:f}),m=()=>{l=!1,p.cancel()},g=()=>{l=!0,db.update(m),s(),u()};p.onfinish=()=>{l||(e.set(function(e,{repeat:t,repeatType:n="loop"}){return e[t&&"loop"!==n&&t%2==1?0:e.length-1]}(c,i)),r&&r(),g())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(p.timeline=e,p.onfinish=null,lb),get time(){return qb(p.currentTime||0)},set time(e){p.currentTime=$b(e)},get speed(){return p.playbackRate},set speed(e){p.playbackRate=e},get duration(){return qb(d)},play:()=>{a||(p.play(),hb(m))},pause:()=>p.pause(),stop:()=>{if(a=!0,"idle"===p.playState)return;const{currentTime:t}=p;if(t){const n=sx({...i,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}g()},complete:()=>{l||p.finish()},cancel:g}}const ux={type:"spring",stiffness:500,damping:25,restSpeed:10},cx={type:"keyframes",duration:.8},dx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hx=(e,{keyframes:t})=>t.length>2?cx:av.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:ux:dx,fx=(e,t)=>"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!jw.test(t)&&"0"!==t||t.startsWith("url("))),px=new Set(["brightness","contrast","saturate","opacity"]);function mx(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(xv)||[];if(!r)return e;const i=n.replace(r,"");let s=px.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const gx=/([a-z-]*)\(.*?\)/g,yx={...jw,getAnimatableNone:e=>{const t=e.match(gx);return t?t.map(mx).join(" "):e}},vx={...jv,color:vw,backgroundColor:vw,outlineColor:vw,fill:vw,stroke:vw,borderColor:vw,borderTopColor:vw,borderRightColor:vw,borderBottomColor:vw,borderLeftColor:vw,filter:yx,WebkitFilter:yx},bx=e=>vx[e];function wx(e,t){let n=bx(e);return n!==yx&&(n=jw),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xx=e=>/^0[^.\s]+$/.test(e);function Ex(e){return"number"==typeof e?0===e:null!==e?"none"===e||"0"===e||xx(e):void 0}function Tx(e,t){return e[t]||e.default||e}const Sx=!1,Px=(e,t,n,r={})=>i=>{const s=Tx(r,e)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a-=$b(o);const l=function(e,t,n,r){const i=fx(t,n);let s;s=Array.isArray(n)?[...n]:[null,n];const o=void 0!==r.from?r.from:e.get();let a;const l=[];for(let u=0;u<s.length;u++)null===s[u]&&(s[u]=0===u?o:s[u-1]),Ex(s[u])&&l.push(u),"string"==typeof s[u]&&"none"!==s[u]&&"0"!==s[u]&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++)s[l[u]]=wx(t,a);return s}(t,e,n,s),u=l[0],c=l[l.length-1],d=fx(e,u),h=fx(e,c);let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(s)||(f={...f,...hx(e,f)}),f.duration&&(f.duration=$b(f.duration)),f.repeatDelay&&(f.repeatDelay=$b(f.repeatDelay)),!d||!h||Gb||!1===s.type||Sx)return function({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:lb,pause:lb,stop:lb,then:e=>(e(),Promise.resolve()),cancel:lb,complete:lb});return t?sx({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}(f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=lx(t,e,f);if(n)return n}return sx(f)};function _x(e){return Boolean(uv(e)&&e.add)}const kx=e=>/^\-?\d*\.?\d+$/.test(e);function Cx(e,t){-1===e.indexOf(t)&&e.push(t)}function Nx(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ax{constructor(){this.subscriptions=[]}add(e){return Cx(this.subscriptions,e),()=>Nx(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class Ox{constructor(e,t={}){var n;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(e,t=!0)=>{this.prev=this.current,this.current=e;const{delta:n,timestamp:r}=fb;this.lastUpdated!==r&&(this.timeDelta=n,this.lastUpdated=r,db.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>db.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n))),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ax);const n=this.events[e].add(t);return"change"===e?()=>{n(),db.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Gw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ix(e,t){return new Ox(e,t)}const jx=e=>t=>t.test(e),Rx=[yv,Cv,kv,_v,Av,Nv,{test:e=>"auto"===e,parse:e=>e}],Dx=e=>Rx.find(jx(e)),Mx=[...Rx,vw,jw];function Lx(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ix(n))}function Fx(e,t){if(!t)return;return(t[e]||t.default||t).from}function Vx({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function Ux(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function zx(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(s=r);const u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const t=e.getValue(d),r=a[d];if(!t||void 0===r||c&&Vx(c,d))continue;const i={delay:n,elapsed:0,...Tx(s||{},d)};if(window.HandoffAppearAnimations){const n=e.getProps()[Vy];if(n){const e=window.HandoffAppearAnimations(n,d,t,db);null!==e&&(i.elapsed=e,i.isHandoff=!0)}}let o=!i.isHandoff&&!Ux(t,r);if("spring"===i.type&&(t.getVelocity()||i.velocity)&&(o=!1),t.animation&&(o=!1),o)continue;t.start(Px(d,t,r,e.shouldReduceMotion&&av.has(d)?{type:!1}:i));const h=t.animation;_x(l)&&(l.add(d),h.then((()=>l.remove(d)))),u.push(h)}return o&&Promise.all(u).then((()=>{o&&function(e,t){const n=Ub(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s)Lx(e,a,(o=s[a],ib(o)?o[o.length-1]||0:o));var o}(e,o)})),u}function Bx(e,t,n={}){const r=Ub(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(zx(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=1===i?(e=0)=>e*r:(e=0)=>a-e*r;return Array.from(e.variantChildren).sort($x).forEach(((e,r)=>{e.notify("AnimationStart",t),o.push(Bx(e,t,{...s,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(o)}(e,t,s+r,o,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[s,o]:[o,s];return e().then((()=>t()))}return Promise.all([s(),o(n.delay)])}function $x(e,t){return e.sortNodePosition(t)}const qx=[...$y].reverse(),Gx=$y.length;function Hx(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map((t=>Bx(e,t,n)));r=Promise.all(i)}else if("string"==typeof t)r=Bx(e,t,n);else{const i="function"==typeof t?Ub(e,t,n.custom):t;r=Promise.all(zx(e,i,n))}return r.then((()=>e.notify("AnimationComplete",t)))}(e,t,n))))}function Wx(e){let t=Hx(e);const n={animate:Qx(!0),whileInView:Qx(),whileHover:Qx(),whileTap:Qx(),whileDrag:Qx(),whileFocus:Qx(),exit:Qx()};let r=!0;const i=(t,n)=>{const r=Ub(e,n);if(r){const{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,o){const a=e.getProps(),l=e.getVariantContext(!0)||{},u=[],c=new Set;let d={},h=1/0;for(let t=0;t<Gx;t++){const f=qx[t],p=n[f],m=void 0!==a[f]?a[f]:l[f],g=zy(m),y=f===o?p.isActive:null;!1===y&&(h=t);let v=m===l[f]&&m!==a[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys={...d},!p.isActive&&null===y||!m&&!p.prevProp||By(m)||"boolean"==typeof m)continue;let b=Kx(p.prevProp,m)||f===o&&p.isActive&&!v&&g||t>h&&g,w=!1;const x=Array.isArray(m)?m:[m];let E=x.reduce(i,{});!1===y&&(E={});const{prevResolvedValues:T={}}=p,S={...T,...E},P=e=>{b=!0,c.has(e)&&(w=!0,c.delete(e)),p.needsAnimating[e]=!0};for(const e in S){const t=E[e],n=T[e];if(d.hasOwnProperty(e))continue;let r=!1;r=ib(t)&&ib(n)?!Vb(t,n):t!==n,r?void 0!==t?P(e):c.add(e):void 0!==t&&c.has(e)?P(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=E,p.isActive&&(d={...d,...E}),r&&e.blockInitialAnimation&&(b=!1),!b||v&&!w||u.push(...x.map((e=>({animation:e,options:{type:f,...s}}))))}if(c.size){const t={};c.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),u.push({animation:t})}let f=Boolean(u.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(u):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const a=s(i,t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Kx(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!Vb(t,e)}function Qx(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Yx=0;const Xx={animation:{Feature:class extends Cb{constructor(e){super(e),e.animationState||(e.animationState=Wx(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),By(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends Cb{constructor(){super(...arguments),this.id=Yx++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e,{custom:null!=n?n:this.node.getProps().custom});t&&!e&&i.then((()=>t(this.id)))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Jx=(e,t)=>Math.abs(e-t);class Zx{constructor(e,t,{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=nE(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Jx(e.x,t.x),r=Jx(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=fb;this.history.push({...r,timestamp:i});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=eE(t,this.transformPagePoint),db.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=nE("pointercancel"===e.type?this.lastMoveEventInfo:eE(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!vb(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const s=eE(bb(e),this.transformPagePoint),{point:o}=s,{timestamp:a}=fb;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=t;l&&l(e,nE(s,this.history)),this.removeListeners=Eb(wb(this.contextWindow,"pointermove",this.handlePointerMove),wb(this.contextWindow,"pointerup",this.handlePointerUp),wb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hb(this.updatePoint)}}function eE(e,t){return t?{point:t(e.point)}:e}function tE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nE({point:e},t){return{point:e,delta:tE(e,iE(t)),offset:tE(e,rE(t)),velocity:sE(t,.1)}}function rE(e){return e[0]}function iE(e){return e[e.length-1]}function sE(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=iE(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>$b(t)));)n--;if(!r)return{x:0,y:0};const s=qb(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function oE(e){return e.max-e.min}function aE(e,t=0,n=.01){return Math.abs(e-t)<=n}function lE(e,t,n,r=.5){e.origin=r,e.originPoint=bw(t.min,t.max,e.origin),e.scale=oE(n)/oE(t),(aE(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=bw(n.min,n.max,e.origin)-e.originPoint,(aE(e.translate)||isNaN(e.translate))&&(e.translate=0)}function uE(e,t,n,r){lE(e.x,t.x,n.x,r?r.originX:void 0),lE(e.y,t.y,n.y,r?r.originY:void 0)}function cE(e,t,n){e.min=n.min+t.min,e.max=e.min+oE(t)}function dE(e,t,n){e.min=t.min-n.min,e.max=e.min+oE(t)}function hE(e,t,n){dE(e.x,t.x,n.x),dE(e.y,t.y,n.y)}function fE(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function pE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const mE=.35;function gE(e,t,n){return{min:yE(e,t),max:yE(e,n)}}function yE(e,t){return"number"==typeof e?e:e[t]||0}function vE(e){return[e("x"),e("y")]}function bE({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function wE(e){return void 0===e||1===e}function xE({scale:e,scaleX:t,scaleY:n}){return!wE(e)||!wE(t)||!wE(n)}function EE(e){return xE(e)||TE(e)||e.z||e.rotate||e.rotateX||e.rotateY}function TE(e){return SE(e.x)||SE(e.y)}function SE(e){return e&&"0%"!==e}function PE(e,t,n){return n+t*(e-n)}function _E(e,t,n,r,i){return void 0!==i&&(e=PE(e,i,r)),PE(e,n,r)+t}function kE(e,t=0,n=1,r,i){e.min=_E(e.min,t,n,r,i),e.max=_E(e.max,t,n,r,i)}function CE(e,{x:t,y:n}){kE(e.x,t.translate,t.scale,t.originPoint),kE(e.y,n.translate,n.scale,n.originPoint)}function NE(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function AE(e,t){e.min=e.min+t,e.max=e.max+t}function OE(e,t,[n,r,i]){const s=void 0!==t[i]?t[i]:.5,o=bw(e.min,e.max,s);kE(e,t[n],t[r],o,t.scale)}const IE=["x","scaleX","originX"],jE=["y","scaleY","originY"];function RE(e,t){OE(e.x,t,IE),OE(e.y,t,jE)}function DE(e,t){return bE(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ME=({current:e})=>e?e.ownerDocument.defaultView:null,LE=new WeakMap;class FE{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Zx(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(bb(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=_b(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vE((e=>{let t=this.getAxisMotionValue(e).get()||0;if(kv.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=oE(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),i&&db.update((()=>i(e,t)),!1,!0);const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>vE((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:ME(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&db.update((()=>i(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!VE(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?bw(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?bw(n,e,r.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,i=this.constraints;t&&Uy(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:fE(e.x,n,i),y:fE(e.y,t,r)}}(r.layoutBox,t),this.elastic=function(e=mE){return!1===e?e=0:!0===e&&(e=mE),{x:gE(e,"left","right"),y:gE(e,"top","bottom")}}(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&vE((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Uy(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=DE(e,n),{scroll:i}=t;return i&&(AE(r.x,i.offset.x),AE(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:pE(e.x,t.x),y:pE(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=bE(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=vE((o=>{if(!VE(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,d={type:"inertia",velocity:n?e[o]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,d)}));return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(Px(e,n,0,t))}stopAnimation(){vE((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){vE((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){vE((t=>{const{drag:n}=this.getProps();if(!VE(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-bw(n,s,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Uy(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};vE((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=oE(e),i=oE(t);return i>r?n=Vw(t.min,t.max-r,e.min):r>i&&(n=Vw(e.min,e.max-i,t.min)),gv(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),vE((t=>{if(!VE(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(bw(i,s,r[t]))}))}addListeners(){if(!this.visualElement.current)return;LE.set(this.visualElement,this);const e=wb(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Uy(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const i=yb(window,"resize",(()=>this.scalePositionWithinConstraints())),s=n.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(vE((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=mE,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function VE(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const UE=e=>(t,n)=>{e&&db.update((()=>e(t,n)))};const zE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $E={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Cv.test(e))return e;e=parseFloat(e)}return`${BE(e,t.target.x)}% ${BE(e,t.target.y)}%`}},qE={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=jw.parse(e);if(i.length>5)return r;const s=jw.createTransformer(e),o="number"!=typeof i[0]?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const u=bw(a,l,.5);return"number"==typeof i[2+o]&&(i[2+o]/=u),"number"==typeof i[3+o]&&(i[3+o]/=u),s(i)}};class GE extends Re.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;var s;s=WE,Object.assign(sv,s),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",(()=>{this.safeToRemove()})),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s?(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||db.postRender((()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HE(e){const[t,n]=function(){const e=je.useContext(Ry);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=je.useId();return je.useEffect((()=>r(i)),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}(),r=je.useContext(Xy);return Re.createElement(GE,{...e,layoutGroup:r,switchLayoutGroup:je.useContext(Jy),isPresent:t,safeToRemove:n})}const WE={borderRadius:{...$E,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$E,borderTopRightRadius:$E,borderBottomLeftRadius:$E,borderBottomRightRadius:$E,boxShadow:qE},KE=["TopLeft","TopRight","BottomLeft","BottomRight"],QE=KE.length,YE=e=>"string"==typeof e?parseFloat(e):e,XE=e=>"number"==typeof e||Cv.test(e);function JE(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const ZE=tT(0,.5,sw),eT=tT(.5,.95,lb);function tT(e,t,n){return r=>r<e?0:r>t?1:n(Vw(e,t,r))}function nT(e,t){e.min=t.min,e.max=t.max}function rT(e,t){nT(e.x,t.x),nT(e.y,t.y)}function iT(e,t,n,r,i){return e=PE(e-=t,1/n,r),void 0!==i&&(e=PE(e,1/i,r)),e}function sT(e,t,[n,r,i],s,o){!function(e,t=0,n=1,r=.5,i,s=e,o=e){kv.test(t)&&(t=parseFloat(t),t=bw(o.min,o.max,t/100)-o.min);if("number"!=typeof t)return;let a=bw(s.min,s.max,r);e===s&&(a-=t),e.min=iT(e.min,t,n,a,i),e.max=iT(e.max,t,n,a,i)}(e,t[n],t[r],t[i],t.scale,s,o)}const oT=["x","scaleX","originX"],aT=["y","scaleY","originY"];function lT(e,t,n,r){sT(e.x,t,oT,n?n.x:void 0,r?r.x:void 0),sT(e.y,t,aT,n?n.y:void 0,r?r.y:void 0)}function uT(e){return 0===e.translate&&1===e.scale}function cT(e){return uT(e.x)&&uT(e.y)}function dT(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function hT(e){return oE(e.x)/oE(e.y)}class fT{constructor(){this.members=[]}add(e){Cx(this.members,e),e.scheduleRender()}remove(e){if(Nx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pT(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return 1===o&&1===a||(r+=`scale(${o}, ${a})`),r||"none"}const mT=(e,t)=>e.depth-t.depth;class gT{constructor(){this.children=[],this.isDirty=!1}add(e){Cx(this.children,e),this.isDirty=!0}remove(e){Nx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mT),this.isDirty=!1,this.children.forEach(e)}}const yT=["","X","Y","Z"],vT={visibility:"hidden"};let bT=0;const wT={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function xT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=bT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,wT.totalNodes=wT.resolvedTargetDeltas=wT.recalculatedProjection=0,this.nodes.forEach(ST),this.nodes.forEach(OT),this.nodes.forEach(IT),this.nodes.forEach(PT),e=wT,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new gT)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Ax),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;var r;this.isSVG=(r=t)instanceof SVGElement&&"svg"!==r.tagName,this.instance=t;const{layoutId:i,layout:s,visualElement:o}=this.options;if(o&&!o.current&&o.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(s||i)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(hb(r),e(s-t))};return db.read(r,!0),()=>hb(r)}(r,250),zE.hasAnimatedSinceResize&&(zE.hasAnimatedSinceResize=!1,this.nodes.forEach(AT))}))}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&o&&(i||s)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||o.getDefaultTransition()||FT,{onLayoutAnimationStart:s,onLayoutAnimationComplete:a}=o.getProps(),l=!this.targetLayout||!dT(this.targetLayout,r)||n,u=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);const t={...Tx(i,"layout"),onPlay:s,onComplete:a};(o.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||AT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hb(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jT),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(kT);this.isUpdating||this.nodes.forEach(CT),this.isUpdating=!1,this.nodes.forEach(NT),this.nodes.forEach(ET),this.nodes.forEach(TT),this.clearAllSnapshots();const e=performance.now();fb.delta=gv(0,1e3/60,e-fb.timestamp),fb.timestamp=e,fb.isProcessing=!0,pb.update.process(fb),pb.preRender.process(fb),pb.render.process(fb),fb.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask((()=>this.update())))}clearAllSnapshots(){this.nodes.forEach(_T),this.sharedNodes.forEach(RT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,db.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){db.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!cT(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||EE(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),zT((r=n).x),zT(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(AE(t.x,n.offset.x),AE(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};rT(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){rT(t,e);const{scroll:n}=this.root;n&&(AE(t.x,-n.offset.x),AE(t.y,-n.offset.y))}AE(t.x,i.offset.x),AE(t.y,i.offset.y)}}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};rT(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&RE(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),EE(e.latestValues)&&RE(n,e.latestValues)}return EE(this.latestValues)&&RE(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};rT(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!EE(e.latestValues))continue;xE(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};rT(r,e.measurePageBox()),lT(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return EE(this.latestValues)&&lT(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fb.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:i,layoutId:s}=this.options;if(this.layout&&(i||s)){if(this.resolvedRelativeTargetAt=fb.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},hE(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),rT(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var o,a,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,a=this.relativeTarget,l=this.relativeParent.target,cE(o.x,a.x,l.x),cE(o.y,a.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):rT(this.target,this.layout.layoutBox),CE(this.target,this.targetDelta)):rT(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},hE(this.relativeTargetOrigin,this.target,e.target),rT(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wT.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!xE(this.parent.latestValues)&&!TE(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===fb.timestamp&&(r=!1),r)return;const{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!i&&!s)return;rT(this.layoutCorrected,this.layout.layoutBox);const o=this.treeScale.x,a=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const i=s.instance;i&&i.style&&"contents"===i.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&RE(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,CE(e,o)),r&&EE(s.latestValues)&&RE(e,s.latestValues))}t.x=NE(t.x),t.y=NE(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const u=this.projectionTransform;uE(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=pT(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===o&&this.treeScale.y===a||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),wT.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(a&&!u&&!0===this.options.crossfade&&!this.path.some(LT));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p;DT(s.x,e.x,n),DT(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hE(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l=this.relativeTarget,h=this.relativeTargetOrigin,f=o,p=n,MT(l.x,h.x,f.x,p),MT(l.y,h.y,f.y,p),d&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),rT(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=bw(0,void 0!==n.opacity?n.opacity:1,ZE(r)),e.opacityExit=bw(void 0!==t.opacity?t.opacity:1,0,eT(r))):s&&(e.opacity=bw(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<QE;o++){const i=`border${KE[o]}Radius`;let s=JE(t,i),a=JE(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||XE(s)===XE(a)?(e[i]=Math.max(bw(YE(s),YE(a),r),0),(kv.test(a)||kv.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=bw(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hb(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=db.update((()=>{zE.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=uv(e)?e:Ix(e);return r.start(Px("",r,t,n)),r.animation}(0,1e3,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&BT(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=oE(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=oE(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}rT(t,n),RE(t,i),uE(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new fT);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let i=0;i<yT.length;i++){const t="rotate"+yT[i];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const i in r)e.setStaticValue(i,r[i]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vT;const r={visibility:""},i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=sb(null==e?void 0:e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;const s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=sb(null==e?void 0:e.pointerEvents)||""),this.hasProjected&&!EE(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const o=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=pT(this.projectionDeltaWithTransform,this.treeScale,o),i&&(r.transform=i(o,r.transform));const{x:a,y:l}=this.projectionDelta;r.transformOrigin=`${100*a.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=o.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:r.opacity=s===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const u in sv){if(void 0===o[u])continue;const{correct:e,applyTo:t}=sv[u],n="none"===r.transform?o[u]:e(o[u],s);if(t){const e=t.length;for(let i=0;i<e;i++)r[t[i]]=n}else r[u]=n}return this.options.layoutId&&(r.pointerEvents=s===this?sb(null==e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(kT),this.root.sharedNodes.clear()}}}function ET(e){e.updateLayout()}function TT(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?vE((e=>{const r=s?n.measuredBox[e]:n.layoutBox[e],i=oE(r);r.min=t[e].min,r.max=r.min+i})):BT(i,n.layoutBox,t)&&vE((r=>{const i=s?n.measuredBox[r]:n.layoutBox[r],o=oE(t[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)}));const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};uE(o,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?uE(a,e.applyTransform(r,!0),n.measuredBox):uE(a,t,n.layoutBox);const l=!cT(o);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};hE(o,n.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};hE(a,t,s.layoutBox),dT(o,a)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ST(e){wT.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function PT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _T(e){e.clearSnapshot()}function kT(e){e.clearMeasurements()}function CT(e){e.isLayoutDirty=!1}function NT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function AT(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function OT(e){e.resolveTargetDelta()}function IT(e){e.calcProjection()}function jT(e){e.resetRotation()}function RT(e){e.removeLeadSnapshot()}function DT(e,t,n){e.translate=bw(t.translate,0,n),e.scale=bw(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function MT(e,t,n,r){e.min=bw(t.min,n.min,r),e.max=bw(t.max,n.max,r)}function LT(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const FT={duration:.45,ease:[.4,0,.1,1]},VT=e=>"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().includes(e),UT=VT("applewebkit/")&&!VT("chrome/")?Math.round:lb;function zT(e){e.min=UT(e.min),e.max=UT(e.max)}function BT(e,t,n){return"position"===e||"preserve-aspect"===e&&!aE(hT(t),hT(n),.2)}const $T=xT({attachResizeListener:(e,t)=>yb(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qT={current:void 0},GT=xT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!qT.current){const e=new $T({});e.mount(window),e.setOptions({layoutScroll:!0}),qT.current=e}return qT.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),HT={pan:{Feature:class extends Cb{constructor(){super(...arguments),this.removePointerDownListener=lb}onPointerDown(e){this.session=new Zx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ME(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:UE(e),onStart:UE(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&db.update((()=>r(e,t)))}}}mount(){this.removePointerDownListener=wb(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends Cb{constructor(e){super(e),this.removeGroupControls=lb,this.removeListeners=lb,this.controls=new FE(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lb}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:GT,MeasureLayout:HE}},WT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function KT(e,t,n=1){const[r,i]=function(e){const t=WT.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return kx(e)?parseFloat(e):e}return pv(i)?KT(i,t,n+1):i}const QT=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),YT=e=>QT.has(e),XT=e=>e===yv||e===Cv,JT=(e,t)=>parseFloat(e.split(", ")[t]),ZT=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return JT(i[1],t);{const t=r.match(/^matrix\((.+)\)$/);return t?JT(t[1],e):0}},eS=new Set(["x","y","z"]),tS=ov.filter((e=>!eS.has(e)));const nS={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ZT(4,13),y:ZT(5,14)};nS.translateX=nS.x,nS.translateY=nS.y;const rS=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(YT);let s=[],o=!1;const a=[];if(i.forEach((i=>{const l=e.getValue(i);if(!e.hasValue(i))return;let u=n[i],c=Dx(u);const d=t[i];let h;if(ib(d)){const e=d.length,t=null===d[0]?1:0;u=d[t],c=Dx(u);for(let n=t;n<e&&null!==d[n];n++)h?Bb(Dx(d[n])===h):h=Dx(d[n])}else h=Dx(d);if(c!==h)if(XT(c)&&XT(h)){const e=l.get();"string"==typeof e&&l.set(parseFloat(e)),"string"==typeof d?t[i]=parseFloat(d):Array.isArray(d)&&h===Cv&&(t[i]=d.map(parseFloat))}else(null==c?void 0:c.transform)&&(null==h?void 0:h.transform)&&(0===u||0===d)?0===u?l.set(h.transform(u)):t[i]=c.transform(d):(o||(s=function(e){const t=[];return tS.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),o=!0),a.push(i),r[i]=void 0!==r[i]?r[i]:t[i],l.jump(d))})),a.length){const n=a.indexOf("height")>=0?window.pageYOffset:null,i=((e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,a={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{a[e]=nS[e](r,s)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);r&&r.jump(a[n]),e[n]=nS[n](l,s)})),e})(t,e,a);return s.length&&s.forEach((([t,n])=>{e.getValue(t).set(n)})),e.render(),Dy&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}return{target:t,transitionEnd:r}};function iS(e,t,n,r){return(e=>Object.keys(e).some(YT))(t)?rS(e,t,n,r):{target:t,transitionEnd:r}}const sS=(e,t,n,r)=>{const i=function(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!pv(t))return;const n=KT(t,r);n&&e.set(n)}));for(const i in t){const e=t[i];if(!pv(e))continue;const s=KT(e,r);s&&(t[i]=s,n||(n={}),void 0===n[i]&&(n[i]=e))}return{target:t,transitionEnd:n}}(e,t,r);return iS(e,t=i.target,n,r=i.transitionEnd)},oS={current:null},aS={current:!1};const lS=new WeakMap,uS=Object.keys(Yy),cS=uS.length,dS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],hS=qy.length;class fS{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>db.render(this.render,!1,!0);const{latestValues:o,renderState:a}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=Gy(t),this.isVariantNode=Hy(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(t,{});for(const c in u){const e=u[c];void 0!==o[c]&&uv(e)&&(e.set(o[c],!1),_x(l)&&l.add(c))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,lS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),aS.current||function(){if(aS.current=!0,Dy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>oS.current=e.matches;e.addListener(t),t()}else oS.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||oS.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lS.delete(this.current),this.projection&&this.projection.unmount(),hb(this.notifyUpdate),hb(this.render),this.valueSubscriptions.forEach((e=>e())),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=av.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&db.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),i()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures({children:e,...t},n,r,i){let s,o;for(let a=0;a<cS;a++){const e=uS[a],{isEnabled:n,Feature:r,ProjectionNode:i,MeasureLayout:l}=Yy[e];i&&(s=i),n(t)&&(!this.features[e]&&r&&(this.features[e]=new r(this)),l&&(o=l))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:n,drag:r,dragConstraints:o,layoutScroll:a,layoutRoot:l}=t;this.projection.setOptions({layoutId:e,layout:n,alwaysMeasureLayout:Boolean(r)||o&&Uy(o),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:i,layoutScroll:a,layoutRoot:l})}return o}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<dS.length;n++){const t=dS[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(uv(s))e.addValue(i,s),_x(r)&&r.add(i);else if(uv(o))e.addValue(i,Ix(s,{owner:e})),_x(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const t=e.getValue(i);!t.hasAnimated&&t.set(s)}else{const t=e.getStaticValue(i);e.addValue(i,Ix(void 0!==t?t:s,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const t={};for(let n=0;n<hS;n++){const e=qy[n],r=this.props[e];(zy(r)||!1===r)&&(t[e]=r)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Ix(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"==typeof n||"object"==typeof n?null===(t=nb(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const i=this.getBaseTargetFromProps(this.props,e);return void 0===i||uv(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new Ax),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class pS extends fS{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},i){let s=function(e,t,n){const r={};for(const i in e){const e=Fx(i,t);if(void 0!==e)r[i]=e;else{const e=n.getValue(i);e&&(r[i]=e.get())}}return r}(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),s&&(s=r(s))),i){!function(e,t,n){var r,i;const s=Object.keys(t).filter((t=>!e.hasValue(t))),o=s.length;var a;if(o)for(let l=0;l<o;l++){const o=s[l],u=t[o];let c=null;Array.isArray(u)&&(c=u[0]),null===c&&(c=null!==(i=null!==(r=n[o])&&void 0!==r?r:e.readValue(o))&&void 0!==i?i:t[o]),null!=c&&("string"==typeof c&&(kx(c)||xx(c))?c=parseFloat(c):(a=c,!Mx.find(jx(a))&&jw.test(u)&&(c=wx(o,u))),e.addValue(o,Ix(c,{owner:e})),void 0===n[o]&&(n[o]=c),null!==c&&e.setBaseTarget(o,c))}}(this,n,s);const e=sS(this,n,s,t);t=e.transitionEnd,n=e.target}return{transition:e,transitionEnd:t,...n}}}class mS extends pS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(av.has(t)){const e=bx(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),i=(fv(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return DE(e,t)}build(e,t,n,r){Rv(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return eb(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;uv(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}renderInstance(e,t,n,r){Xv(e,t,n,r)}}class gS extends pS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(av.has(t)){const e=bx(t);return e&&e.default||0}return t=Jv.has(t)?t:Fy(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return tb(e,t)}build(e,t,n,r){Hv(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Zv(e,t,0,r)}mount(e){this.isSVGTag=Kv(e.tagName),super.mount(e)}}const yS=(e,t)=>iv(e)?new gS(t,{enableHardwareAcceleration:!1}):new mS(t,{enableHardwareAcceleration:!0}),vS={...Xx,...Fb,...HT,...{layout:{ProjectionNode:GT,MeasureLayout:HE}}},bS=nv(((e,t)=>function(e,{forwardMotionProps:t=!1},n,r){return{...iv(e)?mb:gb,preloadedFeatures:n,useRender:Yv(t),createVisualElement:r,Component:e}}(e,t,vS,yS)));function wS(){const e=je.useRef(!1);return My((()=>(e.current=!0,()=>{e.current=!1})),[]),e}class xS extends je.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ES({children:e,isPresent:t}){const n=je.useId(),r=je.useRef(null),i=je.useRef({width:0,height:0,top:0,left:0});return je.useInsertionEffect((()=>{const{width:e,height:s,top:o,left:a}=i.current;if(t||!r.current||!e||!s)return;r.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${s}px !important;\n            top: ${o}px !important;\n            left: ${a}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[t]),je.createElement(xS,{isPresent:t,childRef:r,sizeRef:i},je.cloneElement(e,{ref:r}))}const TS=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=rb(SS),l=je.useId(),u=je.useMemo((()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:e=>{a.set(e,!0);for(const t of a.values())if(!t)return;r&&r()},register:e=>(a.set(e,!1),()=>a.delete(e))})),s?void 0:[n]);return je.useMemo((()=>{a.forEach(((e,t)=>a.set(t,!1)))}),[n]),je.useEffect((()=>{!n&&!a.size&&r&&r()}),[n]),"popLayout"===o&&(e=je.createElement(ES,{isPresent:n},e)),je.createElement(Ry.Provider,{value:u},e)};function SS(){return new Map}const PS=e=>e.key||"";const _S=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=je.useContext(Xy).forceRender||function(){const e=wS(),[t,n]=je.useState(0),r=je.useCallback((()=>{e.current&&n(t+1)}),[t]);return[je.useCallback((()=>db.postRender(r)),[r]),t]}()[0],l=wS(),u=function(e){const t=[];return je.Children.forEach(e,(e=>{je.isValidElement(e)&&t.push(e)})),t}(e);let c=u;const d=je.useRef(new Map).current,h=je.useRef(c),f=je.useRef(new Map).current,p=je.useRef(!0);var m;if(My((()=>{p.current=!1,function(e,t){e.forEach((e=>{const n=PS(e);t.set(n,e)}))}(u,f),h.current=c})),m=()=>{p.current=!0,f.clear(),d.clear()},je.useEffect((()=>()=>m()),[]),p.current)return je.createElement(je.Fragment,null,c.map((e=>je.createElement(TS,{key:PS(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:s,mode:o},e))));c=[...c];const g=h.current.map(PS),y=u.map(PS),v=g.length;for(let b=0;b<v;b++){const e=g[b];-1!==y.indexOf(e)||d.has(e)||d.set(e,void 0)}return"wait"===o&&d.size&&(c=[]),d.forEach(((e,n)=>{if(-1!==y.indexOf(n))return;const i=f.get(n);if(!i)return;const p=g.indexOf(n);let m=e;if(!m){const e=()=>{d.delete(n);const e=Array.from(f.keys()).filter((e=>!y.includes(e)));if(e.forEach((e=>f.delete(e))),h.current=u.filter((t=>{const r=PS(t);return r===n||e.includes(r)})),!d.size){if(!1===l.current)return;a(),r&&r()}};m=je.createElement(TS,{key:PS(i),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:s,mode:o},i),d.set(n,m)}c.splice(p,0,m)})),c=c.map((e=>{const t=e.key;return d.has(t)?e:je.createElement(TS,{key:PS(e),isPresent:!0,presenceAffectsLayout:s,mode:o},e)})),je.createElement(je.Fragment,null,d.size?c:c.map((e=>je.cloneElement(e))))},kS=({children:e,duration:t=.5,delay:n=0,className:r=""})=>$e.jsx(bS.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:t,delay:n,ease:"easeInOut"},className:r,children:e}),CS=({children:e,scale:t=1.03,className:n=""})=>$e.jsx(bS.div,{whileHover:{scale:t},whileTap:{scale:.98},transition:{duration:.2},className:n,children:e}),NS=({size:e=48,className:t=""})=>$e.jsxs(bS.svg,{width:e,height:e,viewBox:"0 0 50 50",className:t,children:[$e.jsx(bS.circle,{cx:"25",cy:"25",r:"20",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.5,ease:"easeInOut"}}),$e.jsx(bS.path,{d:"M15 25 L22 32 L35 18",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:.5,delay:.3,ease:"easeInOut"}})]})
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */,AS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},OS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(AS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new IS;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class IS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jS=function(e){return function(e){const t=AS(e);return OS.encodeByteArray(t,!0)}(e).replace(/\./g,"")};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const RS=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,DS=()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Yq){return}const t=e&&function(e){try{return OS.decodeString(e,!0)}catch(Yq){console.error("base64Decode failed: ",Yq)}return null}(e[1]);return t&&JSON.parse(t)},MS=()=>{try{return RS()||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e={}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||DS()}catch(Yq){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Yq}`)}},LS=e=>{const t=(e=>{var t,n;return null===(n=null===(t=MS())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},FS=()=>{var e;return null===(e=MS())||void 0===e?void 0:e.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class VS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(){return!function(){var e;const t=null===(e=MS())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Yq){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class zS extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,zS.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,BS.prototype.create)}}class BS{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace($S,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new zS(r,o,n)}}const $S=/\{\$([^}]+)}/g;function qS(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(GS(n)&&GS(s)){if(!qS(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function GS(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(e){return e&&e._delegate?e._delegate:e}class WS{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new VS;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Yq){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Yq){if(r)return null;throw Yq}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:KS})}catch(Yq){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Yq){}}}}clearInstance(e=KS){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=KS){return this.instances.has(e)}getOptions(e=KS){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(Xq){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===KS?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(Xq){}var r;return n||null}normalizeInstanceIdentifier(e=KS){return this.component?this.component.multipleInstances?e:KS:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class YS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XS,JS;(JS=XS||(XS={}))[JS.DEBUG=0]="DEBUG",JS[JS.VERBOSE=1]="VERBOSE",JS[JS.INFO=2]="INFO",JS[JS.WARN=3]="WARN",JS[JS.ERROR=4]="ERROR",JS[JS.SILENT=5]="SILENT";const ZS={debug:XS.DEBUG,verbose:XS.VERBOSE,info:XS.INFO,warn:XS.WARN,error:XS.ERROR,silent:XS.SILENT},eP=XS.INFO,tP={[XS.DEBUG]:"log",[XS.VERBOSE]:"log",[XS.INFO]:"info",[XS.WARN]:"warn",[XS.ERROR]:"error"},nP=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=tP[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class rP{constructor(e){this.name=e,this._logLevel=eP,this._logHandler=nP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in XS))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ZS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,XS.DEBUG,...e),this._logHandler(this,XS.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,XS.VERBOSE,...e),this._logHandler(this,XS.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,XS.INFO,...e),this._logHandler(this,XS.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,XS.WARN,...e),this._logHandler(this,XS.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,XS.ERROR,...e),this._logHandler(this,XS.ERROR,...e)}}let iP,sP;const oP=new WeakMap,aP=new WeakMap,lP=new WeakMap,uP=new WeakMap,cP=new WeakMap;let dP={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return aP.get(e);if("objectStoreNames"===t)return e.objectStoreNames||lP.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pP(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function hP(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(sP||(sP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(mP(this),t),pP(oP.get(this))}:function(...t){return pP(e.apply(mP(this),t))}:function(t,...n){const r=e.call(mP(this),t,...n);return lP.set(r,t.sort?t.sort():[t]),pP(r)}}function fP(e){return"function"==typeof e?hP(e):(e instanceof IDBTransaction&&function(e){if(aP.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));aP.set(e,t)}(e),t=e,(iP||(iP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,dP):e);var t}function pP(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(pP(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&oP.set(t,e)})).catch((()=>{})),cP.set(t,e),t}(e);if(uP.has(e))return uP.get(e);const t=fP(e);return t!==e&&(uP.set(e,t),cP.set(t,e)),t}const mP=e=>cP.get(e);const gP=["get","getKey","getAll","getAllKeys","count"],yP=["put","add","delete","clear"],vP=new Map;function bP(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(vP.get(t))return vP.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=yP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gP.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return vP.set(t,s),s}dP=(e=>({...e,get:(t,n,r)=>bP(t,n)||e.get(t,n,r),has:(t,n)=>!!bP(t,n)||e.has(t,n)}))(dP);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const xP="@firebase/app",EP="0.10.13",TP=new rP("@firebase/app"),SP="@firebase/app-compat",PP="@firebase/analytics-compat",_P="@firebase/analytics",kP="@firebase/app-check-compat",CP="@firebase/app-check",NP="@firebase/auth",AP="@firebase/auth-compat",OP="@firebase/database",IP="@firebase/data-connect",jP="@firebase/database-compat",RP="@firebase/functions",DP="@firebase/functions-compat",MP="@firebase/installations",LP="@firebase/installations-compat",FP="@firebase/messaging",VP="@firebase/messaging-compat",UP="@firebase/performance",zP="@firebase/performance-compat",BP="@firebase/remote-config",$P="@firebase/remote-config-compat",qP="@firebase/storage",GP="@firebase/storage-compat",HP="@firebase/firestore",WP="@firebase/vertexai-preview",KP="@firebase/firestore-compat",QP="firebase",YP="[DEFAULT]",XP={[xP]:"fire-core",[SP]:"fire-core-compat",[_P]:"fire-analytics",[PP]:"fire-analytics-compat",[CP]:"fire-app-check",[kP]:"fire-app-check-compat",[NP]:"fire-auth",[AP]:"fire-auth-compat",[OP]:"fire-rtdb",[IP]:"fire-data-connect",[jP]:"fire-rtdb-compat",[RP]:"fire-fn",[DP]:"fire-fn-compat",[MP]:"fire-iid",[LP]:"fire-iid-compat",[FP]:"fire-fcm",[VP]:"fire-fcm-compat",[UP]:"fire-perf",[zP]:"fire-perf-compat",[BP]:"fire-rc",[$P]:"fire-rc-compat",[qP]:"fire-gcs",[GP]:"fire-gcs-compat",[HP]:"fire-fst",[KP]:"fire-fst-compat",[WP]:"fire-vertex","fire-js":"fire-js",[QP]:"fire-js-all"},JP=new Map,ZP=new Map,e_=new Map;function t_(e,t){try{e.container.addComponent(t)}catch(Yq){TP.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Yq)}}function n_(e){const t=e.name;if(e_.has(t))return TP.debug(`There were multiple attempts to register component ${t}.`),!1;e_.set(t,e);for(const n of JP.values())t_(n,e);for(const n of ZP.values())t_(n,e);return!0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r_=new BS("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class i_{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new WS("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw r_.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:YP,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw r_.create("bad-app-name",{appName:String(i)});if(n||(n=FS()),!n)throw r_.create("no-options");const s=JP.get(i);if(s){if(qS(n,s.options)&&qS(r,s.config))return s;throw r_.create("duplicate-app",{appName:i})}const o=new YS(i);for(const l of e_.values())o.addComponent(l);const a=new i_(n,r,o);return JP.set(i,a),a}function o_(e,t,n){var r;let i=null!==(r=XP[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void TP.warn(e.join(" "))}n_(new WS(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="firebase-heartbeat-store";let l_=null;function u_(){return l_||(l_=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=pP(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(pP(o.result),e.oldVersion,e.newVersion,pP(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(a_)}catch(Yq){console.warn(Yq)}}}).catch((e=>{throw r_.create("idb-open",{originalErrorMessage:e.message})}))),l_}async function c_(e,t){try{const n=(await u_()).transaction(a_,"readwrite"),r=n.objectStore(a_);await r.put(t,d_(e)),await n.done}catch(Yq){if(Yq instanceof zS)TP.warn(Yq.message);else{const t=r_.create("idb-set",{originalErrorMessage:null==Yq?void 0:Yq.message});TP.warn(t.message)}}}function d_(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new p_(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=f_();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(Yq){TP.warn(Yq)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=f_(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),m_(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),m_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=jS(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Yq){return TP.warn(Yq),""}}}function f_(){return(new Date).toISOString().substring(0,10)}class p_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(Yq){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await u_()).transaction(a_),n=await t.objectStore(a_).get(d_(e));return await t.done,n}catch(Yq){if(Yq instanceof zS)TP.warn(Yq.message);else{const t=r_.create("idb-get",{originalErrorMessage:null==Yq?void 0:Yq.message});TP.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return c_(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return c_(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function m_(e){return jS(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g_;g_="",n_(new WS("platform-logger",(e=>new wP(e)),"PRIVATE")),n_(new WS("heartbeat",(e=>new h_(e)),"PRIVATE")),o_(xP,EP,g_),o_(xP,EP,"esm2017"),o_("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
o_("firebase","10.14.1","app");var y_,v_,b_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);d(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,v_=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},y_=r}).apply(void 0!==b_?b_:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var w_,x_,E_,T_,S_,P_,__,k_,C_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof C_&&C_];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function T(e){i.setTimeout((()=>{throw e}),0)}function S(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var P=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new _),(e=>e.reset()));class _{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let k,C=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=P.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);k=()=>{e.then(O)}};var O=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){T(n)}var t=P;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function I(){this.s=this.s,this.C=this.C}function j(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},j.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(j.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}d(D,j);var M={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=$(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new V(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),G={};function H(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function X(e){return e in G?G[e]:G[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"==typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){I.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new j(t,e);else if(t instanceof j)t.target=t.target||e;else{var i=t;x(t=new j(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"==typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,I),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends I{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){I.call(this),this.h=e,this.g={}}d(le,I);var ue=[];function ce(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){j.call(this,"d")}function be(){j.call(this,"c")}d(ve,j),d(be,j);var we={},xe=null;function Ee(){return xe=xe||new ne}function Te(e){j.call(this,we.La,e)}function Se(e){const t=Ee();re(t,new Te(t))}function Pe(e,t){j.call(this,we.STAT_EVENT,e),this.stat=t}function _e(e){const t=Ee();re(t,new Pe(t,e))}function ke(e,t){j.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Ae(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",d(Te,j),we.STAT_EVENT="statevent",d(Pe,j),we.Ma="timingevent",d(ke,j),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Oe,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}d(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Oe=new Re;var Le={},Fe={};function Ve(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),$e(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var o=H(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(u(e.ba,e),t)}function Ge(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}rn(n),_e(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(u(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(Ge(a),$e(a)),r.g=o}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=u[0]&&"close"!=u[0]||cn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?cn(n,7):Kt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Se()}catch(c){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=h||7==t||Se(),Ge(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Gt(this.g);e="";var s=r.length,o=4==qt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){We(this),He(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,_e(12),We(this),He(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Be(this,a),e==Fe){4==h&&(this.s=4,_e(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,_e(15),Ae(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Ke(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,_e(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(d),d.M=!0,_e(11))}}else Ae(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),He(this)}else Ae(this.i,this.l,a,null),Ke(this,a);4==h&&We(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),We(this),He(this)}}}catch(h){}},De.prototype.cancel=function(){this.J=!0,We(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(),_e(17)),We(this),this.s=2,He(this)):qe(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(s(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),St(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new wt(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function dt(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){xt(e),t=Pt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Tt(e,t){return xt(e),t=Pt(e,t),e.g.has(t)}function St(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(Pt(e,t),h(n)),e.h+=n.length)}function Pt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function kt(){this.g=new fe}function Ct(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Yq){throw t.push(r+"type="+encodeURIComponent("_badmap")),Yq}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,jt(e)}function jt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Dt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=Pt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"==typeof e)Tt(this,e)&&(t=t.concat(this.g.get(Pt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,Tt(this,e=Pt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(Nt,pe),Nt.prototype.g=function(){return new At(this.l,this.j)},Nt.prototype.i=function(e){return function(){return e}}({}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,jt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):jt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),Bt(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Lt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<qt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Ut(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Yq){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ht(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ht("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ht("baseRetryDelayMs",5e3,e),this.cb=Ht("retryDelaySeedMs",1e4,e),this.Wa=Ht("forwardChannelMaxRetries",2,e),this.wa=Ht("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new kt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Kt(e){if(Yt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),Zt(e,n),(t=new De(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Qt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;k||A(),C||(k(),C=!0),N.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),Zt(e,r),e.m&&e.o&&Dt(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,r,t)}function Zt(e,t){e.H&&v(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Ct(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;k||A(),C||(k(),C=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(u(e.Fa,e),un(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),Zt(e,t),e.m&&e.o&&Dt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new ke(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Ce(u(e.Ga,e,t),un(e,e.B)),e.B++,0)))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),dt(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=c(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=c(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(_t,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),_t(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)})).catch((()=>{clearTimeout(r),_t(0,0,!1,t)}))}(r.toString(),n)}else _e(2);e.G=0,e.l&&e.l.sa(t),dn(e),Yt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),Zt(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new Nt({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Wt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?me(this.o):me(Oe),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(nn){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(nn){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Wt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ct(n=ot(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),Zt(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Rt(s)))+"&"+t:this.m&&Dt(n,this.m,s)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,Ve(i,n,null)):Ve(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Xe(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),Qt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),_e(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Kt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,be),d(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new yn(e))},bn.prototype.sa=function(e){re(this.g,new vn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,k_=function(){return new mn},__=function(){return Ee()},P_=we,S_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,T_=Ie,je.COMPLETE="complete",E_=je,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,x_=ge,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,w_=Mt}).apply(void 0!==C_?C_:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const N_="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}A_.UNAUTHENTICATED=new A_(null),A_.GOOGLE_CREDENTIALS=new A_("google-credentials-uid"),A_.FIRST_PARTY=new A_("first-party-uid"),A_.MOCK_USER=new A_("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let O_="10.14.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=new rP("@firebase/firestore");function j_(){return I_.logLevel}function R_(e,...t){if(I_.logLevel<=XS.DEBUG){const n=t.map(L_);I_.debug(`Firestore (${O_}): ${e}`,...n)}}function D_(e,...t){if(I_.logLevel<=XS.ERROR){const n=t.map(L_);I_.error(`Firestore (${O_}): ${e}`,...n)}}function M_(e,...t){if(I_.logLevel<=XS.WARN){const n=t.map(L_);I_.warn(`Firestore (${O_}): ${e}`,...n)}}function L_(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(e="Unexpected state"){const t=`FIRESTORE (${O_}) INTERNAL ASSERTION FAILED: `+e;throw D_(t),new Error(t)}function V_(e,t){e||F_()}function U_(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B_ extends zS{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(A_.UNAUTHENTICATED)))}shutdown(){}}class H_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class W_{constructor(e){this.t=e,this.currentUser=A_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){V_(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new $_;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $_,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{R_("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(R_("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $_)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(R_("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(V_("string"==typeof t.accessToken),new q_(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return V_(null===e||"string"==typeof e),new A_(e)}}class K_{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=A_.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Q_{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new K_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(A_.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X_{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){V_(void 0===this.o);const n=e=>{null!=e.error&&R_("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,R_("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{R_("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):R_("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(V_("string"==typeof e.token),this.R=e.token,new Y_(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=J_(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ek(e,t){return e<t?-1:e>t?1:0}function tk(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B_(z_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B_(z_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new B_(z_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B_(z_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nk.fromMillis(Date.now())}static fromDate(e){return nk.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new nk(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ek(this.nanoseconds,e.nanoseconds):ek(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rk(e)}static min(){return new rk(new nk(0,0))}static max(){return new rk(new nk(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,t,n){void 0===t?t=0:t>e.length&&F_(),void 0===n?n=e.length-t:n>e.length-t&&F_(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ik.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ik?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sk extends ik{construct(e,t,n){return new sk(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new B_(z_.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new sk(t)}static emptyPath(){return new sk([])}}const ok=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ak extends ik{construct(e,t,n){return new ak(e,t,n)}static isValidIdentifier(e){return ok.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ak.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ak(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new B_(z_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new B_(z_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new B_(z_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new B_(z_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ak(t)}static emptyPath(){return new ak([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.path=e}static fromPath(e){return new lk(sk.fromString(e))}static fromName(e){return new lk(sk.fromString(e).popFirst(5))}static empty(){return new lk(sk.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sk.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sk.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lk(new sk(e.slice()))}}function uk(e){return new ck(e.readTime,e.key,-1)}class ck{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ck(rk.min(),lk.empty(),-1)}static max(){return new ck(rk.max(),lk.empty(),-1)}}function dk(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=lk.comparator(e.documentKey,t.documentKey),0!==n?n:ek(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class hk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(e){if(e.code!==z_.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;R_("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&F_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pk(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof pk?t:pk.resolve(t)}catch(t){return pk.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):pk.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):pk.reject(t)}static resolve(e){return new pk(((t,n)=>{t(e)}))}static reject(e){return new pk(((t,n)=>{n(e)}))}static waitFor(e){return new pk(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=pk.resolve(!1);for(const n of e)t=t.next((e=>e?pk.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new pk(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new pk(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function mk(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function yk(e){return null==e}function vk(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bk(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wk(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xk(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gk.oe=-1;class Ek{constructor(e,t){this.comparator=e,this.root=t||Sk.EMPTY}insert(e,t){return new Ek(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sk.BLACK,null,null))}remove(e){return new Ek(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sk.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tk(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tk(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tk(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tk(this.root,e,this.comparator,!0)}}class Tk{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sk{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Sk.RED,this.left=null!=r?r:Sk.EMPTY,this.right=null!=i?i:Sk.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Sk(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sk.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Sk.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sk.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sk.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw F_();if(this.right.isRed())throw F_();const e=this.left.check();if(e!==this.right.check())throw F_();return e+(this.isRed()?0:1)}}Sk.EMPTY=null,Sk.RED=!0,Sk.BLACK=!1,Sk.EMPTY=new class{constructor(){this.size=0}get key(){throw F_()}get value(){throw F_()}get color(){throw F_()}get left(){throw F_()}get right(){throw F_()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Sk(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pk{constructor(e){this.comparator=e,this.data=new Ek(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _k(this.data.getIterator())}getIteratorFrom(e){return new _k(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Pk))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pk(this.comparator);return t.data=e,t}}class _k{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.fields=e,e.sort(ak.comparator)}static empty(){return new kk([])}unionWith(e){let t=new Pk(ak.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new kk(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tk(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Ck("Invalid base64 string: "+t):t}}(e);return new Nk(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Nk(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ek(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nk.EMPTY_BYTE_STRING=new Nk("");const Ak=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ok(e){if(V_(!!e),"string"==typeof e){let t=0;const n=Ak.exec(e);if(V_(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ik(e.seconds),nanos:Ik(e.nanos)}}function Ik(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jk(e){return"string"==typeof e?Nk.fromBase64String(e):Nk.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dk(e){const t=e.mapValue.fields.__previous_value__;return Rk(t)?Dk(t):t}function Mk(e){const t=Ok(e.mapValue.fields.__local_write_time__.timestampValue);return new nk(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Fk{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fk("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fk&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk={fields:{__type__:{stringValue:"__max__"}}};function Uk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rk(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}(e)?10:11:F_()}function zk(e,t){if(e===t)return!0;const n=Uk(e);if(n!==Uk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mk(e).isEqual(Mk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ok(e.timestampValue),r=Ok(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,jk(e.bytesValue).isEqual(jk(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ik(e.geoPointValue.latitude)===Ik(t.geoPointValue.latitude)&&Ik(e.geoPointValue.longitude)===Ik(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ik(e.integerValue)===Ik(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ik(e.doubleValue),r=Ik(t.doubleValue);return n===r?vk(n)===vk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return tk(e.arrayValue.values||[],t.arrayValue.values||[],zk);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bk(n)!==bk(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zk(n[i],r[i])))return!1;return!0}(e,t);default:return F_()}var r}function Bk(e,t){return void 0!==(e.values||[]).find((e=>zk(e,t)))}function $k(e,t){if(e===t)return 0;const n=Uk(e),r=Uk(t);if(n!==r)return ek(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ek(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ik(e.integerValue||e.doubleValue),r=Ik(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qk(e.timestampValue,t.timestampValue);case 4:return qk(Mk(e),Mk(t));case 5:return ek(e.stringValue,t.stringValue);case 6:return function(e,t){const n=jk(e),r=jk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ek(n[i],r[i]);if(0!==e)return e}return ek(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ek(Ik(e.latitude),Ik(t.latitude));return 0!==n?n:ek(Ik(e.longitude),Ik(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Gk(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,u=null===(r=a.value)||void 0===r?void 0:r.arrayValue,c=ek((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:Gk(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Vk&&t===Vk)return 0;if(e===Vk)return 1;if(t===Vk)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=ek(r[o],s[o]);if(0!==e)return e;const t=$k(n[r[o]],i[s[o]]);if(0!==t)return t}return ek(r.length,s.length)}(e.mapValue,t.mapValue);default:throw F_()}}function qk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ek(e,t);const n=Ok(e),r=Ok(t),i=ek(n.seconds,r.seconds);return 0!==i?i:ek(n.nanos,r.nanos)}function Gk(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=$k(n[i],r[i]);if(e)return e}return ek(n.length,r.length)}function Hk(e){return Wk(e)}function Wk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ok(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jk(e.bytesValue).toBase64():"referenceValue"in e?function(e){return lk.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Wk(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Wk(e.fields[i])}`;return n+"}"}(e.mapValue):F_()}function Kk(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Qk(e){return!!e&&"integerValue"in e}function Yk(e){return!!e&&"arrayValue"in e}function Xk(e){return!!e&&"nullValue"in e}function Jk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zk(e){return!!e&&"mapValue"in e}function eC(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wk(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=eC(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=eC(e.arrayValue.values[n]);return t}return Object.assign({},e)}class tC{constructor(e){this.value=e}static empty(){return new tC({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zk(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eC(t)}setAll(e){let t=ak.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=eC(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Zk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zk(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){wk(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new tC(eC(this.value))}}function nC(e){const t=[];return wk(e.fields,((e,n)=>{const r=new ak([e]);if(Zk(n)){const e=nC(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new kk(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class rC{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new rC(e,0,rk.min(),rk.min(),rk.min(),tC.empty(),0)}static newFoundDocument(e,t,n,r){return new rC(e,1,t,rk.min(),n,r,0)}static newNoDocument(e,t){return new rC(e,2,t,rk.min(),rk.min(),tC.empty(),0)}static newUnknownDocument(e,t){return new rC(e,3,t,rk.min(),rk.min(),tC.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rk.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tC.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tC.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rk.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rC&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rC(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t){this.position=e,this.inclusive=t}}function sC(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?lk.comparator(lk.fromName(o.referenceValue),n.key):$k(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function oC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zk(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t="asc"){this.field=e,this.dir=t}}function lC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{}class cC extends uC{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new yC(e,t,n):"array-contains"===t?new xC(e,n):"in"===t?new EC(e,n):"not-in"===t?new TC(e,n):"array-contains-any"===t?new SC(e,n):new cC(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new vC(e,n):new bC(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($k(t,this.value)):null!==t&&Uk(this.value)===Uk(t)&&this.matchesComparison($k(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F_()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dC extends uC{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new dC(e,t)}matches(e){return hC(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hC(e){return"and"===e.op}function fC(e){return function(e){for(const t of e.filters)if(t instanceof dC)return!1;return!0}(e)&&hC(e)}function pC(e){if(e instanceof cC)return e.field.canonicalString()+e.op.toString()+Hk(e.value);if(fC(e))return e.filters.map((e=>pC(e))).join(",");{const t=e.filters.map((e=>pC(e))).join(",");return`${e.op}(${t})`}}function mC(e,t){return e instanceof cC?(n=e,(r=t)instanceof cC&&n.op===r.op&&n.field.isEqual(r.field)&&zk(n.value,r.value)):e instanceof dC?function(e,t){return t instanceof dC&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&mC(n,t.filters[r])),!0)}(e,t):void F_();var n,r}function gC(e){return e instanceof cC?`${(t=e).field.canonicalString()} ${t.op} ${Hk(t.value)}`:e instanceof dC?function(e){return e.op.toString()+" {"+e.getFilters().map(gC).join(" ,")+"}"}(e):"Filter";var t}class yC extends cC{constructor(e,t,n){super(e,t,n),this.key=lk.fromName(n.referenceValue)}matches(e){const t=lk.comparator(e.key,this.key);return this.matchesComparison(t)}}class vC extends cC{constructor(e,t){super(e,"in",t),this.keys=wC("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class bC extends cC{constructor(e,t){super(e,"not-in",t),this.keys=wC("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>lk.fromName(e.referenceValue)))}class xC extends cC{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yk(t)&&Bk(t.arrayValue,this.value)}}class EC extends cC{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Bk(this.value.arrayValue,t)}}class TC extends cC{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Bk(this.value.arrayValue,t)}}class SC extends cC{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yk(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Bk(this.value.arrayValue,e)))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function _C(e,t=null,n=[],r=[],i=null,s=null,o=null){return new PC(e,t,n,r,i,s,o)}function kC(e){const t=U_(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>pC(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>{return(t=e).field.canonicalString()+t.dir;var t})).join(","),yk(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Hk(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Hk(e))).join(",")),t.ue=e}return t.ue}function CC(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!mC(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!oC(e.startAt,t.startAt)&&oC(e.endAt,t.endAt)}function NC(e){return lk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OC(e){return new AC(e)}function IC(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function jC(e){return null!==e.collectionGroup}function RC(e){const t=U_(e);if(null===t.ce){t.ce=[];const e=new Set;for(const r of t.explicitOrderBy)t.ce.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new Pk(ak.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new aC(r,n))})),e.has(ak.keyField().canonicalString())||t.ce.push(new aC(ak.keyField(),n))}return t.ce}function DC(e){const t=U_(e);return t.le||(t.le=function(e,t){if("F"===e.limitType)return _C(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new aC(e.field,t)}));const n=e.endAt?new iC(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new iC(e.startAt.position,e.startAt.inclusive):null;return _C(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,RC(e))),t.le}function MC(e,t){const n=e.filters.concat([t]);return new AC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function LC(e,t,n){return new AC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function FC(e,t){return CC(DC(e),DC(t))&&e.limitType===t.limitType}function VC(e){return`${kC(DC(e))}|lt:${e.limitType}`}function UC(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>gC(e))).join(", ")}]`),yk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t})).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Hk(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Hk(e))).join(",")),`Target(${t})`}(DC(e))}; limitType=${e.limitType})`}function zC(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):lk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of RC(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=sC(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,RC(n),r)||n.endAt&&!function(e,t,n){const r=sC(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,RC(n),r)));var n,r}function BC(e){return(t,n)=>{let r=!1;for(const i of RC(e)){const e=$C(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function $C(e,t,n){const r=e.field.isKeyField()?lk.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$k(r,i):F_()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return F_()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wk(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return xk(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new Ek(lk.comparator);function HC(){return GC}const WC=new Ek(lk.comparator);function KC(...e){let t=WC;for(const n of e)t=t.insert(n.key,n);return t}function QC(e){let t=WC;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function YC(){return JC()}function XC(){return JC()}function JC(){return new qC((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ZC=new Ek(lk.comparator),eN=new Pk(lk.comparator);function tN(...e){let t=eN;for(const n of e)t=t.add(n);return t}const nN=new Pk(ek);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rN(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vk(t)?"-0":t}}function iN(e){return{integerValue:""+e}}function sN(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!vk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?iN(t):rN(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this._=void 0}}function aN(e,t,n){return e instanceof cN?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Rk(t)&&(t=Dk(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof dN?hN(e,t):e instanceof fN?pN(e,t):function(e,t){const n=uN(e,t),r=gN(n)+gN(e.Pe);return Qk(n)&&Qk(e.Pe)?iN(r):rN(e.serializer,r)}(e,t)}function lN(e,t,n){return e instanceof dN?hN(e,t):e instanceof fN?pN(e,t):n}function uN(e,t){return e instanceof mN?Qk(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class cN extends oN{}class dN extends oN{constructor(e){super(),this.elements=e}}function hN(e,t){const n=yN(t);for(const r of e.elements)n.some((e=>zk(e,r)))||n.push(r);return{arrayValue:{values:n}}}class fN extends oN{constructor(e){super(),this.elements=e}}function pN(e,t){let n=yN(t);for(const r of e.elements)n=n.filter((e=>!zk(e,r)));return{arrayValue:{values:n}}}class mN extends oN{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function gN(e){return Ik(e.integerValue||e.doubleValue)}function yN(e){return Yk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class vN{constructor(e,t){this.version=e,this.transformResults=t}}class bN{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bN}static exists(e){return new bN(void 0,e)}static updateTime(e){return new bN(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wN(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class xN{}function EN(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new IN(e.key,bN.none()):new kN(e.key,e.data,bN.none());{const n=e.data,r=tC.empty();let i=new Pk(ak.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new CN(e.key,r,new kk(i.toArray()),bN.none())}}function TN(e,t,n){var r;e instanceof kN?function(e,t,n){const r=e.value.clone(),i=AN(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof CN?function(e,t,n){if(!wN(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=AN(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(NN(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function SN(e,t,n,r){return e instanceof kN?function(e,t,n,r){if(!wN(e.precondition,t))return n;const i=e.value.clone(),s=ON(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof CN?function(e,t,n,r){if(!wN(e.precondition,t))return n;const i=ON(e.fieldTransforms,r,t),s=t.data;return s.setAll(NN(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):(i=t,s=n,wN(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s);var i,s}function PN(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=uN(r.transform,e||null);null!=i&&(null===n&&(n=tC.empty()),n.set(r.field,i))}return n||null}function _N(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&tk(n,r,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof dN&&r instanceof dN||n instanceof fN&&r instanceof fN?tk(n.elements,r.elements,zk):n instanceof mN&&r instanceof mN?zk(n.Pe,r.Pe):n instanceof cN&&r instanceof cN);var n,r}(e,t))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class kN extends xN{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class CN extends xN{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function NN(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function AN(e,t,n){const r=new Map;V_(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,lN(o,a,n[i]))}return r}function ON(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,aN(e,s,t))}return r}class IN extends xN{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jN extends xN{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&TN(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=SN(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=SN(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=XC();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=EN(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(rk.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),tN())}isEqual(e){return this.batchId===e.batchId&&tk(this.mutations,e.mutations,((e,t)=>_N(e,t)))&&tk(this.baseMutations,e.baseMutations,((e,t)=>_N(e,t)))}}class DN{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){V_(e.mutations.length===n.length);let r=ZC;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new DN(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FN,VN;function UN(e){if(void 0===e)return D_("GRPC error has no .code"),z_.UNKNOWN;switch(e){case FN.OK:return z_.OK;case FN.CANCELLED:return z_.CANCELLED;case FN.UNKNOWN:return z_.UNKNOWN;case FN.DEADLINE_EXCEEDED:return z_.DEADLINE_EXCEEDED;case FN.RESOURCE_EXHAUSTED:return z_.RESOURCE_EXHAUSTED;case FN.INTERNAL:return z_.INTERNAL;case FN.UNAVAILABLE:return z_.UNAVAILABLE;case FN.UNAUTHENTICATED:return z_.UNAUTHENTICATED;case FN.INVALID_ARGUMENT:return z_.INVALID_ARGUMENT;case FN.NOT_FOUND:return z_.NOT_FOUND;case FN.ALREADY_EXISTS:return z_.ALREADY_EXISTS;case FN.PERMISSION_DENIED:return z_.PERMISSION_DENIED;case FN.FAILED_PRECONDITION:return z_.FAILED_PRECONDITION;case FN.ABORTED:return z_.ABORTED;case FN.OUT_OF_RANGE:return z_.OUT_OF_RANGE;case FN.UNIMPLEMENTED:return z_.UNIMPLEMENTED;case FN.DATA_LOSS:return z_.DATA_LOSS;default:return F_()}}(VN=FN||(FN={}))[VN.OK=0]="OK",VN[VN.CANCELLED=1]="CANCELLED",VN[VN.UNKNOWN=2]="UNKNOWN",VN[VN.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",VN[VN.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",VN[VN.NOT_FOUND=5]="NOT_FOUND",VN[VN.ALREADY_EXISTS=6]="ALREADY_EXISTS",VN[VN.PERMISSION_DENIED=7]="PERMISSION_DENIED",VN[VN.UNAUTHENTICATED=16]="UNAUTHENTICATED",VN[VN.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",VN[VN.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",VN[VN.ABORTED=10]="ABORTED",VN[VN.OUT_OF_RANGE=11]="OUT_OF_RANGE",VN[VN.UNIMPLEMENTED=12]="UNIMPLEMENTED",VN[VN.INTERNAL=13]="INTERNAL",VN[VN.UNAVAILABLE=14]="UNAVAILABLE",VN[VN.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const zN=new y_([4294967295,4294967295],0);function BN(e){const t=(new TextEncoder).encode(e),n=new v_;return n.update(t),new Uint8Array(n.digest())}function $N(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new y_([n,r],0),new y_([i,s],0)]}class qN{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new GN(`Invalid padding: ${t}`);if(n<0)throw new GN(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new GN(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new GN(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=y_.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(y_.fromNumber(n)));return 1===r.compare(zN)&&(r=new y_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=BN(e),[n,r]=$N(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new qN(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=BN(e),[n,r]=$N(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class GN extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,WN.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new HN(rk.min(),r,new Ek(ek),HC(),tN())}}class WN{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new WN(n,t,tN(),tN(),tN())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class QN{constructor(e,t){this.targetId=e,this.me=t}}class YN{constructor(e,t,n=Nk.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class XN{constructor(){this.fe=0,this.ge=eA(),this.pe=Nk.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=tN(),t=tN(),n=tN();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:F_()}})),new WN(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=eA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,V_(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JN{constructor(e){this.Le=e,this.Be=new Map,this.ke=HC(),this.qe=ZN(),this.Qe=new Ek(ek)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:F_()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(NC(i))if(0===n){const e=new lk(i.path);this.Ue(t,e,rC.newNoDocument(e,rk.min()))}else V_(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=jk(n).toUint8Array()}catch(a){if(a instanceof Ck)return M_("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{o=new qN(s,r,i)}catch(a){return M_(a instanceof GN?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&NC(i.target)){const t=new lk(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,rC.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=tN();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new HN(e,t,this.Qe,this.ke,n);return this.ke=HC(),this.qe=ZN(),this.Qe=new Ek(ek),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new XN,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Pk(ek),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||R_("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new XN),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ZN(){return new Ek(lk.comparator)}function eA(){return new Ek(lk.comparator)}const tA={asc:"ASCENDING",desc:"DESCENDING"},nA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rA={and:"AND",or:"OR"};class iA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sA(e,t){return e.useProto3Json||yk(t)?t:{value:t}}function oA(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function lA(e,t){return oA(e,t.toTimestamp())}function uA(e){return V_(!!e),rk.fromTimestamp(function(e){const t=Ok(e);return new nk(t.seconds,t.nanos)}(e))}function cA(e,t){return dA(e,t).canonicalString()}function dA(e,t){const n=(r=e,new sk(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function hA(e){const t=sk.fromString(e);return V_(AA(t)),t}function fA(e,t){return cA(e.databaseId,t.path)}function pA(e,t){const n=hA(t);if(n.get(1)!==e.databaseId.projectId)throw new B_(z_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new B_(z_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new lk(yA(n))}function mA(e,t){return cA(e.databaseId,t)}function gA(e){return new sk(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function yA(e){return V_(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vA(e,t,n){return{name:fA(e,t),fields:n.value.mapValue.fields}}function bA(e,t){return{documents:[mA(e,t.path)]}}function wA(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mA(e,i);const s=function(e){if(0!==e.length)return CA(dC.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>{return{field:_A((t=e).field),direction:TA(t.dir)};var t}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sA(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i};var l}function xA(e){let t=function(e){const t=hA(e);return 4===t.length?sk.emptyPath():yA(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){V_(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=EA(e);return t instanceof dC&&fC(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>{return new aC(kA((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,yk(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new iC(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new iC(n,t)}(n.endAt)),function(e,t,n,r,i,s,o,a){return new AC(e,t,n,r,i,s,o,a)}(t,i,o,s,a,"F",l,u)}function EA(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=kA(e.unaryFilter.field);return cC.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=kA(e.unaryFilter.field);return cC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kA(e.unaryFilter.field);return cC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=kA(e.unaryFilter.field);return cC.create(i,"!=",{nullValue:"NULL_VALUE"});default:return F_()}}(e):void 0!==e.fieldFilter?(t=e,cC.create(kA(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F_()}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return dC.create(e.compositeFilter.filters.map((e=>EA(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return F_()}}(e.compositeFilter.op))}(e):F_();var t}function TA(e){return tA[e]}function SA(e){return nA[e]}function PA(e){return rA[e]}function _A(e){return{fieldPath:e.canonicalString()}}function kA(e){return ak.fromServerFormat(e.fieldPath)}function CA(e){return e instanceof cC?function(e){if("=="===e.op){if(Jk(e.value))return{unaryFilter:{field:_A(e.field),op:"IS_NAN"}};if(Xk(e.value))return{unaryFilter:{field:_A(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jk(e.value))return{unaryFilter:{field:_A(e.field),op:"IS_NOT_NAN"}};if(Xk(e.value))return{unaryFilter:{field:_A(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_A(e.field),op:SA(e.op),value:e.value}}}(e):e instanceof dC?function(e){const t=e.getFilters().map((e=>CA(e)));return 1===t.length?t[0]:{compositeFilter:{op:PA(e.op),filters:t}}}(e):F_()}function NA(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function AA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,t,n,r,i=rk.min(),s=rk.min(),o=Nk.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new OA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new OA(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new OA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new OA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.ct=e}}function jA(e){const t=xA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?LC(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.un=new DA}addToCollectionParentIndex(e,t){return this.un.add(t),pk.resolve()}getCollectionParents(e,t){return pk.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return pk.resolve()}deleteFieldIndex(e,t){return pk.resolve()}deleteAllFieldIndexes(e){return pk.resolve()}createTargetIndexes(e,t){return pk.resolve()}getDocumentsMatchingTarget(e,t){return pk.resolve(null)}getIndexType(e,t){return pk.resolve(0)}getFieldIndexes(e,t){return pk.resolve([])}getNextCollectionGroupToUpdate(e){return pk.resolve(null)}getMinOffset(e,t){return pk.resolve(ck.min())}getMinOffsetFromCollectionGroup(e,t){return pk.resolve(ck.min())}updateCollectionGroup(e,t,n){return pk.resolve()}updateIndexEntries(e,t){return pk.resolve()}}class DA{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Pk(sk.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Pk(sk.comparator)).toArray()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new MA(0)}static kn(){return new MA(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.changes=new qC((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rC.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?pk.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&SN(n.mutation,e,kk.empty(),nk.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,tN()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=tN()){const r=YC();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=KC();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=YC();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,tN())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=HC();const s=JC(),o=JC();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof CN)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),SN(o.mutation,t,o.mutation.getFieldMask(),nk.now())):s.set(t.key,kk.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new FA(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=JC();let r=new Ek(((e,t)=>e-t)),i=tN();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||kk.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||tN()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=XC();l.forEach((e=>{if(!i.has(e)){const r=EN(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return pk.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return i=t,lk.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):jC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):pk.resolve(YC());let o=-1,a=i;return s.next((t=>pk.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?pk.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,tN()))).next((e=>({batchId:o,changes:QC(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lk(t)).next((e=>{let t=KC();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=KC();return this.indexManager.getCollectionParents(e,i).next((o=>pk.forEach(o,(o=>{const a=(l=t,u=o.child(i),new AC(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,rC.newInvalidDocument(r)))}));let n=KC();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&SN(s.mutation,r,kk.empty(),nk.now()),zC(t,r)&&(n=n.insert(e,r))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return pk.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(n=t).id,version:n.version,createTime:uA(n.createTime)}),pk.resolve();var n}getNamedQuery(e,t){return pk.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(n=t).name,query:jA(n.bundledQuery),readTime:uA(n.readTime)}),pk.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.overlays=new Ek(lk.comparator),this.Ir=new Map}getOverlay(e,t){return pk.resolve(this.overlays.get(t))}getOverlays(e,t){const n=YC();return pk.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),pk.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),pk.resolve()}getOverlaysForCollection(e,t,n){const r=YC(),i=t.length+1,s=new lk(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return pk.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Ek(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=YC(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=YC(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return pk.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new MN(t,n));let i=this.Ir.get(t);void 0===i&&(i=tN(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(){this.sessionToken=Nk.EMPTY_BYTE_STRING}getSessionToken(e){return pk.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pk.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.Tr=new Pk(qA.Er),this.dr=new Pk(qA.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new qA(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new qA(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new lk(new sk([])),n=new qA(t,e),r=new qA(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new lk(new sk([])),n=new qA(t,e),r=new qA(t,e+1);let i=tN();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new qA(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class qA{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return lk.comparator(e.key,t.key)||ek(e.wr,t.wr)}static Ar(e,t){return ek(e.wr,t.wr)||lk.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Pk(qA.Er)}checkEmpty(e){return pk.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new RN(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new qA(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return pk.resolve(s)}lookupMutationBatch(e,t){return pk.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return pk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return pk.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return pk.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qA(t,0),r=new qA(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),pk.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Pk(ek);return t.forEach((e=>{const t=new qA(e,0),r=new qA(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),pk.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;lk.isDocumentKey(i)||(i=i.child(""));const s=new qA(new lk(i),0);let o=new Pk(ek);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),s),pk.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){V_(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return pk.forEach(t.mutations,(r=>{const i=new qA(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new qA(t,0),r=this.br.firstAfterOrEqual(n);return pk.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,pk.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.Mr=e,this.docs=new Ek(lk.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return pk.resolve(n?n.document.mutableCopy():rC.newInvalidDocument(t))}getEntries(e,t){let n=HC();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rC.newInvalidDocument(e))})),pk.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=HC();const s=t.path,o=new lk(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||dk(uk(o),n)<=0||(r.has(o.key)||zC(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return pk.resolve(i)}getAllFromCollectionGroup(e,t,n,r){F_()}Or(e,t){return pk.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new WA(this)}getSize(e){return pk.resolve(this.size)}}class WA extends LA{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),pk.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.persistence=e,this.Nr=new qC((e=>kC(e)),CC),this.lastRemoteSnapshotVersion=rk.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $A,this.targetCount=0,this.kr=MA.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),pk.resolve()}getLastRemoteSnapshotVersion(e){return pk.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pk.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),pk.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),pk.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new MA(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,pk.resolve()}updateTargetData(e,t){return this.Kn(t),pk.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,pk.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),pk.waitFor(i).next((()=>r))}getTargetCount(e){return pk.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return pk.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),pk.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),pk.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),pk.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return pk.resolve(n)}containsKey(e,t){return pk.resolve(this.Br.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t){this.qr={},this.overlays={},this.Qr=new gk(0),this.Kr=!1,this.Kr=!0,this.$r=new BA,this.referenceDelegate=e(this),this.Ur=new KA(this),this.indexManager=new RA,this.remoteDocumentCache=new HA((e=>this.referenceDelegate.Wr(e))),this.serializer=new IA(t),this.Gr=new UA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new GA(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){R_("MemoryPersistence","Starting transaction:",e);const r=new YA(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return pk.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class YA extends hk{constructor(e){super(),this.currentSequenceNumber=e}}class XA{constructor(e){this.persistence=e,this.Jr=new $A,this.Yr=null}static Zr(e){return new XA(e)}get Xr(){if(this.Yr)return this.Yr;throw F_()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),pk.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),pk.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),pk.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pk.forEach(this.Xr,(n=>{const r=lk.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,rk.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return pk.or([()=>pk.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=tN(),r=tN();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new JA(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=US()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ZA;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(j_()<=XS.DEBUG&&R_("QueryEngine","SDK will not create cache indexes for query:",UC(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pk.resolve()):(j_()<=XS.DEBUG&&R_("QueryEngine","Query:",UC(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(j_()<=XS.DEBUG&&R_("QueryEngine","The SDK decides to create cache indexes for query:",UC(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,DC(t))):pk.resolve())}Yi(e,t){if(IC(t))return pk.resolve(null);let n=DC(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=LC(t,null,"F"),n=DC(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=tN(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,LC(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return IC(t)||r.isEqual(rk.min())?pk.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?pk.resolve(null):(j_()<=XS.DEBUG&&R_("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),UC(t)),this.rs(e,s,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=rk.fromTimestamp(1e9===r?new nk(n+1,0):new nk(n,r));return new ck(i,lk.empty(),t)}(r,-1)).next((e=>e)))}))}ts(e,t){let n=new Pk(BC(e));return t.forEach(((t,r)=>{zC(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return j_()<=XS.DEBUG&&R_("QueryEngine","Using full collection scan to execute query:",UC(t)),this.Ji.getDocumentsMatchingQuery(e,t,ck.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Ek(ek),this._s=new qC((e=>kC(e)),CC),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}async function nO(e,t){const n=U_(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=tN();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function rO(e){const t=U_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function iO(e,t){const n=U_(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);var c,d,h;null!==t.targetMismatches.get(a)?u=u.withResumeToken(Nk.EMPTY_BYTE_STRING,rk.min()).withLastLimboFreeSnapshotVersion(rk.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),d=u,h=s,(0===(c=l).resumeToken.approximateByteSize()||d.snapshotVersion.toMicroseconds()-c.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&o.push(n.Ur.updateTargetData(e,u))}));let a=HC(),l=tN();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(function(e,t,n){let r=tN(),i=tN();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=HC();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(rk.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):R_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}(e,s,t.documentUpdates).next((e=>{a=e.Ps,l=e.Is}))),!r.isEqual(rk.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return pk.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.os=i,e)))}function sO(e,t){const n=U_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}async function oO(e,t,n){const r=U_(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(o){if(!mk(o))throw o;R_("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function aO(e,t,n){const r=U_(e);let i=rk.min(),s=tN();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=U_(e),i=r._s.get(n);return void 0!==i?pk.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,DC(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:rk.min(),n?s:tN()))).next((e=>(function(e,t,n){let r=e.us.get(t)||rk.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Ts:s})))))}class lO{constructor(){this.activeTargetIds=nN}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uO{constructor(){this.so=new lO,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lO,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{_o(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){R_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){R_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hO=null;function fO(){return null===hO?hO=268435456+Math.round(2147483648*Math.random()):hO++,"0x"+hO.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const pO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="WebChannelConnection";class yO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=fO(),o=this.xo(e,t.toUriEncodedString());R_("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,o,a,n).then((t=>(R_("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw M_("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+O_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=pO[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=fO();return new Promise(((s,o)=>{const a=new w_;a.setWithCredentials(!0),a.listenOnce(E_.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case T_.NO_ERROR:const t=a.getResponseJson();R_(gO,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case T_.TIMEOUT:R_(gO,`RPC '${e}' ${i} timed out`),o(new B_(z_.DEADLINE_EXCEEDED,"Request time out"));break;case T_.HTTP_ERROR:const n=a.getStatus();if(R_(gO,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(z_).indexOf(t)>=0?t:z_.UNKNOWN}(t.status);o(new B_(e,t.message))}else o(new B_(z_.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new B_(z_.UNAVAILABLE,"Connection failed."));break;default:F_()}}finally{R_(gO,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);R_(gO,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=fO(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=k_(),o=__(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");R_(gO,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let d=!1,h=!1;const f=new mO({Io:t=>{h?R_(gO,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(R_(gO,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),R_(gO,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},To:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(c,x_.EventType.OPEN,(()=>{h||(R_(gO,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(c,x_.EventType.CLOSE,(()=>{h||(h=!0,R_(gO,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(c,x_.EventType.ERROR,(t=>{h||(h=!0,M_(gO,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new B_(z_.UNAVAILABLE,"The operation could not be completed")))})),p(c,x_.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];V_(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){R_(gO,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=FN[e];if(void 0!==t)return UN(t)}(t),i=o.message;void 0===n&&(n=z_.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.So(new B_(n,i)),c.close()}else R_(gO,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(o,P_.STAT_EVENT,(t=>{t.stat===S_.PROXY?R_(gO,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===S_.NOPROXY&&R_(gO,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function vO(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(e){return new iA(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&R_("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t,n,r,i,s,o,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new wO(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===z_.RESOURCE_EXHAUSTED?(D_(t.toString()),D_("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===z_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Yo===t&&this.P_(e,n)}),(t=>{e((()=>{const e=new B_(z_.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return R_("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(R_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EO extends xO{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:F_(),s=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(V_(void 0===t||"string"==typeof t),Nk.fromBase64String(t||"")):(V_(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Nk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(e){const t=void 0===e.code?z_.UNKNOWN:UN(e.code);return new B_(t,e.message||"")}(a);n=new YN(i,s,o,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=pA(e,r.document.name),s=uA(r.document.updateTime),o=r.document.createTime?uA(r.document.createTime):rk.min(),a=new tC({mapValue:{fields:r.document.fields}}),l=rC.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new KN(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=pA(e,r.document),s=r.readTime?uA(r.readTime):rk.min(),o=rC.newNoDocument(i,s),a=r.removedTargetIds||[];n=new KN([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=pA(e,r.document),s=r.removedTargetIds||[];n=new KN([],s,i,null)}else{if(!("filter"in t))return F_();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new LN(r,i),o=e.targetId;n=new QN(o,s)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return rk.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?rk.min():t.readTime?uA(t.readTime):rk.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=gA(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=NC(r)?{documents:bA(e,r)}:{query:wA(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=aA(e,t.resumeToken);const r=sA(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(rk.min())>0){n.readTime=oA(e,t.snapshotVersion.toTimestamp());const r=sA(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F_()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=gA(this.serializer),t.removeTarget=e,this.a_(t)}}class TO extends xO{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return V_(!!e.streamToken),this.lastStreamToken=e.streamToken,V_(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){V_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(V_(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?uA(e.updateTime):uA(t);return n.isEqual(rk.min())&&(n=uA(t)),new vN(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=uA(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=gA(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof kN)n={update:vA(e,t.key,t.value)};else if(t instanceof IN)n={delete:fA(e,t.key)};else if(t instanceof CN)n={update:vA(e,t.key,t.data),updateMask:NA(t.fieldMask)};else{if(!(t instanceof jN))return F_();n={verify:fA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof cN)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof dN)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fN)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof mN)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw F_()}(0,e)))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:lA(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F_())),n;var r,i}(this.serializer,e)))};this.a_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new B_(z_.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Mo(e,dA(t,n),r,i,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===z_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new B_(z_.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Lo(e,dA(t,n),r,s,o,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===z_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new B_(z_.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class PO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(D_(t),this.D_=!1):R_("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{DO(this)&&(R_("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=U_(e);t.L_.add(4),await CO(t),t.q_.set("Unknown"),t.L_.delete(4),await kO(t)}(this))}))})),this.q_=new PO(n,r)}}async function kO(e){if(DO(e))for(const t of e.B_)await t(!0)}async function CO(e){for(const t of e.B_)await t(!1)}function NO(e,t){const n=U_(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),RO(n)?jO(n):ZO(n).r_()&&OO(n,t))}function AO(e,t){const n=U_(e),r=ZO(n);n.N_.delete(t),r.r_()&&IO(n,t),0===n.N_.size&&(r.r_()?r.o_():DO(n)&&n.q_.set("Unknown"))}function OO(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rk.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ZO(e).A_(t)}function IO(e,t){e.Q_.xe(t),ZO(e).R_(t)}function jO(e){e.Q_=new JN({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ZO(e).start(),e.q_.v_()}function RO(e){return DO(e)&&!ZO(e).n_()&&e.N_.size>0}function DO(e){return 0===U_(e).L_.size}function MO(e){e.Q_=void 0}async function LO(e){e.q_.set("Online")}async function FO(e){e.N_.forEach(((t,n)=>{OO(e,t)}))}async function VO(e,t){MO(e),RO(e)?(e.q_.M_(t),jO(e)):e.q_.set("Unknown")}async function UO(e,t,n){if(e.q_.set("Online"),t instanceof YN&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(r){R_("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await zO(e,r)}else if(t instanceof KN?e.Q_.Ke(t):t instanceof QN?e.Q_.He(t):e.Q_.We(t),!n.isEqual(rk.min()))try{const t=await rO(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Nk.EMPTY_BYTE_STRING,r.snapshotVersion)),IO(e,t);const i=new OA(r.target,t,n,r.sequenceNumber);OO(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){R_("RemoteStore","Failed to raise snapshot:",i),await zO(e,i)}}async function zO(e,t,n){if(!mk(t))throw t;e.L_.add(1),await CO(e),e.q_.set("Offline"),n||(n=()=>rO(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{R_("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await kO(e)}))}function BO(e,t){return t().catch((n=>zO(e,n,t)))}async function $O(e){const t=U_(e),n=eI(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;qO(t);)try{const e=await sO(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,GO(t,e)}catch(i){await zO(t,i)}HO(t)&&WO(t)}function qO(e){return DO(e)&&e.O_.length<10}function GO(e,t){e.O_.push(t);const n=eI(e);n.r_()&&n.V_&&n.m_(t.mutations)}function HO(e){return DO(e)&&!eI(e).n_()&&e.O_.length>0}function WO(e){eI(e).start()}async function KO(e){eI(e).p_()}async function QO(e){const t=eI(e);for(const n of e.O_)t.m_(n.mutations)}async function YO(e,t,n){const r=e.O_.shift(),i=DN.from(r,t,n);await BO(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await $O(e)}async function XO(e,t){t&&eI(e).V_&&await async function(e,t){if(function(e){switch(e){default:return F_();case z_.CANCELLED:case z_.UNKNOWN:case z_.DEADLINE_EXCEEDED:case z_.RESOURCE_EXHAUSTED:case z_.INTERNAL:case z_.UNAVAILABLE:case z_.UNAUTHENTICATED:return!1;case z_.INVALID_ARGUMENT:case z_.NOT_FOUND:case z_.ALREADY_EXISTS:case z_.PERMISSION_DENIED:case z_.FAILED_PRECONDITION:case z_.ABORTED:case z_.OUT_OF_RANGE:case z_.UNIMPLEMENTED:case z_.DATA_LOSS:return!0}}(n=t.code)&&n!==z_.ABORTED){const n=e.O_.shift();eI(e).s_(),await BO(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await $O(e)}var n}(e,t),HO(e)&&WO(e)}async function JO(e,t){const n=U_(e);n.asyncQueue.verifyOperationInProgress(),R_("RemoteStore","RemoteStore received new credentials");const r=DO(n);n.L_.add(3),await CO(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await kO(n)}function ZO(e){return e.K_||(e.K_=function(e,t,n){const r=U_(e);return r.w_(),new EO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:LO.bind(null,e),Ro:FO.bind(null,e),mo:VO.bind(null,e),d_:UO.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),RO(e)?jO(e):e.q_.set("Unknown")):(await e.K_.stop(),MO(e))}))),e.K_}function eI(e){return e.U_||(e.U_=function(e,t,n){const r=U_(e);return r.w_(),new TO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:KO.bind(null,e),mo:XO.bind(null,e),f_:QO.bind(null,e),g_:YO.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await $O(e)):(await e.U_.stop(),e.O_.length>0&&(R_("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class tI{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new tI(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new B_(z_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nI(e,t){if(D_("AsyncQueue",`${t}: ${e}`),mk(e))return new B_(z_.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.comparator=e?(t,n)=>e(t,n)||lk.comparator(t.key,n.key):(e,t)=>lk.comparator(e.key,t.key),this.keyedMap=KC(),this.sortedSet=new Ek(this.comparator)}static emptySet(e){return new rI(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rI))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new rI;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.W_=new Ek(lk.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):F_():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class sI{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new sI(e,t,rI.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&FC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class aI{constructor(){this.queries=lI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=U_(e),r=n.queries;n.queries=lI(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new B_(z_.ABORTED,"Firestore shutting down"))}}function lI(){return new qC((e=>VC(e)),FC)}async function uI(e,t){const n=U_(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new oI,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const e=nI(o,`Initialization of query '${UC(t.query)}' failed`);return void t.onError(e)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&fI(n)}async function cI(e,t){const n=U_(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dI(e,t){const n=U_(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&fI(n)}function hI(e,t,n){const r=U_(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function fI(e){e.Y_.forEach((e=>{e.next()}))}var pI,mI;(mI=pI||(pI={})).ea="default",mI.Cache="cache";class gI{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new sI(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=sI.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pI.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.key=e}}class vI{constructor(e){this.key=e}}class bI{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=tN(),this.mutatedKeys=tN(),this.Aa=BC(e),this.Ra=new rI(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new iI,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=zC(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.ga(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Aa(c,a)>0||l&&this.Aa(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F_()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return this.Ea=a,0!==s.length||l?{snapshot:new sI(this.query,e.Ra,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new iI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=tN(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new vI(e))})),this.da.forEach((n=>{e.has(n)||t.push(new yI(n))})),t}ba(e){this.Ta=e.Ts,this.da=tN();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return sI.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class wI{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class xI{constructor(e){this.key=e,this.va=!1}}class EI{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new qC((e=>VC(e)),FC),this.Ma=new Map,this.xa=new Set,this.Oa=new Ek(lk.comparator),this.Na=new Map,this.La=new $A,this.Ba={},this.ka=new Map,this.qa=MA.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function TI(e,t,n=!0){const r=qI(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await PI(r,t,n,!0),i}async function SI(e,t){const n=qI(e);await PI(n,t,!0,!1)}async function PI(e,t,n,r){const i=await function(e,t){const n=U_(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,pk.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new OA(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}(e.localStore,DC(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await async function(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await aO(e.localStore,t.query,!1).then((({documents:e})=>t.view.ma(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return FI(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const s=await aO(e.localStore,t,!0),o=new bI(t,s.Ts),a=o.ma(s.documents),l=WN.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);FI(e,n,u.wa);const c=new wI(t,n,o);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&NO(e.remoteStore,i),a}async function _I(e,t,n){const r=U_(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!FC(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oO(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&AO(r.remoteStore,i.targetId),MI(r,i.targetId)})).catch(fk)):(MI(r,i.targetId),await oO(r.localStore,i.targetId,!0))}async function kI(e,t){const n=U_(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),AO(n.remoteStore,r.targetId))}async function CI(e,t,n){const r=function(e){const t=U_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=II.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jI.bind(null,t),t}(e);try{const e=await function(e,t){const n=U_(e),r=nk.now(),i=t.reduce(((e,t)=>e.add(t.key)),tN());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=HC(),l=tN();return n.cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=PN(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new CN(e.key,t,nC(t.value.mapValue),bN.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:QC(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new Ek(ek)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await zI(r,e.changes),await $O(r.remoteStore)}catch(i){const e=nI(i,"Failed to persist write");n.reject(e)}}async function NI(e,t){const n=U_(e);try{const e=await iO(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(V_(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?V_(r.va):e.removedDocuments.size>0&&(V_(r.va),r.va=!1))})),await zI(n,e,t)}catch(r){await fk(r)}}function AI(e,t,n){const r=U_(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=U_(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&fI(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function OI(e,t,n){const r=U_(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new Ek(lk.comparator);e=e.insert(s,rC.newNoDocument(s,rk.min()));const n=tN().add(s),i=new HN(rk.min(),new Map,new Ek(ek),e,n);await NI(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),UI(r)}else await oO(r.localStore,t,!1).then((()=>MI(r,t,n))).catch(fk)}async function II(e,t){const n=U_(e),r=t.batch.batchId;try{const e=await function(e,t){const n=U_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=pk.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);V_(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=tN();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);DI(n,r,null),RI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zI(n,e)}catch(i){await fk(i)}}async function jI(e,t,n){const r=U_(e);try{const e=await function(e,t){const n=U_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(V_(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);DI(r,t,n),RI(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await zI(r,e)}catch(i){await fk(i)}}function RI(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function DI(e,t,n){const r=U_(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function MI(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||LI(e,t)}))}function LI(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(AO(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),UI(e))}function FI(e,t,n){for(const r of n)r instanceof yI?(e.La.addReference(r.key,t),VI(e,r)):r instanceof vI?(R_("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||LI(e,r.key)):F_()}function VI(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(R_("SyncEngine","New document in limbo: "+n),e.xa.add(r),UI(e))}function UI(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new lk(sk.fromString(t)),r=e.qa.next();e.Na.set(r,new xI(n)),e.Oa=e.Oa.insert(n,r),NO(e.remoteStore,new OA(DC(OC(n.path)),r,"TargetPurposeLimboResolution",gk.oe))}}async function zI(e,t,n){const r=U_(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{o.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=JA.Wi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ca.d_(i),await async function(e,t){const n=U_(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>pk.forEach(t,(t=>pk.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>pk.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(r){if(!mk(r))throw r;R_("LocalStore","Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function BI(e,t){const n=U_(e);if(!n.currentUser.isEqual(t)){R_("SyncEngine","User change. New user:",t.toKey());const e=await nO(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).ka.forEach((e=>{e.forEach((e=>{e.reject(new B_(z_.CANCELLED,i))}))})),r.ka.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await zI(n,e.hs)}var r,i}function $I(e,t){const n=U_(e),r=n.Na.get(t);if(r&&r.va)return tN().add(r.key);{let e=tN();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function qI(e){const t=U_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=NI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$I.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OI.bind(null,t),t.Ca.d_=dI.bind(null,t.eventManager),t.Ca.$a=hI.bind(null,t.eventManager),t}class GI{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bO(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return function(e,t,n,r){return new tO(e,t,n,r)}(this.persistence,new eO,e.initialUser,this.serializer)}Ga(e){return new QA(XA.Zr,this.serializer)}Wa(e){return new uO}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}GI.provider={build:()=>new GI};class HI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>AI(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=BI.bind(null,this.syncEngine),await async function(e,t){const n=U_(e);t?(n.L_.delete(2),await kO(n)):t||(n.L_.add(2),await CO(n),n.q_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new aI}createDatastore(e){const t=bO(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new yO(r));var r;return function(e,t,n,r){return new SO(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>AI(this.syncEngine,e,0),s=dO.D()?new dO:new cO,new _O(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new EI(e,t,n,r,i,s);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=U_(e);R_("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await CO(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}HI.provider={build:()=>new HI};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class WI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):D_("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=A_.UNAUTHENTICATED,this.clientId=Z_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{R_("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(R_("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $_;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=nI(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function QI(e,t){e.asyncQueue.verifyOperationInProgress(),R_("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await nO(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function YI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){R_("FirestoreClient","Using user provided OfflineComponentProvider");try{await QI(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===z_.FAILED_PRECONDITION||n.code===z_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;M_("Error using user provided cache. Falling back to memory cache: "+i),await QI(e,new GI)}}else R_("FirestoreClient","Using default OfflineComponentProvider"),await QI(e,new GI);var n;return e._offlineComponents}(e);R_("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>JO(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>JO(t.remoteStore,n))),e._onlineComponents=t}async function XI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(R_("FirestoreClient","Using user provided OnlineComponentProvider"),await YI(e,e._uninitializedComponentsProvider._online)):(R_("FirestoreClient","Using default OnlineComponentProvider"),await YI(e,new HI))),e._onlineComponents}async function JI(e){const t=await XI(e),n=t.eventManager;return n.onListen=TI.bind(null,t.syncEngine),n.onUnlisten=_I.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=SI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=kI.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ZI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const ej=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(e,t,n){if(!n)throw new B_(z_.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function nj(e){if(!lk.isDocumentKey(e))throw new B_(z_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rj(e){if(lk.isDocumentKey(e))throw new B_(z_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ij(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":F_()}function sj(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B_(z_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ij(e);throw new B_(z_.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new B_(z_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new B_(z_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new B_(z_.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new B_(z_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new B_(z_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new B_(z_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class aj{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B_(z_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new B_(z_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oj(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new G_;switch(e.type){case"firstParty":return new Q_(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new B_(z_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ej.get(e);t&&(R_("ComponentProvider","Removing Datastore"),ej.delete(e),t.terminate())}(this),Promise.resolve()}}function lj(e,t,n,r={}){var i;const s=(e=sj(e,aj))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&M_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=A_.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[jS(JSON.stringify({alg:"none",type:"JWT"})),jS(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new B_(z_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new A_(s)}e._authCredentials=new H_(new q_(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uj(this.firestore,e,this._query)}}class cj{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dj(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cj(this.firestore,e,this._key)}}class dj extends uj{constructor(e,t,n){super(e,t,OC(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cj(this.firestore,null,new lk(e))}withConverter(e){return new dj(this.firestore,e,this._path)}}function hj(e,t,...n){if(e=HS(e),tj("collection","path",t),e instanceof aj){const r=sk.fromString(t,...n);return rj(r),new dj(e,null,r)}{if(!(e instanceof cj||e instanceof dj))throw new B_(z_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sk.fromString(t,...n));return rj(r),new dj(e.firestore,null,r)}}function fj(e,t,...n){if(e=HS(e),1===arguments.length&&(t=Z_.newId()),tj("doc","path",t),e instanceof aj){const r=sk.fromString(t,...n);return nj(r),new cj(e,null,new lk(r))}{if(!(e instanceof cj||e instanceof dj))throw new B_(z_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(sk.fromString(t,...n));return nj(r),new cj(e.firestore,e instanceof dj?e.converter:null,new lk(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new wO(this,"async_queue_retry"),this.Vu=()=>{const e=vO();e&&R_("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=vO();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=vO();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new $_;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(Yq){if(!mk(Yq))throw Yq;R_("AsyncQueue","Operation failed with retryable error: "+Yq)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;throw D_("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=tI.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&F_()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class mj extends aj{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new pj,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pj(e),this._firestoreClient=void 0,await e}}}function gj(e){if(e._terminated)throw new B_(z_.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),s=(o=e._databaseId,a=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,u=i,new Lk(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,ZI(u.experimentalLongPollingOptions),u.useFetchStreams));var o,a,l,u;e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new KI(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class yj{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yj(Nk.fromBase64String(e))}catch(t){throw new B_(z_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yj(Nk.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new B_(z_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ak(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B_(z_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B_(z_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ek(this._lat,e._lat)||ek(this._long,e._long)}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=/^__.*__$/;class Tj{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new CN(e,this.data,this.fieldMask,t,this.fieldTransforms):new kN(e,this.data,t,this.fieldTransforms)}}class Sj{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new CN(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Pj(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F_()}}class _j{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _j(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Fj(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Pj(this.Cu)&&Ej.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class kj{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||bO(e)}Qu(e,t,n,r=!1){return new _j({Cu:e,methodName:t,qu:n,path:ak.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cj(e){const t=e._freezeSettings(),n=bO(e._databaseId);return new kj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Nj(e,t,n,r,i,s={}){const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Rj("Data must be an object, but it was:",o,r);const a=Ij(r,o);let l,u;if(s.merge)l=new kk(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Dj(t,r,n);if(!o.contains(i))throw new B_(z_.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Vj(e,i)||e.push(i)}l=new kk(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new Tj(new tC(a),l,u)}class Aj extends bj{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Aj}}function Oj(e,t){if(jj(e=HS(e)))return Rj("Unsupported field value:",t,e),Ij(e,t);if(e instanceof bj)return function(e,t){if(!Pj(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Oj(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=HS(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return sN(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=nk.fromDate(e);return{timestampValue:oA(t.serializer,n)}}if(e instanceof nk){const n=new nk(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:oA(t.serializer,n)}}if(e instanceof wj)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof yj)return{bytesValue:aA(t.serializer,e._byteString)};if(e instanceof cj){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:cA(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof xj)return n=t,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw n.Bu("VectorValues must only contain numeric values.");return rN(n.serializer,e)}))}}}}};var n;throw t.Bu(`Unsupported field value: ${ij(e)}`)}(e,t)}function Ij(e,t){const n={};return xk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wk(e,((e,r)=>{const i=Oj(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jj(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof nk||e instanceof wj||e instanceof yj||e instanceof cj||e instanceof bj||e instanceof xj)}function Rj(e,t,n){if(!jj(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=ij(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}var r}function Dj(e,t,n){if((t=HS(t))instanceof vj)return t._internalPath;if("string"==typeof t)return Lj(e,t);throw Fj("Field path arguments must be of type string or ",e,!1,void 0,n)}const Mj=new RegExp("[~\\*/\\[\\]]");function Lj(e,t,n){if(t.search(Mj)>=0)throw Fj(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new vj(...t.split("."))._internalPath}catch(r){throw Fj(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Fj(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new B_(z_.INVALID_ARGUMENT,a+e+l)}function Vj(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cj(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bj("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zj extends Uj{data(){return super.data()}}function Bj(e,t){return"string"==typeof t?Lj(e,t):t instanceof vj?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{}class qj extends $j{}class Gj extends qj{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Gj(e,t,n)}_apply(e){const t=this._parse(e);return Yj(e._query,t),new uj(e.firestore,e.converter,MC(e._query,t))}_parse(e){const t=Cj(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new B_(z_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Qj(o,s);const t=[];for(const n of o)t.push(Kj(r,e,n));a={arrayValue:{values:t}}}else a=Kj(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Qj(o,s),a=function(e,t,n,r=!1){return Oj(n,e.Qu(r?4:3,t))}(n,t,o,"in"===s||"not-in"===s);return cC.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Hj extends $j{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hj(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:dC.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Yj(n,i),n=MC(n,i)}(e._query,t),new uj(e.firestore,e.converter,MC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Wj extends qj{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wj(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new B_(z_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new B_(z_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new aC(t,n)}(e._query,this._field,this._direction);return new uj(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new AC(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Kj(e,t,n){if("string"==typeof(n=HS(n))){if(""===n)throw new B_(z_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jC(t)&&-1!==n.indexOf("/"))throw new B_(z_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(sk.fromString(n));if(!lk.isDocumentKey(r))throw new B_(z_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kk(e,new lk(r))}if(n instanceof cj)return Kk(e,n._key);throw new B_(z_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ij(n)}.`)}function Qj(e,t){if(!Array.isArray(e)||0===e.length)throw new B_(z_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Yj(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new B_(z_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new B_(z_.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Xj{convertValue(e,t="none"){switch(Uk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ik(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw F_()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return wk(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Ik(e.doubleValue)));return new xj(i)}convertGeoPoint(e){return new wj(Ik(e.latitude),Ik(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Dk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Mk(e));default:return null}}convertTimestamp(e){const t=Ok(e);return new nk(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=sk.fromString(e);V_(AA(n));const r=new Fk(n.get(1),n.get(3)),i=new lk(n.popFirst(5));return r.isEqual(t)||D_(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Zj{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eR extends Uj{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new tR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Bj("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class tR extends eR{data(e={}){return super.data(e)}}class nR{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Zj(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new tR(this._firestore,this._userDataWriter,n.key,n,new Zj(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B_(z_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new tR(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Zj(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new tR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Zj(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:rR(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F_()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(e){e=sj(e,cj);const t=sj(e.firestore,mj);return function(e,t,n={}){const r=new $_;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new WI({next:a=>{s.Za(),t.enqueueAndForget((()=>cI(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new B_(z_.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new B_(z_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new gI(OC(n.path),s,{includeMetadataChanges:!0,_a:!0});return uI(e,o)}(await JI(e),e.asyncQueue,t,n,r))),r.promise}(gj(t),e._key).then((n=>function(e,t,n){const r=n.docs.get(t._key),i=new sR(e);return new eR(e,i,t._key,r,new Zj(n.hasPendingWrites,n.fromCache),t.converter)}(t,e,n)))}class sR extends Xj{constructor(e){super(),this.firestore=e}convertBytes(e){return new yj(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cj(this.firestore,null,t)}}function oR(e){e=sj(e,uj);const t=sj(e.firestore,mj),n=gj(t),r=new sR(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new B_(z_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),function(e,t,n={}){const r=new $_;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new WI({next:n=>{s.Za(),t.enqueueAndForget((()=>cI(e,o))),n.fromCache&&"server"===r.source?i.reject(new B_(z_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new gI(n,s,{includeMetadataChanges:!0,_a:!0});return uI(e,o)}(await JI(e),e.asyncQueue,t,n,r))),r.promise}(n,e._query).then((n=>new nR(t,r,e,n)))}function aR(e,t,n){e=sj(e,cj);const r=sj(e.firestore,mj),i=Jj(e.converter,t,n);return cR(r,[Nj(Cj(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,bN.none())])}function lR(e,t,n,...r){e=sj(e,cj);const i=sj(e.firestore,mj),s=Cj(i);let o;return o="string"==typeof(t=HS(t))||t instanceof vj?function(e,t,n,r,i,s){const o=e.Qu(1,t,n),a=[Dj(t,r,n)],l=[i];if(s.length%2!=0)throw new B_(z_.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Dj(t,s[h])),l.push(s[h+1]);const u=[],c=tC.empty();for(let h=a.length-1;h>=0;--h)if(!Vj(u,a[h])){const e=a[h];let t=l[h];t=HS(t);const n=o.Nu(e);if(t instanceof Aj)u.push(e);else{const r=Oj(t,n);null!=r&&(u.push(e),c.set(e,r))}}const d=new kk(u);return new Sj(c,d,o.fieldTransforms)}(s,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Qu(1,t,n);Rj("Data must be an object, but it was:",i,r);const s=[],o=tC.empty();wk(r,((e,r)=>{const a=Lj(t,e,n);r=HS(r);const l=i.Nu(a);if(r instanceof Aj)s.push(a);else{const e=Oj(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new kk(s);return new Sj(o,a,i.fieldTransforms)}(s,"updateDoc",e._key,t),cR(i,[o.toMutation(e._key,bN.exists(!0))])}function uR(e,t){const n=sj(e.firestore,mj),r=fj(e),i=Jj(e.converter,t);return cR(n,[Nj(Cj(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,bN.exists(!1))]).then((()=>r))}function cR(e,t){return function(e,t){const n=new $_;return e.asyncQueue.enqueueAndForget((async()=>CI(await function(e){return XI(e).then((e=>e.syncEngine))}(e),t,n))),n.promise}(gj(e),t)}!function(e,t=!0){O_="10.14.1",n_(new WS("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new mj(new W_(e.getProvider("auth-internal")),new X_(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new B_(z_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fk(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),o_(N_,"4.7.3",e),o_(N_,"4.7.3","esm2017")}();const dR=function(e,t){const n="string"==typeof e?e:t||"(default)",r=function(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}("object"==typeof e?e:function(e=YP){const t=JP.get(e);if(!t&&e===YP&&FS())return s_();if(!t)throw r_.create("no-app",{appName:e});return t}(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=LS("firestore");e&&lj(r,...e)}return r}(s_({apiKey:"AIzaSyA4GUJv-M4W5ZaY-5-6yGY6um_X1EBWEQg",authDomain:"onepool-800e2.firebaseapp.com",projectId:"onepool-800e2",storageBucket:"onepool-800e2.appspot.com",messagingSenderId:"370160885219",appId:"1:370160885219:web:7a5c223281ab96c047d4d6",measurementId:"G-QSTDV4QVZM"})),hR=async(e,t="Payment",n=[],r)=>{try{const i=hj(dR,"pools"),s={id:"",createdAt:nk.now(),totalAmount:e,subscriptionName:t,contributors:n,status:"active"};void 0!==r&&(s.businessId=r);const o=await uR(i,s),a=o.id;return await aR(o,{...s,id:a},{merge:!0}),a}catch(i){throw console.error("Error creating pool:",i),i}},fR=async e=>{try{const t=fj(dR,"pools",e),n=await iR(t);return n.exists()?n.data():(console.log("No such pool exists!"),null)}catch(t){throw console.error("Error getting pool:",t),t}},pR=async(e,t)=>{try{const n=fj(dR,"pools",e);await aR(n,{contributors:t},{merge:!0})}catch(n){throw console.error("Error updating pool contributors:",n),n}},mR=async e=>{try{const t=function(e,t,...n){let r=[];t instanceof $j&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof Hj)).length,n=e.filter((e=>e instanceof Gj)).length;if(t>1||t>0&&n>0)throw new B_(z_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}(hj(dR,"pools"),function(e,t,n){const r=t,i=Bj("where",e);return Gj._create(i,r,n)}("businessId","==",e),function(e,t="asc"){const n=t,r=Bj("orderBy",e);return Wj._create(r,n)}("createdAt","desc")),n=await oR(t),r=[];return n.forEach((e=>{r.push(e.data())})),r}catch(t){throw console.error("Error getting business pools:",t),t}},gR=()=>{const[e,t]=je.useState(""),[n,r]=je.useState(!1),[i,s]=je.useState(""),o=qf(),{toast:a}=kp();return $e.jsxs("div",{className:"min-h-screen flex flex-col",children:[$e.jsx("header",{className:"py-6 px-4 border-b border-border",children:$e.jsx("div",{className:"container max-w-6xl",children:$e.jsx("img",{src:"OnePool.png",alt:"OnePool Logo",className:"logo-image primary-logo"})})}),$e.jsx("main",{className:"flex-1 flex items-center justify-center px-4 py-12",children:$e.jsxs(kS,{className:"w-full max-w-lg",children:[$e.jsx("div",{className:"text-center mb-8",children:$e.jsxs(kS,{children:[$e.jsx("h1",{className:"text-4xl font-bold mb-3",children:"B2B Checkout Solution"}),$e.jsx("p",{className:"text-xl text-muted-foreground",children:"Create a collector link for testing or view your insight dashboard."})]})}),$e.jsx(kS,{delay:.1,children:$e.jsxs("div",{className:"glass-card p-8 mb-6",children:[$e.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Collector Link"}),$e.jsxs("form",{onSubmit:async t=>{t.preventDefault();const n=parseFloat(e);if(!e||isNaN(n)||n<=0)a({title:"Invalid amount",description:"Please enter a valid payment amount",variant:"destructive"});else try{r(!0);const e=await hR(n),t=`${window.location.origin}/app/collect/${e}?amount=${n}`;s(t),setTimeout((()=>{r(!1)}),500)}catch(i){console.error("Error creating pool:",i),a({title:"Error",description:"Failed to create pool. Please try again.",variant:"destructive"}),r(!1)}},children:[$e.jsxs("div",{className:"mb-6",children:[$e.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium mb-2",children:"Total Amount"}),$e.jsxs("div",{className:"relative",children:[$e.jsx("input",{id:"amount",type:"number",min:"0.01",step:"0.01",value:e,onChange:e=>t(e.target.value),className:"input-field pl-12 pr-12 text-lg w-full",placeholder:"0.00",required:!0}),$e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted-foreground",children:"€"})]})]}),$e.jsx("button",{type:"submit",className:"btn-primary w-full text-base",disabled:n,children:n?$e.jsxs("span",{className:"flex items-center justify-center",children:[$e.jsx("div",{className:"w-5 h-5 border-2 border-t-white/0 border-white rounded-full animate-spin mr-2"}),"Creating..."]}):"Create Collector Link"})]}),i&&$e.jsxs("div",{className:"mt-6 p-4 border border-border rounded-lg bg-secondary/10",children:[$e.jsx("p",{className:"font-medium mb-2",children:"Link Generated:"}),$e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[$e.jsx("div",{className:"truncate text-sm text-muted-foreground",children:i}),$e.jsx("button",{onClick:()=>{i&&(navigator.clipboard.writeText(i),a({title:"Link copied",description:"Collector link copied to clipboard"}))},className:"p-2 bg-primary/10 text-primary rounded-full hover:bg-primary/20 transition-colors",children:$e.jsx(sg,{size:16})})]}),$e.jsxs("button",{onClick:()=>{if(i){const e=new URL(i),t=e.pathname+e.search;o(t)}},className:"btn-primary w-full flex items-center justify-center",children:["Open Collector Page",$e.jsx(Jm,{size:16,className:"ml-2"})]})]})]})}),$e.jsx(kS,{delay:.2,children:$e.jsxs("div",{className:"glass-card p-6 mb-6",children:[$e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Business Dashboard"}),$e.jsx("p",{className:"text-muted-foreground mb-4",children:"Access your insight dashboard. (Note: In this view, pools are generated automatically when all members have verified.)"}),$e.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[$e.jsxs("button",{onClick:()=>{o("/dashboard/demo")},className:"flex-1 btn-secondary flex items-center justify-center",children:[$e.jsx(Zm,{size:16,className:"mr-2"}),"View Demo Dashboard"]}),$e.jsx("button",{onClick:async()=>{try{r(!0);const e=await(async(e,t)=>{try{const n=hj(dR,"businesses"),r={id:"",name:e,email:t,stripeConnected:!1,createdAt:nk.now()},i=await uR(n,r),s=i.id;return await aR(i,{...r,id:s},{merge:!0}),s}catch(n){throw console.error("Error creating business:",n),n}})("Your Business Name","business@example.com");o(`/dashboard/${e}`)}catch(e){console.error("Error creating business:",e),a({title:"Error",description:"Failed to create business profile",variant:"destructive"}),r(!1)}},className:"flex-1 btn-primary flex items-center justify-center",disabled:n,children:n?$e.jsxs("span",{className:"flex items-center justify-center",children:[$e.jsx("div",{className:"w-5 h-5 border-2 border-t-white/0 border-white rounded-full animate-spin mr-2"}),"Creating..."]}):$e.jsxs($e.Fragment,{children:["Create Business Profile",$e.jsx(Jm,{size:16,className:"ml-2"})]})})]})]})}),$e.jsx(kS,{delay:.3,className:"text-center",children:$e.jsx("p",{className:"text-muted-foreground",children:"This page is for testing purposes. In production, collector links will be created by merchants."})})]})}),$e.jsx("footer",{className:"py-6 px-4 border-t border-border",children:$e.jsxs("div",{className:"container max-w-6xl text-center text-sm text-muted-foreground",children:["OnePool © ",(new Date).getFullYear()," — All rights reserved"]})})]})},yR=({contributors:e,totalAmount:t})=>{if(0===e.length)return null;const n=e.length,r=e.filter((e=>e.hasVerified)).length,i=e.filter((e=>e.hasPaid)).length,s=e.filter((e=>!e.hasVerified)).length,o=n>0?Math.round(r/n*100):0;return $e.jsxs("div",{className:"glass-card p-5 mb-6",children:[$e.jsx("h3",{className:"font-medium mb-4",children:"Verification Status"}),$e.jsxs("div",{className:"mb-4",children:[$e.jsx("div",{className:"h-3 bg-secondary rounded-full overflow-hidden",children:$e.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-500 ease-out",style:{width:`${o}%`}})}),$e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[$e.jsxs("span",{children:[r," of ",n," verified"]}),$e.jsxs("span",{children:[o,"% complete"]})]})]}),$e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[$e.jsxs("div",{className:"px-3 py-2 bg-emerald-50 rounded-lg",children:[$e.jsxs("div",{className:"flex items-center text-emerald-600 mb-1",children:[$e.jsx(ng,{size:14,className:"mr-1"}),$e.jsx("span",{className:"text-xs font-medium",children:"Verified"})]}),$e.jsx("p",{className:"text-lg font-semibold",children:r})]}),$e.jsxs("div",{className:"px-3 py-2 bg-amber-50 rounded-lg",children:[$e.jsxs("div",{className:"flex items-center text-amber-600 mb-1",children:[$e.jsx(ig,{size:14,className:"mr-1"}),$e.jsx("span",{className:"text-xs font-medium",children:"Pending"})]}),$e.jsx("p",{className:"text-lg font-semibold",children:s})]}),$e.jsxs("div",{className:"px-3 py-2 bg-blue-50 rounded-lg",children:[$e.jsxs("div",{className:"flex items-center text-blue-600 mb-1",children:[$e.jsx(og,{size:14,className:"mr-1"}),$e.jsx("span",{className:"text-xs font-medium",children:"Paid"})]}),$e.jsx("p",{className:"text-lg font-semibold",children:i})]})]}),$e.jsxs("div",{className:"border-t border-border pt-3",children:[$e.jsxs("div",{className:"flex justify-between text-sm",children:[$e.jsx("span",{className:"text-muted-foreground",children:"Total to be collected:"}),$e.jsxs("span",{className:"font-medium",children:[t.toFixed(2)," €"]})]}),$e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[$e.jsx("span",{className:"text-muted-foreground",children:"Cards verified:"}),$e.jsxs("span",{className:"font-medium text-emerald-600",children:[r," of ",n]})]}),$e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[$e.jsx("span",{className:"text-muted-foreground",children:"Payments completed:"}),$e.jsxs("span",{className:"font-medium text-blue-600",children:[i," of ",n]})]})]})]})},vR=({children:e,isVisible:t=!0,direction:n="up",duration:r=.5,delay:i=0,className:s=""})=>$e.jsx(_S,{children:t&&$e.jsx(bS.div,{initial:{opacity:0,...bR(n)},animate:{opacity:1,...wR(n),transition:{duration:r,delay:i,ease:"easeOut"}},exit:{opacity:0,...bR(n),transition:{duration:.8*r,ease:"easeIn"}},className:s,children:e})});function bR(e){switch(e){case"up":return{y:20};case"down":return{y:-20};case"left":return{x:20};case"right":return{x:-20}}}function wR(e){switch(e){case"up":case"down":return{y:0};case"left":case"right":return{x:0}}}const xR=()=>{const{poolId:e="demo"}=Gf(),[t]=vp(),n=qf(),[r,i]=je.useState(0),[s,o]=je.useState([]),[a,l]=je.useState(0),[u,c]=je.useState(null),[d,h]=je.useState("Payment"),[f,p]=je.useState(!0),{toast:m}=kp();je.useEffect((()=>{(async()=>{try{if("new"===e){const e=t.get("amount"),r=e?parseFloat(e):0;if(!e||isNaN(r)||r<=0)return void n("/");const i=await hR(r);return void n(`/collect/${i}?amount=${r}`,{replace:!0})}if("demo"===e){const e=t.get("amount"),r=e?parseFloat(e):0;if(!e||isNaN(r)||r<=0)return void n("/");i(r),l(r),o([])}else{const t=await fR(e);if(!t)return m({title:"Pool not found",description:"The requested payment pool doesn't exist",variant:"destructive"}),void n("/");i(t.totalAmount),o(t.contributors||[]),h(t.subscriptionName||"Payment");const r=t.contributors.reduce(((e,t)=>e+t.amount),0);l(parseFloat((t.totalAmount-r).toFixed(2)))}}catch(r){console.error("Error fetching pool:",r),m({title:"Error",description:"Failed to load payment pool data",variant:"destructive"})}finally{p(!1)}})()}),[e,t,n,m]),je.useEffect((()=>{const e=s.reduce(((e,t)=>e+t.amount),0);l(parseFloat((r-e).toFixed(2)))}),[s,r]);const g=()=>{const e={id:Math.random().toString(36).substring(2,10),name:`Person ${s.length+1}`,amount:0,isEditing:!0};o([...s,e]),c(e.id),setTimeout((()=>{const t=document.getElementById(`contributor-${e.id}`);null==t||t.scrollIntoView({behavior:"smooth",block:"end"})}),100)},y=()=>((e="demo",t,n=window.location.origin)=>{const r=`${n}/app/pay/${e}`;return t?`${r}?name=${encodeURIComponent(t)}`:r})(e);return f?$e.jsx("div",{className:"h-screen flex items-center justify-center",children:$e.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):r<=0?null:$e.jsx(vR,{children:$e.jsx("div",{className:"max-w-2xl mx-auto px-4 py-8",children:$e.jsxs(kS,{children:[$e.jsxs("div",{className:"mb-8",children:[$e.jsx("div",{className:"chip mb-2 bg-primary/10 text-primary",children:"PAYMENT REQUEST"}),$e.jsxs("h1",{className:"text-3xl font-semibold mb-2",children:["Split ",d]}),$e.jsx("p",{className:"text-muted-foreground",children:"Add contributors and distribute the payment amount"})]}),$e.jsxs("div",{className:"glass-card p-5 mb-6",children:[$e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[$e.jsxs("div",{className:"flex items-center",children:[$e.jsx("div",{className:"p-2.5 rounded-full bg-primary/10 text-primary mr-3",children:$e.jsx(ag,{size:18})}),$e.jsxs("div",{children:[$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),$e.jsxs("div",{className:"flex items-center",children:[$e.jsx("span",{className:"text-2xl font-semibold",children:r.toFixed(2)}),$e.jsx(ug,{size:16,className:"ml-1 text-muted-foreground"})]})]})]}),$e.jsx("div",{children:$e.jsx("button",{onClick:()=>n("/"),className:"px-4 py-2 border border-input rounded-lg text-sm font-medium hover:bg-secondary transition-colors",children:"Edit"})})]}),$e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-border",children:[$e.jsxs("div",{className:"flex items-start",children:[$e.jsx("div",{className:"p-2.5 rounded-full bg-primary/10 text-primary mr-3 mt-1",children:$e.jsx(gg,{size:18})}),$e.jsxs("div",{children:[$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contributors"}),$e.jsx("p",{className:"text-xl font-medium",children:s.length})]})]}),$e.jsxs("div",{className:"text-right",children:[$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Remaining"}),$e.jsxs("div",{className:"text-xl font-medium "+(0!==a?"text-amber-500":"text-emerald-500"),children:[a.toFixed(2)," €"]})]})]})]}),s.length>0&&$e.jsx(yR,{contributors:s,totalAmount:r}),$e.jsx("div",{className:"flex justify-between items-center mb-4",children:$e.jsx("h2",{className:"text-xl font-medium",children:"Contributors"})}),$e.jsxs("div",{className:"flex gap-2",children:[$e.jsxs("button",{onClick:()=>{if(0===s.length)return void m({title:"No contributors",description:"Add contributors first to distribute the amount",variant:"destructive"});const e=r/s.length,t=s.map((t=>({...t,amount:parseFloat(e.toFixed(2))})));o(t)},className:"px-4 py-2 border border-input rounded-lg text-sm font-medium hover:bg-secondary transition-colors flex items-center",disabled:0===s.length,children:[$e.jsx(gg,{size:16,className:"mr-2"}),"Split Evenly"]}),$e.jsxs("button",{onClick:g,className:"btn-primary flex items-center",children:[$e.jsx(fg,{size:16,className:"mr-2"}),"Add Person"]})]}),0===s.length?$e.jsx(kS,{children:$e.jsxs("div",{className:"glass-card p-6 text-center",children:[$e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mx-auto mb-3",children:$e.jsx(gg,{size:24})}),$e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Contributors Yet"}),$e.jsx("p",{className:"text-muted-foreground mb-4",children:"Add people to split the payment amount"}),$e.jsxs("button",{onClick:g,className:"btn-primary inline-flex items-center",children:[$e.jsx(fg,{size:16,className:"mr-2"}),"Add Person"]})]})}):$e.jsxs($e.Fragment,{children:[$e.jsx(kS,{delay:.1,className:"mb-6",children:s.map(((e,t)=>$e.jsx("div",{id:`contributor-${e.id}`,className:"relative mb-4 group",onClick:()=>{return t=e.id,o(s.map((e=>e.id===t?{...e,isEditing:!e.isEditing}:e))),void c(u===t?null:t);var t},children:$e.jsxs("div",{className:"glass-card p-4 mb-3",children:[$e.jsxs("div",{className:"flex justify-between items-center",children:[$e.jsxs("div",{className:"flex items-center gap-3",children:[$e.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:$e.jsx(mg,{size:18})}),e.isEditing?$e.jsx("input",{className:"input-field py-1 px-2 text-sm w-[120px]",value:e.name||"",onChange:t=>{return n=e.id,r=t.target.value,void o(s.map((e=>e.id===n?{...e,name:r}:e)));var n,r},placeholder:"Name",autoFocus:!0}):$e.jsxs("div",{children:[$e.jsx("p",{className:"font-medium",children:e.name||"Unnamed"}),$e.jsxs("div",{className:"flex items-center mt-1 text-xs text-muted-foreground",children:[e.hasVerified&&$e.jsxs("div",{className:"flex items-center text-emerald-600",children:[$e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:$e.jsx("path",{d:"M20 6 9 17l-5-5"})}),$e.jsx("span",{children:"Verified"})]}),e.hasPaid&&$e.jsxs("div",{className:"flex items-center text-emerald-600 ml-2",children:[$e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:$e.jsx("path",{d:"M20 6 9 17l-5-5"})}),$e.jsx("span",{children:"Paid"})]})]})]})]}),$e.jsxs("div",{className:"flex items-center gap-2",children:[e.isEditing?$e.jsx("input",{type:"number",min:"0",step:"0.01",className:"input-field py-1 px-2 text-sm w-[100px]",value:e.amount,onChange:t=>{return n=e.id,r=parseFloat(t.target.value)||0,void o(s.map((e=>e.id===n?{...e,amount:r}:e)));var n,r}}):$e.jsxs("div",{className:"flex items-center px-3 py-1.5 bg-primary/5 rounded-lg",children:[$e.jsx("span",{className:"font-medium",children:e.amount.toFixed(2)}),$e.jsx(ug,{size:14,className:"ml-1 text-muted-foreground"})]}),$e.jsx("button",{onClick:t=>{var n;t.stopPropagation(),n=e.id,o(s.filter((e=>e.id!==n)))},className:"w-8 h-8 flex items-center justify-center rounded-full text-destructive hover:bg-destructive/10 transition-colors",children:$e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[$e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),$e.jsxs("div",{className:"mt-3",children:[$e.jsx("div",{className:"relative h-2 bg-secondary rounded-full overflow-hidden",children:$e.jsx("div",{style:{width:e.amount/r*100+"%",position:"absolute",top:0,left:0,height:"100%",backgroundColor:"var(--primary)"}})}),$e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[$e.jsxs("span",{children:[(e.amount/r*100).toFixed(1),"%"]}),$e.jsxs("span",{children:["of €",r.toFixed(2)]})]})]})]})},e.id)))}),0===a&&$e.jsx("div",{className:"flex justify-end mb-6",children:$e.jsx("button",{onClick:async()=>{if(0!==s.length)if(s.some((e=>!e.name||""===e.name.trim())))m({title:"Missing names",description:"Please provide names for all contributors",variant:"destructive"});else try{"demo"!==e&&await pR(e,s),m({title:"Contributors saved",description:`Saved ${s.length} contributors to the pool`})}catch(t){console.error("Error saving contributors:",t),m({title:"Error",description:"Failed to save contributors",variant:"destructive"})}else m({title:"No contributors",description:"Add contributors first to save",variant:"destructive"})},className:"btn-primary",children:"Save Contributors"})})]}),s.length>0&&$e.jsx(kS,{children:$e.jsxs("div",{className:"glass-card p-5 mb-6",children:[$e.jsx("h3",{className:"font-medium mb-3",children:"Contributor Payment Link"}),$e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Share this link with all contributors to collect their payments"}),$e.jsxs("div",{className:"flex items-center justify-between p-3 bg-secondary/30 rounded-lg",children:[$e.jsxs("div",{className:"font-medium",children:[d," Payment Link"]}),$e.jsxs("div",{className:"flex items-center gap-2",children:[$e.jsxs("div",{className:"text-xs truncate max-w-[150px] text-muted-foreground",children:[y().substring(0,20),"..."]}),$e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(y()),m({title:"Link copied",description:"Payment link copied to clipboard"})},className:"p-1.5 rounded-full bg-primary/10 text-primary hover:bg-primary/20 transition-colors",children:$e.jsx(sg,{size:14})})]})]})]})})]})})})},ER=({contributor:e,totalAmount:t,onRemove:n,onEdit:r,onNameChange:i,isCollector:s=!0,index:o=0})=>{const a=e.amount/t*100;return $e.jsx(kS,{delay:.1*o,children:$e.jsx(CS,{scale:1.02,children:$e.jsxs("div",{className:"glass-card p-4 mb-3",children:[$e.jsxs("div",{className:"flex justify-between items-center",children:[$e.jsxs("div",{className:"flex items-center gap-3",children:[$e.jsx("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:$e.jsx(mg,{size:18})}),s&&e.isEditing?$e.jsx("input",{className:"input-field py-1 px-2 text-sm w-[120px]",value:e.name||"",onChange:t=>null==i?void 0:i(e.id,t.target.value),placeholder:"Name",autoFocus:!0}):$e.jsxs("div",{children:[$e.jsx("p",{className:"font-medium",children:e.name||"Unnamed"}),$e.jsxs("div",{className:"flex items-center mt-1 text-xs text-muted-foreground",children:[e.hasVerified&&$e.jsxs("div",{className:"flex items-center text-emerald-600",children:[$e.jsx(ng,{size:12,className:"mr-1"}),$e.jsx("span",{children:"Verified"})]}),e.hasPaid&&$e.jsxs("div",{className:"flex items-center text-emerald-600 ml-2",children:[$e.jsx(ng,{size:12,className:"mr-1"}),$e.jsx("span",{children:"Paid"})]})]})]})]}),$e.jsxs("div",{className:"flex items-center gap-2",children:[s&&e.isEditing?$e.jsx("input",{type:"number",min:"0",step:"0.01",className:"input-field py-1 px-2 text-sm w-[100px]",value:e.amount,onChange:t=>null==r?void 0:r(e.id,parseFloat(t.target.value)||0)}):$e.jsxs("div",{className:"flex items-center px-3 py-1.5 bg-primary/5 rounded-lg",children:[$e.jsx("span",{className:"font-medium",children:e.amount.toFixed(2)}),$e.jsx(ug,{size:14,className:"ml-1 text-muted-foreground"})]}),s&&n&&$e.jsx("button",{onClick:()=>n(e.id),className:"w-8 h-8 flex items-center justify-center rounded-full text-destructive hover:bg-destructive/10 transition-colors",children:$e.jsx(yg,{size:16})})]})]}),s&&$e.jsxs("div",{className:"mt-3",children:[$e.jsx("div",{className:"relative h-2 bg-secondary rounded-full overflow-hidden",children:$e.jsx(bS.div,{initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5,ease:"easeOut"},className:"absolute top-0 left-0 h-full bg-primary"})}),$e.jsxs("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[$e.jsxs("span",{children:[a.toFixed(1),"%"]}),$e.jsxs("span",{children:["of $",t.toFixed(2)]})]})]})]})})})},TR=({onSuccess:e,onCancel:t})=>{const[n,r]=je.useState("initial"),{toast:i}=kp();return $e.jsxs("div",{className:"w-full max-w-md mx-auto",children:["initial"===n&&$e.jsx(vR,{children:$e.jsxs("div",{className:"glass-card p-6",children:[$e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mx-auto mb-4",children:$e.jsx(og,{size:24})}),$e.jsx("h3",{className:"text-xl font-medium text-center mb-2",children:"Verification Payment"}),$e.jsx("p",{className:"text-muted-foreground text-center mb-6",children:"We'll make a temporary 0€ verification charge to confirm your payment method"}),$e.jsx("div",{className:"flex items-center justify-center mb-6",children:$e.jsxs("div",{className:"px-5 py-3 bg-primary/5 rounded-lg flex items-center justify-center",children:[$e.jsx("span",{className:"font-medium text-2xl",children:"0.00"}),$e.jsx(ug,{size:20,className:"ml-1 text-muted-foreground"})]})}),$e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[$e.jsx("button",{onClick:t,className:"px-4 py-2.5 border border-input rounded-lg text-sm font-medium hover:bg-secondary transition-colors",children:"Cancel"}),$e.jsx("button",{onClick:()=>{r("processing"),setTimeout((()=>{r("success"),i({title:"Verification successful",description:"Your payment method has been verified"}),setTimeout((()=>{e()}),1500)}),2e3)},className:"btn-primary",children:"Verify"})]})]})}),"processing"===n&&$e.jsx(vR,{children:$e.jsxs("div",{className:"glass-card p-6 flex flex-col items-center",children:[$e.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-t-primary border-r-primary/30 border-b-primary/10 border-l-primary/30 animate-spin mb-6"}),$e.jsx("h3",{className:"text-xl font-medium mb-2",children:"Processing"}),$e.jsx("p",{className:"text-muted-foreground text-center",children:"Verifying your payment method..."})]})}),"success"===n&&$e.jsx(vR,{children:$e.jsxs("div",{className:"glass-card p-6 flex flex-col items-center",children:[$e.jsx("div",{className:"text-emerald-500 mb-4",children:$e.jsx(NS,{size:64})}),$e.jsx("h3",{className:"text-xl font-medium mb-2",children:"Verification Complete!"}),$e.jsx("p",{className:"text-muted-foreground text-center",children:"Your payment method has been successfully verified"})]})})]})},SR=()=>{const{poolId:e="demo"}=Gf(),[t]=vp(),n=qf(),[r,i]=je.useState("details"),[s,o]=je.useState(""),[a,l]=je.useState(0),[u,c]=je.useState(null),[d,h]=je.useState(!0),[f,p]=je.useState(""),[m,g]=je.useState([]),[y,v]=je.useState(!1),{toast:b}=kp();je.useEffect((()=>{(async()=>{try{if(!e)return void n("/");const r=t.get("name");r&&o(decodeURIComponent(r));const i=await fR(e);if(!i)return b({title:"Pool not found",description:"The requested payment pool doesn't exist",variant:"destructive"}),void n("/");c(i);const s=i.contributors.filter((e=>!e.hasVerified&&!e.hasPaid));if(g(s),r){const e=i.contributors.find((e=>e.name===decodeURIComponent(r)));e?(l(e.amount),p(e.id)):b({title:"Contributor not found",description:"Your name was not found in this payment pool",variant:"destructive"})}}catch(r){console.error("Error fetching pool data:",r),b({title:"Error",description:"Failed to load payment details",variant:"destructive"})}finally{h(!1)}})()}),[e,t,n,b]);if(d)return $e.jsx("div",{className:"h-screen flex items-center justify-center",children:$e.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})});if(!u)return null;const w={id:f||"temp-id",name:s||"You",amount:a,hasVerified:"success"===r,hasPaid:!1};return $e.jsxs("div",{className:"max-w-md mx-auto px-4 py-8",children:["details"===r&&$e.jsxs(kS,{children:[$e.jsxs("div",{className:"mb-8",children:[$e.jsx("div",{className:"chip mb-2 bg-primary/10 text-primary",children:"PAYMENT REQUEST"}),$e.jsx("h1",{className:"text-3xl font-semibold mb-2",children:"Your Payment"}),$e.jsx("p",{className:"text-muted-foreground",children:"Complete the form below to make your payment"})]}),$e.jsx(kS,{children:$e.jsx("form",{onSubmit:e=>{if(e.preventDefault(),s){if(!f&&u){const e=u.contributors.find((e=>e.name===s));if(!e)return void b({title:"Contributor not found",description:"Your name was not found in this payment pool",variant:"destructive"});l(e.amount),p(e.id)}i("verification")}else b({title:"Name required",description:"Please enter your name to continue",variant:"destructive"})},className:"mb-6",children:$e.jsxs("div",{className:"glass-card p-5",children:[$e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Who Are You?"}),$e.jsxs("div",{className:"mb-4",children:[$e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Your Name"}),$e.jsxs("div",{className:"relative",children:[$e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:$e.jsx(pg,{size:18})}),m.length>0?$e.jsxs("div",{className:"relative",children:[$e.jsxs("button",{type:"button",className:"input-field pl-10 pr-10 w-full text-left flex justify-between items-center",onClick:()=>{v(!y)},children:[s||"Select your name",$e.jsx(rg,{size:18,className:"transition-transform "+(y?"rotate-180":"")})]}),y&&$e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-background border border-input rounded-lg shadow-lg z-10",children:m.map((e=>$e.jsx("button",{type:"button",className:"w-full text-left px-4 py-2 hover:bg-secondary transition-colors",onClick:()=>((e,t)=>{if(o(e),p(t),v(!1),u){const e=u.contributors.find((e=>e.id===t));e&&l(e.amount)}})(e.name,e.id),children:e.name},e.id)))})]}):$e.jsx("input",{id:"name",type:"text",value:s,onChange:e=>o(e.target.value),className:"input-field pl-10 w-full",placeholder:"Enter your name",required:!0,disabled:!!t.get("name")})]}),t.get("name")&&$e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your name is provided in the payment link"}),m.length>0&&$e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Choose from the names provided by the collector"})]}),$e.jsxs("button",{type:"submit",className:"btn-primary w-full flex items-center justify-center",disabled:!s,children:["Continue to Verification",$e.jsx(Jm,{size:16,className:"ml-2"})]})]})})}),f&&$e.jsx(kS,{delay:.2,children:$e.jsx(ER,{contributor:w,totalAmount:u.totalAmount,isCollector:!1})})]}),"verification"===r&&$e.jsxs(kS,{children:[$e.jsxs("div",{className:"mb-8",children:[$e.jsx("div",{className:"chip mb-2 bg-primary/10 text-primary",children:"PAYMENT VERIFICATION"}),$e.jsx("h1",{className:"text-3xl font-semibold mb-2",children:"Verify Payment"}),$e.jsx("p",{className:"text-muted-foreground",children:"Complete a 0€ verification to confirm your payment method"})]}),$e.jsx(TR,{onSuccess:async()=>{try{"demo"!==e&&f&&await(async(e,t,n)=>{try{const r=await fR(e);if(!r)throw new Error("Pool not found");const i=r.contributors.map((e=>e.id===t?{...e,...n}:e));await pR(e,i)}catch(r){throw console.error("Error updating contributor status:",r),r}})(e,f,{hasVerified:!0,hasPaid:!1}),i("success"),b({title:"Verification successful",description:"Your payment method has been verified"})}catch(t){console.error("Error updating contributor status:",t),i("success")}},onCancel:()=>{i("details")}})]}),"success"===r&&$e.jsxs(kS,{children:[$e.jsxs("div",{className:"text-center mb-8",children:[$e.jsx("div",{className:"text-emerald-500 mb-4 inline-block",children:$e.jsx(ng,{className:"w-20 h-20 p-4 rounded-full bg-emerald-100"})}),$e.jsx("h1",{className:"text-3xl font-semibold mb-2",children:"Verification Complete!"}),$e.jsxs("p",{className:"text-muted-foreground",children:["Thank you, ",s,". Your payment method has been successfully verified. The collector will process the payment once all participants have verified their payment methods."]})]}),$e.jsx(kS,{children:$e.jsx("div",{className:"glass-card p-5 mb-6",children:$e.jsxs("div",{className:"flex justify-between items-center",children:[$e.jsxs("div",{className:"flex items-center",children:[$e.jsx("div",{className:"p-2.5 rounded-full bg-emerald-100 text-emerald-600 mr-3",children:$e.jsx(ng,{size:18})}),$e.jsxs("div",{children:[$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Verified Amount"}),$e.jsxs("div",{className:"flex items-center",children:[$e.jsx("span",{className:"text-2xl font-semibold",children:a.toFixed(2)}),$e.jsx(ug,{size:18,className:"ml-1 text-muted-foreground"})]})]})]}),$e.jsx("div",{className:"chip bg-emerald-100 text-emerald-700",children:"Verified"})]})})}),$e.jsx(kS,{delay:.2,children:$e.jsx(ER,{contributor:w,totalAmount:u.totalAmount,isCollector:!1})})]})]})},PR=je.forwardRef((({className:e,...t},n)=>$e.jsx("div",{className:"relative w-full overflow-auto",children:$e.jsx("table",{ref:n,className:ry("w-full caption-bottom text-sm",e),...t})})));PR.displayName="Table";const _R=je.forwardRef((({className:e,...t},n)=>$e.jsx("thead",{ref:n,className:ry("[&_tr]:border-b",e),...t})));_R.displayName="TableHeader";const kR=je.forwardRef((({className:e,...t},n)=>$e.jsx("tbody",{ref:n,className:ry("[&_tr:last-child]:border-0",e),...t})));kR.displayName="TableBody";je.forwardRef((({className:e,...t},n)=>$e.jsx("tfoot",{ref:n,className:ry("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}))).displayName="TableFooter";const CR=je.forwardRef((({className:e,...t},n)=>$e.jsx("tr",{ref:n,className:ry("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t})));CR.displayName="TableRow";const NR=je.forwardRef((({className:e,...t},n)=>$e.jsx("th",{ref:n,className:ry("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t})));NR.displayName="TableHead";const AR=je.forwardRef((({className:e,...t},n)=>$e.jsx("td",{ref:n,className:ry("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t})));AR.displayName="TableCell";je.forwardRef((({className:e,...t},n)=>$e.jsx("caption",{ref:n,className:ry("mt-4 text-sm text-muted-foreground",e),...t}))).displayName="TableCaption";class OR{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,t,n,r,i,s,o,a){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){const e=new TypeError(OR.TIMEOUT_ERROR_CODE);return e.code=OR.TIMEOUT_ERROR_CODE,e}}OR.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"],OR.TIMEOUT_ERROR_CODE="ETIMEDOUT";class IR{constructor(e,t){this._statusCode=e,this._headers=t}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}}class jR extends OR{constructor(e){if(super(),!e){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=jR.makeFetchWithAbortTimeout(e):this._fetchFn=jR.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(t,n,r)=>{let i;const s=new Promise(((e,t)=>{i=setTimeout((()=>{i=null,t(OR.makeTimeoutError())}),r)})),o=e(t,n);return Promise.race([o,s]).finally((()=>{i&&clearTimeout(i)}))}}static makeFetchWithAbortTimeout(e){return async(t,n,r)=>{const i=new AbortController;let s=setTimeout((()=>{s=null,i.abort(OR.makeTimeoutError())}),r);try{return await e(t,Object.assign(Object.assign({},n),{signal:i.signal}))}catch(o){throw"AbortError"===o.name?OR.makeTimeoutError():o}finally{s&&clearTimeout(s)}}}getClientName(){return"fetch"}async makeRequest(e,t,n,r,i,s,o,a){const l=new URL(n,`${"http"===o?"http":"https"}://${e}`);l.port=t;const u=s||("POST"==r||"PUT"==r||"PATCH"==r?"":void 0),c=await this._fetchFn(l.toString(),{method:r,headers:i,body:u},a);return new RR(c)}}class RR extends IR{constructor(e){super(e.status,RR._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){const t={};for(const n of e){if(!Array.isArray(n)||2!=n.length)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");t[n[0]]=n[1]}return t}}class DR{computeHMACSignature(e,t){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,t){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw new Error("computeSHA256 not implemented.")}}class MR extends Error{}class LR extends DR{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,t){throw new MR("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,t){const n=new TextEncoder,r=await this.subtleCrypto.importKey("raw",n.encode(t),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),i=await this.subtleCrypto.sign("hmac",r,n.encode(e)),s=new Uint8Array(i),o=new Array(s.length);for(let a=0;a<s.length;a++)o[a]=FR[s[a]];return o.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}}const FR=new Array(256);for(let Zq=0;Zq<FR.length;Zq++)FR[Zq]=Zq.toString(16).padStart(2,"0");class VR{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}secureCompare(e,t){if(e.length!==t.length)return!1;const n=e.length;let r=0;for(let i=0;i<n;++i)r|=e.charCodeAt(i)^t.charCodeAt(i);return 0===r}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new jR(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new LR(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}}class UR extends Event{constructor(e,t){super(e),this.data=t}}class zR{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(e,t){const n=e=>{t(e.data)};return this.listenerMapping.set(t,n),this.eventTarget.addEventListener(e,n)}removeListener(e,t){const n=this.listenerMapping.get(t);return this.listenerMapping.delete(t),this.eventTarget.removeEventListener(e,n)}once(e,t){const n=e=>{t(e.data)};return this.listenerMapping.set(t,n),this.eventTarget.addEventListener(e,n,{once:!0})}emit(e,t){return this.eventTarget.dispatchEvent(new UR(e,t))}}const BR=e=>{switch(e.type){case"card_error":return new GR(e);case"invalid_request_error":return new HR(e);case"api_error":return new WR(e);case"authentication_error":return new KR(e);case"rate_limit_error":return new YR(e);case"idempotency_error":return new ZR(e);case"invalid_grant":return new eD(e);default:return new tD(e)}},$R=e=>"temporary_session_expired"===e.type?new nD(e):"invalid_fields"===e.code?new HR(e):BR(e);class qR extends Error{constructor(e={},t=null){super(e.message),this.type=t||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=e.message,this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}qR.generate=BR;class GR extends qR{constructor(e={}){super(e,"StripeCardError")}}class HR extends qR{constructor(e={}){super(e,"StripeInvalidRequestError")}}class WR extends qR{constructor(e={}){super(e,"StripeAPIError")}}class KR extends qR{constructor(e={}){super(e,"StripeAuthenticationError")}}class QR extends qR{constructor(e={}){super(e,"StripePermissionError")}}class YR extends qR{constructor(e={}){super(e,"StripeRateLimitError")}}class XR extends qR{constructor(e={}){super(e,"StripeConnectionError")}}class JR extends qR{constructor(e,t,n={}){super(n,"StripeSignatureVerificationError"),this.header=e,this.payload=t}}class ZR extends qR{constructor(e={}){super(e,"StripeIdempotencyError")}}class eD extends qR{constructor(e={}){super(e,"StripeInvalidGrantError")}}class tD extends qR{constructor(e={}){super(e,"StripeUnknownError")}}class nD extends qR{constructor(e={}){super(e,"TemporarySessionExpiredError")}}const rD=Object.freeze(Object.defineProperty({__proto__:null,StripeAPIError:WR,StripeAuthenticationError:KR,StripeCardError:GR,StripeConnectionError:XR,StripeError:qR,StripeIdempotencyError:ZR,StripeInvalidGrantError:eD,StripeInvalidRequestError:HR,StripePermissionError:QR,StripeRateLimitError:YR,StripeSignatureVerificationError:JR,StripeUnknownError:tD,TemporarySessionExpiredError:nD,generateV1Error:BR,generateV2Error:$R},Symbol.toStringTag,{value:"Module"}));var iD=TypeError;const sD=K(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var oD="function"==typeof Map&&Map.prototype,aD=Object.getOwnPropertyDescriptor&&oD?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,lD=oD&&aD&&"function"==typeof aD.get?aD.get:null,uD=oD&&Map.prototype.forEach,cD="function"==typeof Set&&Set.prototype,dD=Object.getOwnPropertyDescriptor&&cD?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,hD=cD&&dD&&"function"==typeof dD.get?dD.get:null,fD=cD&&Set.prototype.forEach,pD="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,mD="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,gD="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,yD=Boolean.prototype.valueOf,vD=Object.prototype.toString,bD=Function.prototype.toString,wD=String.prototype.match,xD=String.prototype.slice,ED=String.prototype.replace,TD=String.prototype.toUpperCase,SD=String.prototype.toLowerCase,PD=RegExp.prototype.test,_D=Array.prototype.concat,kD=Array.prototype.join,CD=Array.prototype.slice,ND=Math.floor,AD="function"==typeof BigInt?BigInt.prototype.valueOf:null,OD=Object.getOwnPropertySymbols,ID="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,jD="function"==typeof Symbol&&"object"==typeof Symbol.iterator,RD="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===jD||"symbol")?Symbol.toStringTag:null,DD=Object.prototype.propertyIsEnumerable,MD=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function LD(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||PD.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-ND(-e):ND(e);if(r!==e){var i=String(r),s=xD.call(t,i.length+1);return ED.call(i,n,"$&_")+"."+ED.call(ED.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ED.call(t,n,"$&_")}var FD=sD,VD=FD.custom,UD=QD(VD)?VD:null,zD={__proto__:null,double:'"',single:"'"},BD={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},$D=function e(t,n,r,i){var s=n||{};if(XD(s,"quoteStyle")&&!XD(zD,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(XD(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=!XD(s,"customInspect")||s.customInspect;if("boolean"!=typeof o&&"symbol"!==o)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(XD(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(XD(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return eM(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var l=String(t);return a?LD(t,l):l}if("bigint"==typeof t){var u=String(t)+"n";return a?LD(t,u):u}var c=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=c&&c>0&&"object"==typeof t)return WD(t)?"[Array]":"[Object]";var d=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=kD.call(Array(e.indent+1)," ")}return{base:n,prev:kD.call(Array(t+1),n)}}(s,r);if(void 0===i)i=[];else if(ZD(i,t)>=0)return"[Circular]";function h(t,n,o){if(n&&(i=CD.call(i)).push(n),o){var a={depth:s.depth};return XD(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,r+1,i)}return e(t,s,r+1,i)}if("function"==typeof t&&!KD(t)){var f=function(e){if(e.name)return e.name;var t=wD.call(bD.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),p=oM(t,h);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(p.length>0?" { "+kD.call(p,", ")+" }":"")}if(QD(t)){var m=jD?ED.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):ID.call(t);return"object"!=typeof t||jD?m:nM(m)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var g="<"+SD.call(String(t.nodeName)),y=t.attributes||[],v=0;v<y.length;v++)g+=" "+y[v].name+"="+qD(GD(y[v].value),"double",s);return g+=">",t.childNodes&&t.childNodes.length&&(g+="..."),g+="</"+SD.call(String(t.nodeName))+">"}if(WD(t)){if(0===t.length)return"[]";var b=oM(t,h);return d&&!function(e){for(var t=0;t<e.length;t++)if(ZD(e[t],"\n")>=0)return!1;return!0}(b)?"["+sM(b,d)+"]":"[ "+kD.call(b,", ")+" ]"}if(function(e){return"[object Error]"===JD(e)&&HD(e)}(t)){var w=oM(t,h);return"cause"in Error.prototype||!("cause"in t)||DD.call(t,"cause")?0===w.length?"["+String(t)+"]":"{ ["+String(t)+"] "+kD.call(w,", ")+" }":"{ ["+String(t)+"] "+kD.call(_D.call("[cause]: "+h(t.cause),w),", ")+" }"}if("object"==typeof t&&o){if(UD&&"function"==typeof t[UD]&&FD)return FD(t,{depth:c-r});if("symbol"!==o&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!lD||!e||"object"!=typeof e)return!1;try{lD.call(e);try{hD.call(e)}catch(g){return!0}return e instanceof Map}catch(Yq){}return!1}(t)){var x=[];return uD&&uD.call(t,(function(e,n){x.push(h(n,t,!0)+" => "+h(e,t))})),iM("Map",lD.call(t),x,d)}if(function(e){if(!hD||!e||"object"!=typeof e)return!1;try{hD.call(e);try{lD.call(e)}catch(t){return!0}return e instanceof Set}catch(Yq){}return!1}(t)){var E=[];return fD&&fD.call(t,(function(e){E.push(h(e,t))})),iM("Set",hD.call(t),E,d)}if(function(e){if(!pD||!e||"object"!=typeof e)return!1;try{pD.call(e,pD);try{mD.call(e,mD)}catch(g){return!0}return e instanceof WeakMap}catch(Yq){}return!1}(t))return rM("WeakMap");if(function(e){if(!mD||!e||"object"!=typeof e)return!1;try{mD.call(e,mD);try{pD.call(e,pD)}catch(g){return!0}return e instanceof WeakSet}catch(Yq){}return!1}(t))return rM("WeakSet");if(function(e){if(!gD||!e||"object"!=typeof e)return!1;try{return gD.call(e),!0}catch(Yq){}return!1}(t))return rM("WeakRef");if(function(e){return"[object Number]"===JD(e)&&HD(e)}(t))return nM(h(Number(t)));if(function(e){if(!e||"object"!=typeof e||!AD)return!1;try{return AD.call(e),!0}catch(Yq){}return!1}(t))return nM(h(AD.call(t)));if(function(e){return"[object Boolean]"===JD(e)&&HD(e)}(t))return nM(yD.call(t));if(function(e){return"[object String]"===JD(e)&&HD(e)}(t))return nM(h(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==H&&t===H)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===JD(e)&&HD(e)}(t)&&!KD(t)){var T=oM(t,h),S=MD?MD(t)===Object.prototype:t instanceof Object||t.constructor===Object,P=t instanceof Object?"":"null prototype",_=!S&&RD&&Object(t)===t&&RD in t?xD.call(JD(t),8,-1):P?"Object":"",k=(S||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(_||P?"["+kD.call(_D.call([],_||[],P||[]),": ")+"] ":"");return 0===T.length?k+"{}":d?k+"{"+sM(T,d)+"}":k+"{ "+kD.call(T,", ")+" }"}return String(t)};function qD(e,t,n){var r=n.quoteStyle||t,i=zD[r];return i+e+i}function GD(e){return ED.call(String(e),/"/g,"&quot;")}function HD(e){return!RD||!("object"==typeof e&&(RD in e||void 0!==e[RD]))}function WD(e){return"[object Array]"===JD(e)&&HD(e)}function KD(e){return"[object RegExp]"===JD(e)&&HD(e)}function QD(e){if(jD)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!ID)return!1;try{return ID.call(e),!0}catch(Yq){}return!1}var YD=Object.prototype.hasOwnProperty||function(e){return e in this};function XD(e,t){return YD.call(e,t)}function JD(e){return vD.call(e)}function ZD(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function eM(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return eM(xD.call(e,0,t.maxStringLength),t)+r}var i=BD[t.quoteStyle||"single"];return i.lastIndex=0,qD(ED.call(ED.call(e,i,"\\$1"),/[\x00-\x1f]/g,tM),"single",t)}function tM(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+TD.call(t.toString(16))}function nM(e){return"Object("+e+")"}function rM(e){return e+" { ? }"}function iM(e,t,n,r){return e+" ("+t+") {"+(r?sM(n,r):kD.call(n,", "))+"}"}function sM(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+kD.call(e,","+n)+"\n"+t.prev}function oM(e,t){var n=WD(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=XD(e,i)?t(e[i],e):""}var s,o="function"==typeof OD?OD(e):[];if(jD){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in e)XD(e,l)&&(n&&String(Number(l))===l&&l<e.length||jD&&s["$"+l]instanceof Symbol||(PD.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof OD)for(var u=0;u<o.length;u++)DD.call(e,o[u])&&r.push("["+t(o[u])+"]: "+t(e[o[u]],e));return r}var aM=$D,lM=iD,uM=function(e,t,n){for(var r,i=e;null!=(r=i.next);i=r)if(r.key===t)return i.next=r.next,n||(r.next=e.next,e.next=r),r},cM=Object,dM=Error,hM=EvalError,fM=RangeError,pM=ReferenceError,mM=SyntaxError,gM=URIError,yM=Math.abs,vM=Math.floor,bM=Math.max,wM=Math.min,xM=Math.pow,EM=Math.round,TM=Number.isNaN||function(e){return e!=e},SM=TM,PM=Object.getOwnPropertyDescriptor;if(PM)try{PM([],"length")}catch(Yq){PM=null}var _M=PM,kM=Object.defineProperty||!1;if(kM)try{kM({},"a",{value:1})}catch(Yq){kM=!1}var CM,NM,AM,OM,IM,jM,RM,DM,MM=kM;function LM(){return jM?IM:(jM=1,IM="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null)}function FM(){return DM?RM:(DM=1,RM=cM.getPrototypeOf||null)}var VM,UM,zM=Object.prototype.toString,BM=Math.max,$M=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n},qM=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==zM.apply(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,r=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments,1),i=BM(0,t.length-r.length),s=[],o=0;o<i;o++)s[o]="$"+o;if(n=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(s,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var i=t.apply(this,$M(r,arguments));return Object(i)===i?i:this}return t.apply(e,$M(r,arguments))})),t.prototype){var a=function(){};a.prototype=t.prototype,n.prototype=new a,a.prototype=null}return n},GM=Function.prototype.bind||qM,HM=Function.prototype.call;function WM(){return UM?VM:(UM=1,VM=Function.prototype.apply)}var KM,QM,YM,XM,JM,ZM,eL,tL="undefined"!=typeof Reflect&&Reflect&&Reflect.apply,nL=GM,rL=WM(),iL=HM,sL=tL||nL.call(iL,rL),oL=GM,aL=iD,lL=HM,uL=sL,cL=function(e){if(e.length<1||"function"!=typeof e[0])throw new aL("a function is required");return uL(oL,lL,e)};var dL=cM,hL=dM,fL=hM,pL=fM,mL=pM,gL=mM,yL=iD,vL=gM,bL=yM,wL=vM,xL=bM,EL=wM,TL=xM,SL=EM,PL=function(e){return SM(e)||0===e?e:e<0?-1:1},_L=Function,kL=function(e){try{return _L('"use strict"; return ('+e+").constructor;")()}catch(Yq){}},CL=_M,NL=MM,AL=function(){throw new yL},OL=CL?function(){try{return AL}catch(e){try{return CL(arguments,"callee").get}catch(t){return AL}}}():AL,IL=function(){if(OM)return AM;OM=1;var e="undefined"!=typeof Symbol&&Symbol,t=NM?CM:(NM=1,CM=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0});return AM=function(){return"function"==typeof e&&("function"==typeof Symbol&&("symbol"==typeof e("foo")&&("symbol"==typeof Symbol("bar")&&t())))}}()(),jL=function(){if(XM)return YM;XM=1;var e=LM(),t=FM(),n=function(){if(QM)return KM;QM=1;var e,t=cL,n=_M;try{e=[].__proto__===Array.prototype}catch(Yq){if(!Yq||"object"!=typeof Yq||!("code"in Yq)||"ERR_PROTO_ACCESS"!==Yq.code)throw Yq}var r=!!e&&n&&n(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return KM=r&&"function"==typeof r.get?t([r.get]):"function"==typeof s&&function(e){return s(null==e?e:i(e))}}();return YM=e?function(t){return e(t)}:t?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return t(e)}:n?function(e){return n(e)}:null}(),RL=FM(),DL=LM(),ML=WM(),LL=HM,FL={},VL="undefined"!=typeof Uint8Array&&jL?jL(Uint8Array):eL,UL={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?eL:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?eL:ArrayBuffer,"%ArrayIteratorPrototype%":IL&&jL?jL([][Symbol.iterator]()):eL,"%AsyncFromSyncIteratorPrototype%":eL,"%AsyncFunction%":FL,"%AsyncGenerator%":FL,"%AsyncGeneratorFunction%":FL,"%AsyncIteratorPrototype%":FL,"%Atomics%":"undefined"==typeof Atomics?eL:Atomics,"%BigInt%":"undefined"==typeof BigInt?eL:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?eL:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?eL:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?eL:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":hL,"%eval%":eval,"%EvalError%":fL,"%Float16Array%":"undefined"==typeof Float16Array?eL:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?eL:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?eL:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?eL:FinalizationRegistry,"%Function%":_L,"%GeneratorFunction%":FL,"%Int8Array%":"undefined"==typeof Int8Array?eL:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?eL:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?eL:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":IL&&jL?jL(jL([][Symbol.iterator]())):eL,"%JSON%":"object"==typeof JSON?JSON:eL,"%Map%":"undefined"==typeof Map?eL:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&IL&&jL?jL((new Map)[Symbol.iterator]()):eL,"%Math%":Math,"%Number%":Number,"%Object%":dL,"%Object.getOwnPropertyDescriptor%":CL,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?eL:Promise,"%Proxy%":"undefined"==typeof Proxy?eL:Proxy,"%RangeError%":pL,"%ReferenceError%":mL,"%Reflect%":"undefined"==typeof Reflect?eL:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?eL:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&IL&&jL?jL((new Set)[Symbol.iterator]()):eL,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?eL:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":IL&&jL?jL(""[Symbol.iterator]()):eL,"%Symbol%":IL?Symbol:eL,"%SyntaxError%":gL,"%ThrowTypeError%":OL,"%TypedArray%":VL,"%TypeError%":yL,"%Uint8Array%":"undefined"==typeof Uint8Array?eL:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?eL:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?eL:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?eL:Uint32Array,"%URIError%":vL,"%WeakMap%":"undefined"==typeof WeakMap?eL:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?eL:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?eL:WeakSet,"%Function.prototype.call%":LL,"%Function.prototype.apply%":ML,"%Object.defineProperty%":NL,"%Object.getPrototypeOf%":RL,"%Math.abs%":bL,"%Math.floor%":wL,"%Math.max%":xL,"%Math.min%":EL,"%Math.pow%":TL,"%Math.round%":SL,"%Math.sign%":PL,"%Reflect.getPrototypeOf%":DL};if(jL)try{null.error}catch(Yq){var zL=jL(jL(Yq));UL["%Error.prototype%"]=zL}var BL=function e(t){var n;if("%AsyncFunction%"===t)n=kL("async function () {}");else if("%GeneratorFunction%"===t)n=kL("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=kL("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&jL&&(n=jL(i.prototype))}return UL[t]=n,n},$L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},qL=GM,GL=function(){if(ZM)return JM;ZM=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty;return JM=GM.call(e,t)}(),HL=qL.call(LL,Array.prototype.concat),WL=qL.call(ML,Array.prototype.splice),KL=qL.call(LL,String.prototype.replace),QL=qL.call(LL,String.prototype.slice),YL=qL.call(LL,RegExp.prototype.exec),XL=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,JL=/\\(\\)?/g,ZL=function(e,t){var n,r=e;if(GL($L,r)&&(r="%"+(n=$L[r])[0]+"%"),GL(UL,r)){var i=UL[r];if(i===FL&&(i=BL(r)),void 0===i&&!t)throw new yL("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new gL("intrinsic "+e+" does not exist!")},eF=function(e,t){if("string"!=typeof e||0===e.length)throw new yL("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new yL('"allowMissing" argument must be a boolean');if(null===YL(/^%?[^%]*%?$/,e))throw new gL("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=QL(e,0,1),n=QL(e,-1);if("%"===t&&"%"!==n)throw new gL("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new gL("invalid intrinsic syntax, expected opening `%`");var r=[];return KL(e,XL,(function(e,t,n,i){r[r.length]=n?KL(i,JL,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=ZL("%"+r+"%",t),s=i.name,o=i.value,a=!1,l=i.alias;l&&(r=l[0],WL(n,HL([0,1],l)));for(var u=1,c=!0;u<n.length;u+=1){var d=n[u],h=QL(d,0,1),f=QL(d,-1);if(('"'===h||"'"===h||"`"===h||'"'===f||"'"===f||"`"===f)&&h!==f)throw new gL("property names with quotes must have matching quotes");if("constructor"!==d&&c||(a=!0),GL(UL,s="%"+(r+="."+d)+"%"))o=UL[s];else if(null!=o){if(!(d in o)){if(!t)throw new yL("base intrinsic for "+e+" exists, but the property is not available.");return}if(CL&&u+1>=n.length){var p=CL(o,d);o=(c=!!p)&&"get"in p&&!("originalValue"in p.get)?p.get:o[d]}else c=GL(o,d),o=o[d];c&&!a&&(UL[s]=o)}}return o},tF=eF,nF=cL,rF=nF([tF("%String.prototype.indexOf%")]),iF=function(e,t){var n=tF(e,!!t);return"function"==typeof n&&rF(e,".prototype.")>-1?nF([n]):n},sF=iF,oF=$D,aF=iD,lF=eF("%Map%",!0),uF=sF("Map.prototype.get",!0),cF=sF("Map.prototype.set",!0),dF=sF("Map.prototype.has",!0),hF=sF("Map.prototype.delete",!0),fF=sF("Map.prototype.size",!0),pF=!!lF&&function(){var e,t={assert:function(e){if(!t.has(e))throw new aF("Side channel does not contain "+oF(e))},delete:function(t){if(e){var n=hF(e,t);return 0===fF(e)&&(e=void 0),n}return!1},get:function(t){if(e)return uF(e,t)},has:function(t){return!!e&&dF(e,t)},set:function(t,n){e||(e=new lF),cF(e,t,n)}};return t},mF=iF,gF=$D,yF=pF,vF=iD,bF=eF("%WeakMap%",!0),wF=mF("WeakMap.prototype.get",!0),xF=mF("WeakMap.prototype.set",!0),EF=mF("WeakMap.prototype.has",!0),TF=mF("WeakMap.prototype.delete",!0),SF=iD,PF=$D,_F=(bF?function(){var e,t,n={assert:function(e){if(!n.has(e))throw new vF("Side channel does not contain "+gF(e))},delete:function(n){if(bF&&n&&("object"==typeof n||"function"==typeof n)){if(e)return TF(e,n)}else if(yF&&t)return t.delete(n);return!1},get:function(n){return bF&&n&&("object"==typeof n||"function"==typeof n)&&e?wF(e,n):t&&t.get(n)},has:function(n){return bF&&n&&("object"==typeof n||"function"==typeof n)&&e?EF(e,n):!!t&&t.has(n)},set:function(n,r){bF&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new bF),xF(e,n,r)):yF&&(t||(t=yF()),t.set(n,r))}};return n}:yF)||pF||function(){var e,t={assert:function(e){if(!t.has(e))throw new lM("Side channel does not contain "+aM(e))},delete:function(t){var n=e&&e.next,r=function(e,t){if(e)return uM(e,t,!0)}(e,t);return r&&n&&n===r&&(e=void 0),!!r},get:function(t){return function(e,t){if(e){var n=uM(e,t);return n&&n.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!uM(e,t)}(e,t)},set:function(t,n){e||(e={next:void 0}),function(e,t,n){var r=uM(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(e,t,n)}};return t},kF=String.prototype.replace,CF=/%20/g,NF="RFC3986",AF={default:NF,formatters:{RFC1738:function(e){return kF.call(e,CF,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:NF},OF=AF,IF=Object.prototype.hasOwnProperty,jF=Array.isArray,RF=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),DF=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},MF=1024,LF={arrayToObject:DF,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],s=i.obj[i.prop],o=Object.keys(s),a=0;a<o.length;++a){var l=o[a],u=s[l];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:s,prop:l}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(jF(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(Yq){return r}},encode:function(e,t,n,r,i){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var o="",a=0;a<s.length;a+=MF){for(var l=s.length>=MF?s.slice(a,a+MF):s,u=[],c=0;c<l.length;++c){var d=l.charCodeAt(c);45===d||46===d||95===d||126===d||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===OF.RFC1738&&(40===d||41===d)?u[u.length]=l.charAt(c):d<128?u[u.length]=RF[d]:d<2048?u[u.length]=RF[192|d>>6]+RF[128|63&d]:d<55296||d>=57344?u[u.length]=RF[224|d>>12]+RF[128|d>>6&63]+RF[128|63&d]:(c+=1,d=65536+((1023&d)<<10|1023&l.charCodeAt(c)),u[u.length]=RF[240|d>>18]+RF[128|d>>12&63]+RF[128|d>>6&63]+RF[128|63&d])}o+=u.join("")}return o},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(jF(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(jF(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!IF.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var i=t;return jF(t)&&!jF(n)&&(i=DF(t,r)),jF(t)&&jF(n)?(n.forEach((function(n,i){if(IF.call(t,i)){var s=t[i];s&&"object"==typeof s&&n&&"object"==typeof n?t[i]=e(s,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var s=n[i];return IF.call(t,i)?t[i]=e(t[i],s,r):t[i]=s,t}),i)}},FF=function(){var e,t={assert:function(e){if(!t.has(e))throw new SF("Side channel does not contain "+PF(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,n){e||(e=_F()),e.set(t,n)}};return t},VF=LF,UF=AF,zF=Object.prototype.hasOwnProperty,BF={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},$F=Array.isArray,qF=Array.prototype.push,GF=function(e,t){qF.apply(e,$F(t)?t:[t])},HF=Date.prototype.toISOString,WF=UF.default,KF={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:VF.encode,encodeValuesOnly:!1,format:WF,formatter:UF.formatters[WF],indices:!1,serializeDate:function(e){return HF.call(e)},skipNulls:!1,strictNullHandling:!1},QF={},YF=function e(t,n,r,i,s,o,a,l,u,c,d,h,f,p,m,g,y,v){for(var b,w=t,x=v,E=0,T=!1;void 0!==(x=x.get(QF))&&!T;){var S=x.get(t);if(E+=1,void 0!==S){if(S===E)throw new RangeError("Cyclic object value");T=!0}void 0===x.get(QF)&&(E=0)}if("function"==typeof c?w=c(n,w):w instanceof Date?w=f(w):"comma"===r&&$F(w)&&(w=VF.maybeMap(w,(function(e){return e instanceof Date?f(e):e}))),null===w){if(o)return u&&!g?u(n,KF.encoder,y,"key",p):n;w=""}if("string"==typeof(b=w)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||VF.isBuffer(w))return u?[m(g?n:u(n,KF.encoder,y,"key",p))+"="+m(u(w,KF.encoder,y,"value",p))]:[m(n)+"="+m(String(w))];var P,_=[];if(void 0===w)return _;if("comma"===r&&$F(w))g&&u&&(w=VF.maybeMap(w,u)),P=[{value:w.length>0?w.join(",")||null:void 0}];else if($F(c))P=c;else{var k=Object.keys(w);P=d?k.sort(d):k}var C=l?n.replace(/\./g,"%2E"):n,N=i&&$F(w)&&1===w.length?C+"[]":C;if(s&&$F(w)&&0===w.length)return N+"[]";for(var A=0;A<P.length;++A){var O=P[A],I="object"==typeof O&&void 0!==O.value?O.value:w[O];if(!a||null!==I){var j=h&&l?O.replace(/\./g,"%2E"):O,R=$F(w)?"function"==typeof r?r(N,j):N:N+(h?"."+j:"["+j+"]");v.set(t,E);var D=FF();D.set(QF,v),GF(_,e(I,R,r,i,s,o,a,l,"comma"===r&&g&&$F(w)?null:u,c,d,h,f,p,m,g,y,D))}}return _},XF=LF,JF=Object.prototype.hasOwnProperty,ZF=Array.isArray,eV={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:XF.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},tV=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},nV=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},rV=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,o=n.depth>0&&/(\[[^[\]]*])/.exec(i),a=o?i.slice(0,o.index):i,l=[];if(a){if(!n.plainObjects&&JF.call(Object.prototype,a)&&!n.allowPrototypes)return;l.push(a)}for(var u=0;n.depth>0&&null!==(o=s.exec(i))&&u<n.depth;){if(u+=1,!n.plainObjects&&JF.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(o[1])}if(o){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");l.push("["+i.slice(o.index)+"]")}return function(e,t,n,r){for(var i=r?t:nV(t,n),s=e.length-1;s>=0;--s){var o,a=e[s];if("[]"===a&&n.parseArrays)o=n.allowEmptyArrays&&(""===i||n.strictNullHandling&&null===i)?[]:[].concat(i);else{o=n.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,c=parseInt(u,10);n.parseArrays||""!==u?!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[])[c]=i:"__proto__"!==u&&(o[u]=i):o={0:i}}i=o}return i}(l,t,n,r)}},iV={formats:AF,parse:function(e,t){var n=function(e){if(!e)return eV;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?eV.charset:e.charset,n=void 0===e.duplicates?eV.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||eV.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:eV.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:eV.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:eV.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:eV.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:eV.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:eV.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:eV.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:eV.decoder,delimiter:"string"==typeof e.delimiter||XF.isRegExp(e.delimiter)?e.delimiter:eV.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:eV.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:eV.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:eV.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:eV.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:eV.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:eV.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n={__proto__:null},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;r=r.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=r.split(t.delimiter,s),a=-1,l=t.charset;if(t.charsetSentinel)for(i=0;i<o.length;++i)0===o[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===o[i]?l="utf-8":"utf8=%26%2310003%3B"===o[i]&&(l="iso-8859-1"),a=i,i=o.length);for(i=0;i<o.length;++i)if(i!==a){var u,c,d=o[i],h=d.indexOf("]="),f=-1===h?d.indexOf("="):h+1;-1===f?(u=t.decoder(d,eV.decoder,l,"key"),c=t.strictNullHandling?null:""):(u=t.decoder(d.slice(0,f),eV.decoder,l,"key"),c=XF.maybeMap(nV(d.slice(f+1),t),(function(e){return t.decoder(e,eV.decoder,l,"value")}))),c&&t.interpretNumericEntities&&"iso-8859-1"===l&&(c=tV(c)),d.indexOf("[]=")>-1&&(c=ZF(c)?[c]:c);var p=JF.call(n,u);p&&"combine"===t.duplicates?n[u]=XF.combine(n[u],c):p&&"last"!==t.duplicates||(n[u]=c)}return n}(e,n):e,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],l=rV(a,r[a],n,"string"==typeof e);i=XF.merge(i,l,n)}return!0===n.allowSparse?i:XF.compact(i)},stringify:function(e,t){var n,r=e,i=function(e){if(!e)return KF;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||KF.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=UF.default;if(void 0!==e.format){if(!zF.call(UF.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=UF.formatters[n],s=KF.filter;if(("function"==typeof e.filter||$F(e.filter))&&(s=e.filter),r=e.arrayFormat in BF?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":KF.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var o=void 0===e.allowDots?!0===e.encodeDotInKeys||KF.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:KF.addQueryPrefix,allowDots:o,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:KF.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:KF.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?KF.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:KF.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:KF.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:KF.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:KF.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:KF.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:KF.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:KF.strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):$F(i.filter)&&(n=i.filter);var s=[];if("object"!=typeof r||null===r)return"";var o=BF[i.arrayFormat],a="comma"===o&&i.commaRoundTrip;n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var l=FF(),u=0;u<n.length;++u){var c=n[u];i.skipNulls&&null===r[c]||GF(s,YF(r[c],c,o,a,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,l))}var d=s.join(i.delimiter),h=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),d.length>0?h+d:""}};const sV=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders"];function oV(e){return e&&"object"==typeof e&&sV.some((t=>Object.prototype.hasOwnProperty.call(e,t)))}function aV(e,t){return iV.stringify(e,{serializeDate:e=>Math.floor(e.getTime()/1e3).toString(),arrayFormat:"v2"==t?"repeat":"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}const lV=(()=>{const e={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return t=>{const n=t.replace(/["\n\r\u2028\u2029]/g,(t=>e[t]));return e=>n.replace(/\{([\s\S]+?)\}/g,((t,n)=>encodeURIComponent(e[n]||"")))}})();function uV(e){if(!Array.isArray(e)||!e[0]||"object"!=typeof e[0])return{};if(!oV(e[0]))return e.shift();const t=Object.keys(e[0]),n=t.filter((e=>sV.includes(e)));return n.length>0&&n.length!==t.length&&pV(`Options found in arguments (${n.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function cV(e){const t={host:null,headers:{},settings:{}};if(e.length>0){const n=e[e.length-1];if("string"==typeof n)t.authenticator=gV(e.pop());else if(oV(n)){const n=Object.assign({},e.pop()),r=Object.keys(n).filter((e=>!sV.includes(e)));if(r.length&&pV(`Invalid options found (${r.join(", ")}); ignoring.`),n.apiKey&&(t.authenticator=gV(n.apiKey)),n.idempotencyKey&&(t.headers["Idempotency-Key"]=n.idempotencyKey),n.stripeAccount&&(t.headers["Stripe-Account"]=n.stripeAccount),n.stripeContext){if(t.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");t.headers["Stripe-Context"]=n.stripeContext}if(n.apiVersion&&(t.headers["Stripe-Version"]=n.apiVersion),Number.isInteger(n.maxNetworkRetries)&&(t.settings.maxNetworkRetries=n.maxNetworkRetries),Number.isInteger(n.timeout)&&(t.settings.timeout=n.timeout),n.host&&(t.host=n.host),n.authenticator){if(n.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if("function"!=typeof n.authenticator)throw new Error("The authenticator must be a function receiving a request as the first parameter.");t.authenticator=n.authenticator}n.additionalHeaders&&(t.headers=n.additionalHeaders)}}return t}function dV(e){if("object"!=typeof e)throw new Error("Argument must be an object");return Object.keys(e).reduce(((t,n)=>(null!=e[n]&&(t[n]=e[n]),t)),{})}function hV(e,t){return t?e.then((e=>{setTimeout((()=>{t(null,e)}),0)}),(e=>{setTimeout((()=>{t(e,null)}),0)})):e}function fV(e){return"OAuth"===e?"oauth":e[0].toLowerCase()+e.substring(1)}function pV(e){return"function"!=typeof process.emitWarning?console.warn(`Stripe: ${e}`):process.emitWarning(e,"Stripe")}function mV(e,t,n){if(!Number.isInteger(t)){if(void 0!==n)return n;throw new Error(`${e} must be an integer`)}return t}function gV(e){const t=t=>(t.headers.Authorization="Bearer "+e,Promise.resolve());return t._apiKey=e,t}function yV(e,t){return this[e]instanceof Date?Math.floor(this[e].getTime()/1e3).toString():t}function vV(e){return e&&e.startsWith("/v2")?"v2":"v1"}class bV{constructor(e,t){this._stripe=e,this._maxBufferedRequestMetric=t}_addHeadersDirectlyToObject(e,t){e.requestId=t["request-id"],e.stripeAccount=e.stripeAccount||t["stripe-account"],e.apiVersion=e.apiVersion||t["stripe-version"],e.idempotencyKey=e.idempotencyKey||t["idempotency-key"]}_makeResponseEvent(e,t,n){const r=Date.now(),i=r-e.request_start_time;return dV({api_version:n["stripe-version"],account:n["stripe-account"],idempotency_key:n["idempotency-key"],method:e.method,path:e.path,status:t,request_id:this._getRequestId(n),elapsed:i,request_start_time:e.request_start_time,request_end_time:r})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,t,n){return r=>{const i=r.getHeaders(),s=r.toStream((()=>{const n=this._makeResponseEvent(e,r.getStatusCode(),i);this._stripe._emitter.emit("response",n),this._recordRequestMetrics(this._getRequestId(i),n.elapsed,t)}));return this._addHeadersDirectlyToObject(s,i),n(null,s)}}_jsonResponseHandler(e,t,n,r){return i=>{const s=i.getHeaders(),o=this._getRequestId(s),a=i.getStatusCode(),l=this._makeResponseEvent(e,a,s);this._stripe._emitter.emit("response",l),i.toJSON().then((e=>{if(e.error){let n;throw"string"==typeof e.error&&(e.error={type:e.error,message:e.error_description}),e.error.headers=s,e.error.statusCode=a,e.error.requestId=o,n=401===a?new KR(e.error):403===a?new QR(e.error):429===a?new YR(e.error):"v2"===t?$R(e.error):BR(e.error),n}return e}),(e=>{throw new WR({message:"Invalid JSON received from the Stripe API",exception:e,requestId:s["request-id"]})})).then((e=>{this._recordRequestMetrics(o,l.elapsed,n);const t=i.getRawResponse();this._addHeadersDirectlyToObject(t,s),Object.defineProperty(e,"lastResponse",{enumerable:!1,writable:!1,value:t}),r(null,e)}),(e=>r(e,null)))}}static _generateConnectionErrorMessage(e){return"An error occurred with our connection to Stripe."+(e>0?` Request was retried ${e} times.`:"")}static _shouldRetry(e,t,n,r){return!(!r||0!==t||!OR.CONNECTION_CLOSED_ERROR_CODES.includes(r.code))||!(t>=n)&&(!e||"false"!==e.getHeaders()["stripe-should-retry"]&&("true"===e.getHeaders()["stripe-should-retry"]||(409===e.getStatusCode()||e.getStatusCode()>=500)))}_getSleepTimeInMS(e,t=null){const n=this._stripe.getInitialNetworkRetryDelay(),r=this._stripe.getMaxNetworkRetryDelay();let i=Math.min(n*Math.pow(2,e-1),r);return i*=.5*(1+Math.random()),i=Math.max(n,i),Number.isInteger(t)&&t<=60&&(i=Math.max(i,t)),1e3*i}_getMaxNetworkRetries(e={}){return void 0!==e.maxNetworkRetries&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,t,n){const r=this._getMaxNetworkRetries(t),i=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if("v2"===n){if("POST"===e||"DELETE"===e)return i()}else if("v1"===n&&"POST"===e&&r>0)return i();return null}_makeHeaders({contentType:e,contentLength:t,apiVersion:n,clientUserAgent:r,method:i,userSuppliedHeaders:s,userSuppliedSettings:o,stripeAccount:a,stripeContext:l,apiMode:u}){const c={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(u),"X-Stripe-Client-User-Agent":r,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":n,"Stripe-Account":a,"Stripe-Context":l,"Idempotency-Key":this._defaultIdempotencyKey(i,o,u)},d="POST"==i||"PUT"==i||"PATCH"==i;return(d||t)&&(d||pV(`${i} method had non-zero contentLength but no payload is expected for this verb`),c["Content-Length"]=t),Object.assign(dV(c),(h=s)&&"object"==typeof h?Object.keys(h).reduce(((e,t)=>(e[function(e){return e.split("-").map((e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())).join("-")}(t)]=h[t],e)),{}):h);var h}_getUserAgentString(e){return`Stripe/${e} NodeBindings/${this._stripe.getConstant("PACKAGE_VERSION")} ${this._stripe._appInfo?this._stripe.getAppInfoAsString():""}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){const e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,t,n){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)pV("Request metrics buffer is full, dropping telemetry message.");else{const r={request_id:e,request_duration_ms:t};n&&n.length>0&&(r.usage=n),this._stripe._prevRequestMetrics.push(r)}}_rawRequest(e,t,n,r){return new Promise(((i,s)=>{let o;try{const i=e.toUpperCase();if("POST"!==i&&n&&0!==Object.keys(n).length)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");const s=[].slice.call([n,r]),a=uV(s),l=Object.assign({},a),u=cV(s),c=u.headers,d=u.authenticator;o={requestMethod:i,requestPath:t,bodyData:l,queryData:{},authenticator:d,headers:c,host:null,streaming:!1,settings:{},usage:["raw_request"]}}catch(c){return void s(c)}const{headers:a,settings:l}=o,u=o.authenticator;this._request(o.requestMethod,o.host,t,o.bodyData,u,{headers:a,settings:l,streaming:o.streaming},o.usage,(function(e,t){e?s(e):i(t)}))}))}_request(e,t,n,r,i,s,o=[],a,l=null){var u;let c;i=null!==(u=null!=i?i:this._stripe._authenticator)&&void 0!==u?u:null;const d=vV(n),h=(e,t,n,r,i)=>setTimeout(e,this._getSleepTimeInMS(r,i),t,n,r+1),f=(r,l,u)=>{const p=s.settings&&s.settings.timeout&&Number.isInteger(s.settings.timeout)&&s.settings.timeout>=0?s.settings.timeout:this._stripe.getApiField("timeout"),m={host:t||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:n,method:e,headers:Object.assign({},l),body:c,protocol:this._stripe.getApiField("protocol")};i(m).then((()=>{const t=this._stripe.getApiField("httpClient").makeRequest(m.host,m.port,m.path,m.method,m.headers,m.body,m.protocol,p),i=Date.now(),c=dV({api_version:r,account:l["Stripe-Account"],idempotency_key:l["Idempotency-Key"],method:e,path:n,request_start_time:i}),g=u||0,y=this._getMaxNetworkRetries(s.settings||{});this._stripe._emitter.emit("request",c),t.then((e=>bV._shouldRetry(e,g,y)?h(f,r,l,g,e.getHeaders()["retry-after"]):s.streaming&&e.getStatusCode()<400?this._streamingResponseHandler(c,o,a)(e):this._jsonResponseHandler(c,d,o,a)(e))).catch((e=>{if(bV._shouldRetry(null,g,y,e))return h(f,r,l,g,null);{const t=e.code&&e.code===OR.TIMEOUT_ERROR_CODE;return a(new XR({message:t?`Request aborted due to timeout being reached (${p}ms)`:bV._generateConnectionErrorMessage(g),detail:e}))}}))})).catch((e=>{throw new qR({message:"Unable to authenticate the request",exception:e})}))},p=(t,n)=>{if(t)return a(t);c=n,this._stripe.getClientUserAgent((t=>{const n=this._stripe.getApiField("version"),r=this._makeHeaders({contentType:"v2"==d?"application/json":"application/x-www-form-urlencoded",contentLength:c.length,apiVersion:n,clientUserAgent:t,method:e,userSuppliedHeaders:s.headers,userSuppliedSettings:s.settings,stripeAccount:"v2"==d?null:this._stripe.getApiField("stripeAccount"),stripeContext:"v2"==d?this._stripe.getApiField("stripeContext"):null,apiMode:d});f(n,r,0)}))};if(l)l(e,r,s.headers,p);else{let e;e="v2"==d?r?function(e){return JSON.stringify(e,yV)}(r):"":aV(r||{},d),p(null,e)}}}class wV{constructor(e,t,n,r){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=t,this.spec=n,this.stripeResource=r}async iterate(e){if(!e||!e.data||"number"!=typeof e.data.length)throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");const t=_V(this.requestArgs);if(this.index<e.data.length){const n=t?e.data.length-1-this.index:this.index,r=e.data[n];return this.index+=1,{value:r,done:!1}}if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);const t=await this.pagePromise;return this.iterate(t)}return{done:!0,value:void 0}}getNextPage(e){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;const e=(async()=>{const e=await this._next();return this.promiseCache.currentPromise=null,e})();return this.promiseCache.currentPromise=e,e}}class xV extends wV{getNextPage(e){const t=_V(this.requestArgs),n=function(e,t){const n=t?0:e.data.length-1,r=e.data[n],i=r&&r.id;if(!i)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return i}(e,t);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[t?"ending_before":"starting_after"]:n})}}class EV extends wV{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}class TV{constructor(e,t,n,r){this.currentPageIterator=(async()=>(await e).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await e).next_page_url||null)(),this.requestArgs=t,this.spec=n,this.stripeResource=r}async turnPage(){const e=await this.nextPageUrl;if(!e)return null;this.spec.fullPath=e;const t=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(t.next_page_url),this.currentPageIterator=Promise.resolve(t.data[Symbol.iterator]()),this.currentPageIterator}async next(){{const e=(await this.currentPageIterator).next();if(!e.done)return{done:!1,value:e.value}}const e=await this.turnPage();if(!e)return{done:!0,value:void 0};const t=e.next();return t.done?{done:!0,value:void 0}:{done:!1,value:t.value}}}const SV=e=>{const t=(n=(...t)=>e.next(...t),function(){const e=[].slice.call(arguments),t=function(e){if(0===e.length)return;const t=e[0];if("function"!=typeof t)throw Error("The first argument to autoPagingEach, if present, must be a callback function; received "+typeof t);if(2===t.length)return t;if(t.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${t}`);return function(e,n){n(t(e))}}(e),r=function(e){if(e.length<2)return null;const t=e[1];if("function"!=typeof t)throw Error("The second argument to autoPagingEach, if present, must be a callback function; received "+typeof t);return t}(e);if(e.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${e}`);const i=function(e,t){return new Promise(((n,r)=>{function i(r){if(r.done)return void n();const s=r.value;return new Promise((e=>{t(s,e)})).then((t=>!1===t?i({done:!0,value:void 0}):e().then(i)))}e().then(i).catch(r)}))}(n,t);return hV(i,r)});var n;const r=function(e){return function(t,n){const r=t&&t.limit;if(!r)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(r>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");return hV(new Promise(((t,n)=>{const i=[];e((e=>{if(i.push(e),i.length>=r)return!1})).then((()=>{t(i)})).catch(n)})),n)}}(t),i={autoPagingEach:t,autoPagingToArray:r,next:()=>e.next(),return:()=>({}),[PV()]:()=>i};return i};function PV(){return"undefined"!=typeof Symbol&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function _V(e){return!!uV([].slice.call(e)).ending_before}function kV(e,t){if(this._stripe=e,t)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=lV(this.basePath||e.getApiField("basePath")),this.resourcePath=this.path,this.path=lV(this.path),this.initialize(...arguments)}function CV(e){const t={DEFAULT_TOLERANCE:300,signature:null,constructEvent(e,n,r,i,s,o){try{this.signature.verifyHeader(e,n,r,i||t.DEFAULT_TOLERANCE,s,o)}catch(Yq){throw Yq instanceof MR&&(Yq.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),Yq}return e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},async constructEventAsync(e,n,r,i,s,o){await this.signature.verifyHeaderAsync(e,n,r,i||t.DEFAULT_TOLERANCE,s,o);return e instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(e)):JSON.parse(e)},generateTestHeaderString:function(e){const t=l(e),n=t.signature||t.cryptoProvider.computeHMACSignature(t.payloadString,t.secret);return t.generateHeaderString(n)},generateTestHeaderStringAsync:async function(e){const t=l(e),n=t.signature||await t.cryptoProvider.computeHMACSignatureAsync(t.payloadString,t.secret);return t.generateHeaderString(n)}},n={EXPECTED_SCHEME:"v1",verifyHeader(e,t,n,o,l,u){const{decodedHeader:c,decodedPayload:d,details:h,suspectPayloadType:f}=i(e,t,this.EXPECTED_SCHEME),p=/\s/.test(n);return s(d,c,h,(l=l||a()).computeHMACSignature(r(d,h),n),o,f,p,u),!0},async verifyHeaderAsync(e,t,n,o,l,u){const{decodedHeader:c,decodedPayload:d,details:h,suspectPayloadType:f}=i(e,t,this.EXPECTED_SCHEME),p=/\s/.test(n);l=l||a();return s(d,c,h,await l.computeHMACSignatureAsync(r(d,h),n),o,f,p,u)}};function r(e,t){return`${t.timestamp}.${e}`}function i(e,t,n){if(!e)throw new JR(t,e,{message:"No webhook payload was provided."});const r="string"!=typeof e&&!(e instanceof Uint8Array),i=new TextDecoder("utf8"),s=e instanceof Uint8Array?i.decode(e):e;if(Array.isArray(t))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(null==t||""==t)throw new JR(t,e,{message:"No stripe-signature header value was provided."});const o=t instanceof Uint8Array?i.decode(t):t,a=function(e,t){if("string"!=typeof e)return null;return e.split(",").reduce(((e,n)=>{const r=n.split("=");return"t"===r[0]&&(e.timestamp=parseInt(r[1],10)),r[0]===t&&e.signatures.push(r[1]),e}),{timestamp:-1,signatures:[]})}(o,n);if(!a||-1===a.timestamp)throw new JR(o,s,{message:"Unable to extract timestamp and signatures from header"});if(!a.signatures.length)throw new JR(o,s,{message:"No signatures found with expected scheme"});return{decodedPayload:s,decodedHeader:o,details:a,suspectPayloadType:r}}function s(t,n,r,i,s,o,a,l){const u="\nLearn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature",c=a?"\n\nNote: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value":"";if(!!!r.signatures.filter(e.secureCompare.bind(e,i)).length){if(o)throw new JR(n,t,{message:"Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. \nSignature verification is impossible without access to the original signed material. \n"+u+"\n"+c});throw new JR(n,t,{message:"No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? \n If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.\n"+u+"\n"+c})}const d=Math.floor(("number"==typeof l?l:Date.now())/1e3)-r.timestamp;if(s>0&&d>s)throw new JR(n,t,{message:"Timestamp outside the tolerance zone"});return!0}let o=null;function a(){return o||(o=e.createDefaultCryptoProvider()),o}function l(e){if(!e)throw new qR({message:"Options are required"});const t=Math.floor(e.timestamp)||Math.floor(Date.now()/1e3),r=e.scheme||n.EXPECTED_SCHEME,i=e.cryptoProvider||a(),s=`${t}.${e.payload}`;return Object.assign(Object.assign({},e),{timestamp:t,scheme:r,cryptoProvider:i,payloadString:s,generateHeaderString:e=>`t=${t},${r}=${e}`})}return t.signature=n,t}kV.extend=function(e){const t=this,n=Object.prototype.hasOwnProperty.call(e,"constructor")?e.constructor:function(...e){t.apply(this,e)};return Object.assign(n,t),n.prototype=Object.create(t.prototype),Object.assign(n.prototype,e),n},kV.method=function(e){if(void 0!==e.path&&void 0!==e.fullPath)throw new Error(`Method spec specified both a 'path' (${e.path}) and a 'fullPath' (${e.fullPath}).`);return function(...t){const n="function"==typeof t[t.length-1]&&t.pop();e.urlParams=function(e){const t=e.match(/\{\w+\}/g);return t?t.map((e=>e.replace(/[{}]/g,""))):[]}(e.fullPath||this.createResourcePathWithSymbols(e.path||""));const r=hV(this._makeRequest(t,e,{}),n);return Object.assign(r,((e,t,n,r)=>{const i=vV(n.fullPath||n.path);return"v2"!==i&&"search"===n.methodType?SV(new EV(r,t,n,e)):"v2"!==i&&"list"===n.methodType?SV(new xV(r,t,n,e)):"v2"===i&&"list"===n.methodType?SV(new TV(r,t,n,e)):null})(this,t,e,r)),r}},kV.MAX_BUFFERED_REQUEST_METRICS=100,kV.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(e,t){const n=[this.basePath(t),this.path(t)];if("function"==typeof e){const r=e(t);r&&n.push(r)}else n.push(e);return this._joinUrlParts(n)},createResourcePathWithSymbols(e){return e?`/${this._joinUrlParts([this.resourcePath,e])}`:`/${this.resourcePath}`},_joinUrlParts:e=>e.join("/").replace(/\/{2,}/g,"/"),_getRequestOpts(e,t,n){var r;const i=(t.method||"GET").toUpperCase(),s=t.usage||[],o=t.urlParams||[],a=t.encode||(e=>e),l=!!t.fullPath,u=lV(l?t.fullPath:t.path||""),c=l?t.fullPath:this.createResourcePathWithSymbols(t.path),d=[].slice.call(e),h=o.reduce(((e,t)=>{const n=d.shift();if("string"!=typeof n)throw new Error(`Stripe: Argument "${t}" must be a string, but got: ${n} (on API request to \`${i} ${c}\`)`);return e[t]=n,e}),{}),f=uV(d),p=a(Object.assign({},f,n)),m=cV(d),g=m.host||t.host,y=!!t.streaming;if(d.filter((e=>null!=e)).length)throw new Error(`Stripe: Unknown arguments (${d}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${i} \`${c}\`)`);const v=l?u(h):this.createFullPath(u,h),b=Object.assign(m.headers,t.headers);t.validator&&t.validator(p,{headers:b});const w="GET"===t.method||"DELETE"===t.method;return{requestMethod:i,requestPath:v,bodyData:w?null:p,queryData:w?p:{},authenticator:null!==(r=m.authenticator)&&void 0!==r?r:null,headers:b,host:null!=g?g:null,streaming:y,settings:m.settings,usage:s}},_makeRequest(e,t,n){return new Promise(((r,i)=>{var s;let o;try{o=this._getRequestOpts(e,t,n)}catch(d){return void i(d)}const a=0===Object.keys(o.queryData).length,l=[o.requestPath,a?"":"?",aV(o.queryData,vV(o.requestPath))].join(""),{headers:u,settings:c}=o;this._stripe._requestSender._request(o.requestMethod,o.host,l,o.bodyData,o.authenticator,{headers:u,settings:c,streaming:o.streaming},o.usage,(function(e,n){e?i(e):r(t.transformResponseData?t.transformResponseData(n):n)}),null===(s=this.requestDataProcessor)||void 0===s?void 0:s.bind(this))}))}};function NV(e,t){for(const n in t){if(!Object.prototype.hasOwnProperty.call(t,n))continue;const r=n[0].toLowerCase()+n.substring(1),i=new t[n](e);this[r]=i}}function AV(e,t){return function(e){return new NV(e,t)}}const OV=kV.method,IV=kV.extend({retrieve:OV({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:OV({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:OV({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:OV({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:OV({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:OV({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:OV({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})}),jV=kV.method,RV=kV.extend({retrieve:jV({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:jV({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})}),DV=kV.method,MV=kV.extend({create:DV({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:DV({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:DV({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:DV({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:DV({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:DV({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})}),LV=kV.method,FV=kV.extend({create:LV({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:LV({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:LV({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:LV({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:LV({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:LV({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:LV({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})}),VV=kV.method,UV=kV.extend({retrieve:VV({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:VV({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:VV({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:VV({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:VV({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),zV=kV.method,BV=kV.extend({create:zV({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:zV({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:zV({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),$V=kV.method,qV=kV.extend({create:$V({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:$V({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:$V({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:$V({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),GV=kV.method,HV=kV.extend({deliverCard:GV({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:GV({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:GV({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:GV({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:GV({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})}),WV=kV.method,KV=kV.extend({create:WV({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:WV({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:WV({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:WV({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),QV=kV.method,YV=kV.extend({create:QV({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:QV({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:QV({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:QV({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),XV=kV.method,JV=kV.extend({create:XV({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:XV({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:XV({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:XV({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:XV({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),ZV=kV.method,eU=kV.extend({create:ZV({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})}),tU=kV.method,nU=kV.extend({create:tU({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),rU=kV.method,iU=kV.extend({retrieve:rU({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})}),sU=kV.method,oU=kV.extend({retrieve:sU({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:sU({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})}),aU=kV.method,lU=kV.extend({create:aU({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:aU({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:aU({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:aU({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:aU({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:aU({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})}),uU=kV.method,cU=kV.extend({create:uU({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:uU({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:uU({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),dU=kV.method,hU=kV.extend({fundCashBalance:dU({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),fU=kV.method,pU=kV.extend({create:fU({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:fU({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:fU({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),mU=kV.method,gU=kV.extend({create:mU({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:mU({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:mU({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:mU({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:mU({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),yU=kV.method,vU=kV.extend({retrieve:yU({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:yU({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),bU=kV.method,wU=kV.extend({create:bU({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:bU({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:bU({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:bU({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:bU({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:bU({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:bU({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:bU({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})}),xU=kV.method,EU=kV.extend({retrieve(...e){return xU({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:e=>this.addFetchRelatedObjectIfNeeded(e)}).apply(this,e)},list(...e){return xU({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:e=>Object.assign(Object.assign({},e),{data:e.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,e)},addFetchRelatedObjectIfNeeded(e){return e.related_object&&e.related_object.url?Object.assign(Object.assign({},e),{fetchRelatedObject:()=>xU({method:"GET",fullPath:e.related_object.url}).apply(this,[{stripeAccount:e.context}])}):e}}),TU=kV.method,SU=kV.extend({create:TU({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:TU({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:TU({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:TU({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})}),PU=kV.method,_U=kV.extend({create:PU({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:PU({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:PU({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:PU({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:PU({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:PU({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:PU({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),kU=kV.method,CU=kV.extend({fail:kU({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:kU({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:kU({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),NU=kV.method,AU=kV.extend({create:NU({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:NU({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:NU({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:NU({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),OU=kV.method,IU=kV.extend({create:OU({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:OU({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:OU({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:OU({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:OU({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),jU=kV.method,RU=kV.extend({create:jU({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})}),DU=kV.method,MU=kV.extend({create:DU({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})}),LU=kV.method,FU=kV.extend({create:LU({method:"POST",fullPath:"/v2/billing/meter_event_session"})}),VU=kV.method,UU=kV.extend({create:VU({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})}),zU=kV.method,BU=kV.extend({create:zU({method:"POST",fullPath:"/v1/billing/meter_events"})}),$U=kV.method,qU=kV.extend({create:$U({method:"POST",fullPath:"/v2/billing/meter_events"})}),GU=kV.method,HU=kV.extend({create:GU({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:GU({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:GU({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:GU({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:GU({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:GU({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:GU({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})}),WU=kV.method,KU=kV.extend({create:WU({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:WU({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:WU({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:WU({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:WU({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})}),QU=kV.method,YU=kV.extend({update:QU({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:QU({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:QU({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:QU({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),XU=kV.method,JU=kV.extend({create:XU({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:XU({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:XU({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:XU({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),ZU=kV.method,ez=kV.extend({update:ZU({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:ZU({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:ZU({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:ZU({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),tz=kV.method,nz=kV.extend({create:tz({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:tz({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:tz({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:tz({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),rz=kV.method,iz=kV.extend({activate:rz({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:rz({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:rz({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})}),sz=kV.method,oz=kV.extend({create:sz({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:sz({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:sz({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:sz({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})}),az=kV.method,lz=kV.extend({retrieve:az({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:az({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})}),uz=kV.method,cz=kV.extend({retrieve:uz({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:uz({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})}),dz=kV.method,hz=kV.extend({presentPaymentMethod:dz({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})}),fz=kV.method,pz=kV.extend({create:fz({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:fz({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:fz({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:fz({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:fz({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:fz({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:fz({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:fz({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:fz({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:fz({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),mz=kV.method,gz=kV.extend({create:mz({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),yz=kV.method,vz=kV.extend({retrieve:yz({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:yz({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),bz=kV.method,wz=kV.extend({create:bz({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),xz=kV.method,Ez=kV.extend({retrieve:xz({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:xz({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),Tz=kV.method,Sz=kV.extend({expire:Tz({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),Pz=kV.method,_z=kV.extend({create:Pz({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:Pz({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:Pz({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:Pz({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})}),kz=kV.method,Cz=kV.extend({create:kz({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:kz({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:kz({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),Nz=kV.method,Az=kV.extend({retrieve:Nz({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:Nz({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),Oz=kV.method,Iz=kV.extend({create:Oz({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:Oz({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:Oz({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})}),jz=kV.method,Rz=kV.extend({retrieve:jz({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:jz({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),Dz=kV.method,Mz=kV.extend({create:Dz({method:"POST",fullPath:"/v1/apps/secrets"}),list:Dz({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:Dz({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:Dz({method:"GET",fullPath:"/v1/apps/secrets/find"})}),Lz=kV.method,Fz=kV.extend({create:Lz({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),Vz=kV.method,Uz=kV.extend({create:Vz({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:Vz({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:Vz({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:Vz({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:Vz({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:Vz({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),zz=kV.method,Bz=kV.extend({create:zz({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:zz({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),$z=kV.method,qz=kV.extend({retrieve:$z({method:"GET",fullPath:"/v1/tax/settings"}),update:$z({method:"POST",fullPath:"/v1/tax/settings"})}),Gz=kV.method,Hz=kV.extend({retrieve:Gz({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:Gz({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})}),Wz=kV.method,Kz=kV.extend({create:Wz({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:Wz({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:Wz({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:Wz({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:Wz({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),Qz=kV.method,Yz=kV.extend({retrieve:Qz({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:Qz({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:Qz({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})}),Xz=kV.method,Jz=kV.extend({retrieve:Xz({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:Xz({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),Zz=kV.method,eB=kV.extend({createForceCapture:Zz({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:Zz({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:Zz({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})}),tB=kV.method,nB=kV.extend({retrieve:tB({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:tB({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})}),rB=kV.method,iB=kV.extend({retrieve:rB({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:rB({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:rB({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),sB=kV.method,oB=kV.extend({retrieve:sB({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:sB({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:sB({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:sB({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),aB=kV.method,lB=kV.extend({retrieve:aB({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:aB({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),uB=kV.method,cB=kV.extend({create:uB({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:uB({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:uB({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:uB({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),dB=kV.method,hB=kV.extend({create:dB({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:dB({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:dB({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:dB({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:dB({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),fB=kV.method,pB=kV.extend({retrieve:fB({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:fB({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),mB=kV.method,gB=kV.extend({create:mB({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:mB({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:mB({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:mB({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:mB({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:mB({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),yB=kV.method,vB=kV.extend({create:yB({method:"POST",fullPath:"/v1/accounts"}),retrieve(e,...t){return"string"==typeof e?yB({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[e,...t]):(null==e&&[].shift.apply([e,...t]),yB({method:"GET",fullPath:"/v1/account"}).apply(this,[e,...t]))},update:yB({method:"POST",fullPath:"/v1/accounts/{account}"}),list:yB({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:yB({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:yB({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:yB({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:yB({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:yB({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:yB({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:yB({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:yB({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:yB({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:yB({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:yB({method:"GET",fullPath:"/v1/account"}),retrieveCapability:yB({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:yB({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:yB({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:yB({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:yB({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:yB({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),bB=kV.method,wB=kV.extend({create:bB({method:"POST",fullPath:"/v1/account_links"})}),xB=kV.method,EB=kV.extend({create:xB({method:"POST",fullPath:"/v1/account_sessions"})}),TB=kV.method,SB=kV.extend({create:TB({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:TB({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:TB({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:TB({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),PB=kV.method,_B=kV.extend({retrieve:PB({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:PB({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:PB({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:PB({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:PB({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:PB({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),kB=kV.method,CB=kV.extend({retrieve:kB({method:"GET",fullPath:"/v1/balance"})}),NB=kV.method,AB=kV.extend({retrieve:NB({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:NB({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),OB=kV.method,IB=kV.extend({create:OB({method:"POST",fullPath:"/v1/charges"}),retrieve:OB({method:"GET",fullPath:"/v1/charges/{charge}"}),update:OB({method:"POST",fullPath:"/v1/charges/{charge}"}),list:OB({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:OB({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:OB({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),jB=kV.method,RB=kV.extend({retrieve:jB({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})}),DB=kV.method,MB=kV.extend({retrieve:DB({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:DB({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),LB=kV.method,FB=kV.extend({create:LB({method:"POST",fullPath:"/v1/coupons"}),retrieve:LB({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:LB({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:LB({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:LB({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),VB=kV.method,UB=kV.extend({create:VB({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:VB({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:VB({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:VB({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:VB({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:VB({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:VB({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:VB({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),zB=kV.method,BB=kV.extend({create:zB({method:"POST",fullPath:"/v1/customer_sessions"})}),$B=kV.method,qB=kV.extend({create:$B({method:"POST",fullPath:"/v1/customers"}),retrieve:$B({method:"GET",fullPath:"/v1/customers/{customer}"}),update:$B({method:"POST",fullPath:"/v1/customers/{customer}"}),list:$B({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:$B({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:$B({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:$B({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:$B({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:$B({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:$B({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:$B({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:$B({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:$B({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:$B({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:$B({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:$B({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:$B({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:$B({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:$B({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:$B({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:$B({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:$B({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:$B({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:$B({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:$B({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:$B({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:$B({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:$B({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),GB=kV.method,HB=kV.extend({retrieve:GB({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:GB({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:GB({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:GB({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),WB=kV.method,KB=kV.extend({create:WB({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(e,t)=>{if(!t.headers||!t.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:WB({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),QB=kV.method,YB=kV.extend({retrieve:QB({method:"GET",fullPath:"/v1/events/{id}"}),list:QB({method:"GET",fullPath:"/v1/events",methodType:"list"})}),XB=kV.method,JB=kV.extend({retrieve:XB({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:XB({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),ZB=kV.method,e$=kV.extend({create:ZB({method:"POST",fullPath:"/v1/file_links"}),retrieve:ZB({method:"GET",fullPath:"/v1/file_links/{link}"}),update:ZB({method:"POST",fullPath:"/v1/file_links/{link}"}),list:ZB({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),t$=(e,t,n)=>{const r=(Math.round(1e16*Math.random())+Math.round(1e16*Math.random())).toString();n["Content-Type"]=`multipart/form-data; boundary=${r}`;const i=new TextEncoder;let s=new Uint8Array(0);const o=i.encode("\r\n");function a(e){const t=s,n=e instanceof Uint8Array?e:new Uint8Array(i.encode(e));s=new Uint8Array(t.length+n.length+2),s.set(t),s.set(n,t.length),s.set(o,s.length-2)}function l(e){return`"${e.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}const u=function(e){const t={},n=(e,r)=>{Object.entries(e).forEach((([e,i])=>{const s=r?`${r}[${e}]`:e;if(function(e){const t=typeof e;return("function"===t||"object"===t)&&!!e}(i)){if(!(i instanceof Uint8Array||Object.prototype.hasOwnProperty.call(i,"data")))return n(i,s);t[s]=i}else t[s]=String(i)}))};return n(e,null),t}(t);for(const c in u){if(!Object.prototype.hasOwnProperty.call(u,c))continue;const e=u[c];if(a(`--${r}`),Object.prototype.hasOwnProperty.call(e,"data")){const t=e;a(`Content-Disposition: form-data; name=${l(c)}; filename=${l(t.name||"blob")}`),a(`Content-Type: ${t.type||"application/octet-stream"}`),a(""),a(t.data)}else a(`Content-Disposition: form-data; name=${l(c)}`),a(""),a(e)}return a(`--${r}--`),s};const n$=kV.method,r$=kV.extend({create:n$({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:n$({method:"GET",fullPath:"/v1/files/{file}"}),list:n$({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:function(e,t,n,r){if(t=t||{},"POST"!==e)return r(null,aV(t));this._stripe._platformFunctions.tryBufferData(t).then((e=>{const t=t$(0,e,n);return r(null,t)})).catch((e=>r(e,null)))}}),i$=kV.method,s$=kV.extend({create:i$({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:i$({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:i$({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:i$({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:i$({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),o$=kV.method,a$=kV.extend({retrieve:o$({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:o$({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:o$({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:o$({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})}),l$=kV.method,u$=kV.extend({create:l$({method:"POST",fullPath:"/v1/invoices"}),retrieve:l$({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:l$({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:l$({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:l$({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:l$({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),createPreview:l$({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:l$({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:l$({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),listUpcomingLines:l$({method:"GET",fullPath:"/v1/invoices/upcoming/lines",methodType:"list"}),markUncollectible:l$({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:l$({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:l$({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),retrieveUpcoming:l$({method:"GET",fullPath:"/v1/invoices/upcoming"}),search:l$({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:l$({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:l$({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:l$({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:l$({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),c$=kV.method,d$=kV.extend({retrieve:c$({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),h$=kV.method,f$="connect.stripe.com",p$=kV.extend({basePath:"/",authorizeUrl(e,t){e=e||{};let n="oauth/authorize";return(t=t||{}).express&&(n=`express/${n}`),e.response_type||(e.response_type="code"),e.client_id||(e.client_id=this._stripe.getClientId()),e.scope||(e.scope="read_write"),`https://${f$}/${n}?${aV(e)}`},token:h$({method:"POST",path:"oauth/token",host:f$}),deauthorize(e,...t){return e.client_id||(e.client_id=this._stripe.getClientId()),h$({method:"POST",path:"oauth/deauthorize",host:f$}).apply(this,[e,...t])}}),m$=kV.method,g$=kV.extend({create:m$({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:m$({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:m$({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:m$({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:m$({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:m$({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:m$({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:m$({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:m$({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:m$({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:m$({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),y$=kV.method,v$=kV.extend({create:y$({method:"POST",fullPath:"/v1/payment_links"}),retrieve:y$({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:y$({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:y$({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:y$({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),b$=kV.method,w$=kV.extend({create:b$({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:b$({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:b$({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:b$({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})}),x$=kV.method,E$=kV.extend({create:x$({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:x$({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:x$({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:x$({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:x$({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})}),T$=kV.method,S$=kV.extend({create:T$({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:T$({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:T$({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:T$({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:T$({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:T$({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),P$=kV.method,_$=kV.extend({create:P$({method:"POST",fullPath:"/v1/payouts"}),retrieve:P$({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:P$({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:P$({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:P$({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:P$({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),k$=kV.method,C$=kV.extend({create:k$({method:"POST",fullPath:"/v1/plans"}),retrieve:k$({method:"GET",fullPath:"/v1/plans/{plan}"}),update:k$({method:"POST",fullPath:"/v1/plans/{plan}"}),list:k$({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:k$({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),N$=kV.method,A$=kV.extend({create:N$({method:"POST",fullPath:"/v1/prices"}),retrieve:N$({method:"GET",fullPath:"/v1/prices/{price}"}),update:N$({method:"POST",fullPath:"/v1/prices/{price}"}),list:N$({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:N$({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),O$=kV.method,I$=kV.extend({create:O$({method:"POST",fullPath:"/v1/products"}),retrieve:O$({method:"GET",fullPath:"/v1/products/{id}"}),update:O$({method:"POST",fullPath:"/v1/products/{id}"}),list:O$({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:O$({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:O$({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:O$({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:O$({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:O$({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:O$({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),j$=kV.method,R$=kV.extend({create:j$({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:j$({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:j$({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:j$({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),D$=kV.method,M$=kV.extend({create:D$({method:"POST",fullPath:"/v1/quotes"}),retrieve:D$({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:D$({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:D$({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:D$({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:D$({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:D$({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:D$({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:D$({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:D$({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),L$=kV.method,F$=kV.extend({create:L$({method:"POST",fullPath:"/v1/refunds"}),retrieve:L$({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:L$({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:L$({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:L$({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),V$=kV.method,U$=kV.extend({retrieve:V$({method:"GET",fullPath:"/v1/reviews/{review}"}),list:V$({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:V$({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),z$=kV.method,B$=kV.extend({list:z$({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),$$=kV.method,q$=kV.extend({create:$$({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:$$({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:$$({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:$$({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:$$({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:$$({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:$$({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),G$=kV.method,H$=kV.extend({create:G$({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:G$({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:G$({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:G$({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),W$=kV.method,K$=kV.extend({create:W$({method:"POST",fullPath:"/v1/sources"}),retrieve:W$({method:"GET",fullPath:"/v1/sources/{source}"}),update:W$({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:W$({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:W$({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),Q$=kV.method,Y$=kV.extend({create:Q$({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:Q$({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:Q$({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:Q$({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:Q$({method:"DELETE",fullPath:"/v1/subscription_items/{item}"}),createUsageRecord:Q$({method:"POST",fullPath:"/v1/subscription_items/{subscription_item}/usage_records"}),listUsageRecordSummaries:Q$({method:"GET",fullPath:"/v1/subscription_items/{subscription_item}/usage_record_summaries",methodType:"list"})}),X$=kV.method,J$=kV.extend({create:X$({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:X$({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:X$({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:X$({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:X$({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:X$({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),Z$=kV.method,eq=kV.extend({create:Z$({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:Z$({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:Z$({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:Z$({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:Z$({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:Z$({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:Z$({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:Z$({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),tq=kV.method,nq=kV.extend({retrieve:tq({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:tq({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),rq=kV.method,iq=kV.extend({create:rq({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:rq({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:rq({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:rq({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})}),sq=kV.method,oq=kV.extend({create:sq({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:sq({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:sq({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:sq({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),aq=kV.method,lq=kV.extend({create:aq({method:"POST",fullPath:"/v1/tokens"}),retrieve:aq({method:"GET",fullPath:"/v1/tokens/{token}"})}),uq=kV.method,cq=kV.extend({create:uq({method:"POST",fullPath:"/v1/topups"}),retrieve:uq({method:"GET",fullPath:"/v1/topups/{topup}"}),update:uq({method:"POST",fullPath:"/v1/topups/{topup}"}),list:uq({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:uq({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),dq=kV.method,hq=kV.extend({create:dq({method:"POST",fullPath:"/v1/transfers"}),retrieve:dq({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:dq({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:dq({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:dq({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:dq({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:dq({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:dq({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),fq=kV.method,pq=kV.extend({create:fq({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:fq({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:fq({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:fq({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:fq({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),mq=AV(0,{Secrets:Mz}),gq=AV(0,{Alerts:MV,CreditBalanceSummary:iU,CreditBalanceTransactions:oU,CreditGrants:lU,MeterEventAdjustments:RU,MeterEvents:BU,Meters:HU}),yq=AV(0,{Configurations:YV,Sessions:Fz}),vq=AV(0,{Sessions:Uz}),bq=AV(0,{Orders:KU,Products:cz,Suppliers:Hz}),wq=AV(0,{ActiveEntitlements:RV,Features:SU}),xq=AV(0,{Accounts:IV,Sessions:Bz,Transactions:nB}),Eq=AV(0,{Requests:Iz}),Tq=AV(0,{VerificationReports:pB,VerificationSessions:gB}),Sq=AV(0,{Authorizations:UV,Cardholders:qV,Cards:KV,Disputes:gU,PersonalizationDesigns:oz,PhysicalBundles:lz,Tokens:Yz,Transactions:iB}),Pq=AV(0,{EarlyFraudWarnings:vU,ValueListItems:cB,ValueLists:hB}),_q=AV(0,{ReportRuns:Cz,ReportTypes:Az}),kq=AV(0,{ScheduledQueryRuns:Rz}),Cq=AV(0,{Calculations:BV,Registrations:_z,Settings:qz,Transactions:oB}),Nq=AV(0,{Configurations:JV,ConnectionTokens:nU,Locations:IU,Readers:pz}),Aq=AV(0,{ConfirmationTokens:eU,Customers:hU,Refunds:Sz,TestClocks:Kz,Issuing:AV(0,{Authorizations:FV,Cards:HV,PersonalizationDesigns:iz,Transactions:eB}),Terminal:AV(0,{Readers:hz}),Treasury:AV(0,{InboundTransfers:CU,OutboundPayments:YU,OutboundTransfers:ez,ReceivedCredits:gz,ReceivedDebits:wz})}),Oq=AV(0,{CreditReversals:cU,DebitReversals:pU,FinancialAccounts:_U,InboundTransfers:AU,OutboundPayments:JU,OutboundTransfers:nz,ReceivedCredits:vz,ReceivedDebits:Ez,TransactionEntries:Jz,Transactions:lB}),Iq=AV(0,{Billing:AV(0,{MeterEventAdjustments:MU,MeterEventSession:FU,MeterEventStream:UU,MeterEvents:qU}),Core:AV(0,{EventDestinations:wU,Events:EU})}),jq=Object.freeze(Object.defineProperty({__proto__:null,Account:vB,AccountLinks:wB,AccountSessions:EB,Accounts:vB,ApplePayDomains:SB,ApplicationFees:_B,Apps:mq,Balance:CB,BalanceTransactions:AB,Billing:gq,BillingPortal:yq,Charges:IB,Checkout:vq,Climate:bq,ConfirmationTokens:RB,CountrySpecs:MB,Coupons:FB,CreditNotes:UB,CustomerSessions:BB,Customers:qB,Disputes:HB,Entitlements:wq,EphemeralKeys:KB,Events:YB,ExchangeRates:JB,FileLinks:e$,Files:r$,FinancialConnections:xq,Forwarding:Eq,Identity:Tq,InvoiceItems:s$,InvoiceRenderingTemplates:a$,Invoices:u$,Issuing:Sq,Mandates:d$,OAuth:p$,PaymentIntents:g$,PaymentLinks:v$,PaymentMethodConfigurations:w$,PaymentMethodDomains:E$,PaymentMethods:S$,Payouts:_$,Plans:C$,Prices:A$,Products:I$,PromotionCodes:R$,Quotes:M$,Radar:Pq,Refunds:F$,Reporting:_q,Reviews:U$,SetupAttempts:B$,SetupIntents:q$,ShippingRates:H$,Sigma:kq,Sources:K$,SubscriptionItems:Y$,SubscriptionSchedules:J$,Subscriptions:eq,Tax:Cq,TaxCodes:nq,TaxIds:iq,TaxRates:oq,Terminal:Nq,TestHelpers:Aq,Tokens:lq,Topups:cq,Transfers:hq,Treasury:Oq,V2:Iq,WebhookEndpoints:pq},Symbol.toStringTag,{value:"Module"})),Rq="api.stripe.com",Dq="/v1/",Mq="2025-02-24.acacia",Lq=["name","version","url","partner_id"],Fq=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],Vq=e=>new bV(e,kV.MAX_BUFFERED_REQUEST_METRICS);const Uq=function(e,t=Vq){function n(t=e){return CV(t)}function r(i,s={}){if(!(this instanceof r))return new r(i,s);const o=this._getPropsFromConfig(s);this._platformFunctions=e,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=r.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);const a=o.httpAgent||null;this._api={host:o.host||Rq,port:o.port||"443",protocol:o.protocol||"https",basePath:Dq,version:o.apiVersion||Mq,timeout:mV("timeout",o.timeout,8e4),maxNetworkRetries:mV("maxNetworkRetries",o.maxNetworkRetries,2),agent:a,httpClient:o.httpClient||(a?this._platformFunctions.createNodeHttpClient(a):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:o.stripeAccount||null,stripeContext:o.stripeContext||null};const l=o.typescript||!1;l!==r.USER_AGENT.typescript&&(r.USER_AGENT.typescript=l),o.appInfo&&this._setAppInfo(o.appInfo),this._prepResources(),this._setAuthenticator(i,o.authenticator),this.errors=rD,this.webhooks=n(),this._prevRequestMetrics=[],this._enableTelemetry=!1!==o.telemetry,this._requestSender=t(this),this.StripeResource=r.StripeResource}return r.PACKAGE_VERSION="17.7.0",r.USER_AGENT=Object.assign({bindings_version:r.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},"undefined"==typeof process?{}:{lang_version:process.version,platform:process.platform}),r.StripeResource=kV,r.resources=jq,r.HttpClient=OR,r.HttpClientResponse=IR,r.CryptoProvider=DR,r.webhooks=Object.assign(n,CV(e)),r.errors=rD,r.createNodeHttpClient=e.createNodeHttpClient,r.createFetchHttpClient=e.createFetchHttpClient,r.createNodeCryptoProvider=e.createNodeCryptoProvider,r.createSubtleCryptoProvider=e.createSubtleCryptoProvider,r.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(e,t,n,r){return this._requestSender._rawRequest(e,t,n,r)},_setAuthenticator(e,t){if(e&&t)throw new Error("Can't specify both apiKey and authenticator");if(!e&&!t)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=e?gV(e):t},_setAppInfo(e){if(e&&"object"!=typeof e)throw new Error("AppInfo must be an object.");if(e&&!e.name)throw new Error("AppInfo.name is required");e=e||{},this._appInfo=Lq.reduce(((t,n)=>("string"==typeof e[n]&&((t=t||{})[n]=e[n]),t)),void 0)},_setApiField(e,t){this._api[e]=t},getApiField(e){return this._api[e]},setClientId(e){this._clientId=e},getClientId(){return this._clientId},getConstant:e=>{switch(e){case"DEFAULT_HOST":return Rq;case"DEFAULT_PORT":return"443";case"DEFAULT_BASE_PATH":return Dq;case"DEFAULT_API_VERSION":return Mq;case"DEFAULT_TIMEOUT":return 8e4;case"MAX_NETWORK_RETRY_DELAY_SEC":return 5;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return.5}return r[e]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(e,t,n){const r=mV(e,t,n);this._setApiField(e,r)},getMaxNetworkRetryDelay:()=>5,getInitialNetworkRetryDelay:()=>.5,getClientUserAgent(e){return this.getClientUserAgentSeeded(r.USER_AGENT,e)},getClientUserAgentSeeded(e,t){this._platformFunctions.getUname().then((n=>{var r;const i={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=encodeURIComponent(null!==(r=e[t])&&void 0!==r?r:"null"));i.uname=encodeURIComponent(n||"UNKNOWN");const s=this.getApiField("httpClient");s&&(i.httplib=encodeURIComponent(s.getClientName())),this._appInfo&&(i.application=this._appInfo),t(JSON.stringify(i))}))},getAppInfoAsString(){if(!this._appInfo)return"";let e=this._appInfo.name;return this._appInfo.version&&(e+=`/${this._appInfo.version}`),this._appInfo.url&&(e+=` (${this._appInfo.url})`),e},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(const e in jq)Object.prototype.hasOwnProperty.call(jq,e)&&(this[fV(e)]=new jq[e](this))},_getPropsFromConfig(e){if(!e)return{};const t="string"==typeof e;if(!(e===Object(e)&&!Array.isArray(e))&&!t)throw new Error("Config must either be an object or a string");if(t)return{apiVersion:e};if(Object.keys(e).filter((e=>!Fq.includes(e))).length>0)throw new Error(`Config object may only contain the following: ${Fq.join(", ")}`);return e},parseThinEvent(e,t,n,r,i,s){return this.webhooks.constructEvent(e,t,n,r,i,s)}},r}(new class extends VR{getUname(){return Promise.resolve(null)}createEmitter(){return new zR}tryBufferData(e){if(e.file.data instanceof ReadableStream)throw new Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(e)}createNodeHttpClient(){throw new Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw new Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}}),zq=new Uq("sk_test_51PuuyHP4FP3pLMevteUzW4NlK5rjIyLawJiinneGsYM3fIrbKD6SoSg7WnIp18j2bUyvHoHCtZIwtGMhQj8pOE8800YJ8tlrea",{apiVersion:"2025-02-24.acacia"}),Bq=({business:e})=>{const[t,n]=je.useState([]),[r,i]=je.useState(null),[s,o]=je.useState(null),[a,l]=je.useState(!0),u=qf(),{toast:c}=kp();je.useEffect((()=>{(async()=>{try{if(l(!0),"demo"===e.id){const e=[{id:"pool1",createdAt:nk.fromMillis(Date.now()-2592e5),totalAmount:299.99,subscriptionName:"Netflix - Monthly Payment",contributors:[{id:"c1",name:"Alice Johnson",amount:9.99,hasVerified:!0,hasPaid:!0},{id:"c2",name:"Bob Smith",amount:9.99,hasVerified:!0,hasPaid:!0},{id:"c3",name:"Carol Lee",amount:9.99,hasVerified:!0,hasPaid:!1},{id:"c4",name:"David Kim",amount:9.99,hasVerified:!1,hasPaid:!1},{id:"c5",name:"Evelyn Garcia",amount:9.99,hasVerified:!0,hasPaid:!0}],status:"active"},{id:"pool2",createdAt:nk.fromMillis(Date.now()-6048e5),totalAmount:79.99,subscriptionName:"Spotify - Annual Subscription",contributors:[{id:"c6",name:"Frank Miller",amount:7.99,hasVerified:!0,hasPaid:!0},{id:"c7",name:"Grace Wilson",amount:7.99,hasVerified:!0,hasPaid:!0},{id:"c8",name:"Hannah Davis",amount:7.99,hasVerified:!0,hasPaid:!1}],status:"active"},{id:"pool3",createdAt:nk.fromMillis(Date.now()-12096e5),totalAmount:499.99,subscriptionName:"Gym Membership - Monthly",contributors:[{id:"c9",name:"Ian Thompson",amount:49.99,hasVerified:!0,hasPaid:!0},{id:"c10",name:"Jenny Lopez",amount:49.99,hasVerified:!0,hasPaid:!0},{id:"c11",name:"Kevin Brown",amount:49.99,hasVerified:!1,hasPaid:!1},{id:"c12",name:"Laura Martinez",amount:49.99,hasVerified:!0,hasPaid:!1},{id:"c13",name:"Mike Robinson",amount:49.99,hasVerified:!0,hasPaid:!0},{id:"c14",name:"Nina Patel",amount:49.99,hasVerified:!0,hasPaid:!0}],status:"completed"},{id:"pool4",createdAt:nk.fromMillis(Date.now()-2592e6),totalAmount:1299.99,subscriptionName:"Insurance Payment - Quarterly",contributors:[{id:"c15",name:"Oliver Clark",amount:324.99,hasVerified:!0,hasPaid:!0},{id:"c16",name:"Paula Adams",amount:324.99,hasVerified:!0,hasPaid:!0},{id:"c17",name:"Quentin Wright",amount:324.99,hasVerified:!0,hasPaid:!0},{id:"c18",name:"Rachel Evans",amount:324.99,hasVerified:!0,hasPaid:!0}],status:"completed"}],t={totalPools:e.length,activePools:e.filter((e=>"active"===e.status)).length,completedPools:e.filter((e=>"completed"===e.status)).length,totalAmount:e.reduce(((e,t)=>e+t.totalAmount),0),collectedAmount:e.reduce(((e,t)=>e+t.contributors.reduce(((e,t)=>t.hasPaid?e+t.amount:e),0)),0),totalContributors:e.reduce(((e,t)=>e+t.contributors.length),0),verifiedContributors:e.reduce(((e,t)=>e+t.contributors.filter((e=>e.hasVerified)).length),0),paidContributors:e.reduce(((e,t)=>e+t.contributors.filter((e=>e.hasPaid)).length),0)};n(e),i(t)}else{const t=await mR(e.id);n(t);const r=await(async e=>{try{const t=await mR(e),n=t.filter((e=>"active"===e.status)).length,r=t.filter((e=>"completed"===e.status)).length,i=t.reduce(((e,t)=>e+t.totalAmount),0),s=t.reduce(((e,t)=>e+t.contributors.reduce(((e,t)=>t.hasPaid?e+t.amount:e),0)),0),o=t.reduce(((e,t)=>e+t.contributors.length),0),a=t.reduce(((e,t)=>e+t.contributors.filter((e=>e.hasVerified)).length),0),l=t.reduce(((e,t)=>e+t.contributors.filter((e=>e.hasPaid)).length),0);return{totalPools:t.length,activePools:n,completedPools:r,totalAmount:i,collectedAmount:s,totalContributors:o,verifiedContributors:a,paidContributors:l}}catch(t){throw console.error("Error getting business stats:",t),t}})(e.id);i(r)}}catch(t){console.error("Error fetching business data:",t),c({title:"Error",description:"Failed to load business data",variant:"destructive"})}finally{l(!1)}})()}),[e.id,c]);return s?$e.jsxs("div",{className:"glass-card p-6",children:[$e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[$e.jsx("button",{onClick:()=>o(null),className:"text-sm text-muted-foreground hover:text-foreground flex items-center",children:"← Back to Dashboard"}),$e.jsx("div",{className:"flex items-center gap-2",children:$e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("completed"===s.status?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-800"),children:"completed"===s.status?"Completed":"Active"})})]}),$e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:s.subscriptionName}),$e.jsxs("p",{className:"text-muted-foreground mb-6",children:["Created on ",s.createdAt?new Date(s.createdAt.toMillis()).toLocaleDateString():"-"]}),$e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[$e.jsx("div",{className:"glass-card p-4",children:$e.jsxs("div",{className:"flex items-center",children:[$e.jsx("div",{className:"p-2.5 rounded-full bg-primary/10 text-primary mr-3",children:$e.jsx(ag,{size:20})}),$e.jsxs("div",{children:[$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),$e.jsxs("p",{className:"text-xl font-semibold",children:[s.totalAmount.toFixed(2)," €"]})]})]})}),$e.jsx("div",{className:"glass-card p-4",children:$e.jsxs("div",{className:"flex items-center",children:[$e.jsx("div",{className:"p-2.5 rounded-full bg-primary/10 text-primary mr-3",children:$e.jsx(gg,{size:20})}),$e.jsxs("div",{children:[$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contributors"}),$e.jsx("p",{className:"text-xl font-semibold",children:s.contributors.length})]})]})}),$e.jsx("div",{className:"glass-card p-4",children:$e.jsxs("div",{className:"flex items-center",children:[$e.jsx("div",{className:"p-2.5 rounded-full bg-primary/10 text-primary mr-3",children:$e.jsx(tg,{size:20})}),$e.jsxs("div",{children:[$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed Payments"}),$e.jsxs("p",{className:"text-xl font-semibold",children:[s.contributors.filter((e=>e.hasPaid)).length," / ",s.contributors.length]})]})]})})]}),$e.jsxs("div",{className:"mb-6",children:[$e.jsx("h3",{className:"font-medium mb-3",children:"Contributors"}),$e.jsx("div",{className:"overflow-x-auto",children:$e.jsxs(PR,{children:[$e.jsx(_R,{children:$e.jsxs(CR,{children:[$e.jsx(NR,{children:"Name"}),$e.jsx(NR,{children:"Amount"}),$e.jsx(NR,{children:"Status"})]})}),$e.jsx(kR,{children:s.contributors.map((e=>$e.jsxs(CR,{children:[$e.jsx(AR,{children:e.name||"Unnamed"}),$e.jsxs(AR,{children:[e.amount.toFixed(2)," €"]}),$e.jsx(AR,{children:e.hasPaid?$e.jsxs("span",{className:"flex items-center text-emerald-600",children:[$e.jsx(tg,{size:16,className:"mr-1"}),"Paid"]}):e.hasVerified?$e.jsxs("span",{className:"flex items-center text-amber-600",children:[$e.jsx(tg,{size:16,className:"mr-1"}),"Verified"]}):$e.jsx("span",{className:"text-muted-foreground",children:"Pending"})})]},e.id)))})]})})]})]}):$e.jsxs("div",{children:[$e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[$e.jsxs("div",{children:[$e.jsxs("h1",{className:"text-2xl font-semibold",children:[e.name," Dashboard"]}),$e.jsx("p",{className:"text-muted-foreground",children:e.email})]}),$e.jsx("div",{className:"flex mt-4 md:mt-0 gap-3",children:e.stripeConnected?$e.jsxs("button",{onClick:async()=>{if(e.stripeAccountId)try{const t=await(async e=>{try{return(await zq.accounts.createLoginLink(e)).url}catch(t){throw console.error("Error creating Stripe login link:",t),t}})(e.stripeAccountId);window.open(t,"_blank")}catch(t){console.error("Error creating login link:",t),c({title:"Error",description:"Failed to access Stripe dashboard",variant:"destructive"})}else c({title:"Stripe not connected",description:"Please connect your Stripe account first",variant:"destructive"})},className:"flex items-center px-4 py-2 border border-input rounded-lg text-sm font-medium hover:bg-secondary transition-colors",children:[$e.jsx(cg,{size:16,className:"mr-2"}),"Stripe Dashboard"]}):$e.jsxs("button",{onClick:()=>u("/connect-stripe",{state:{businessId:e.id}}),className:"flex items-center px-4 py-2 border border-input rounded-lg text-sm font-medium bg-violet-50 text-violet-600 hover:bg-violet-100 transition-colors",children:[$e.jsx(cg,{size:16,className:"mr-2"}),"Connect with Stripe"]})})]}),r&&$e.jsx(kS,{children:$e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[$e.jsx("div",{className:"glass-card p-4",children:$e.jsxs("div",{className:"flex items-center",children:[$e.jsx("div",{className:"p-2.5 rounded-full bg-primary/10 text-primary mr-3",children:$e.jsx(eg,{size:20})}),$e.jsxs("div",{children:[$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pools"}),$e.jsx("p",{className:"text-xl font-semibold",children:r.totalPools})]})]})}),$e.jsx("div",{className:"glass-card p-4",children:$e.jsxs("div",{className:"flex items-center",children:[$e.jsx("div",{className:"p-2.5 rounded-full bg-blue-50 text-blue-600 mr-3",children:$e.jsx(Xm,{size:20})}),$e.jsxs("div",{children:[$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Pools"}),$e.jsx("p",{className:"text-xl font-semibold",children:r.activePools})]})]})}),$e.jsx("div",{className:"glass-card p-4",children:$e.jsxs("div",{className:"flex items-center",children:[$e.jsx("div",{className:"p-2.5 rounded-full bg-emerald-50 text-emerald-600 mr-3",children:$e.jsx(ag,{size:20})}),$e.jsxs("div",{children:[$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),$e.jsxs("p",{className:"text-xl font-semibold",children:[r.totalAmount.toFixed(2)," €"]})]})]})}),$e.jsx("div",{className:"glass-card p-4",children:$e.jsxs("div",{className:"flex items-center",children:[$e.jsx("div",{className:"p-2.5 rounded-full bg-emerald-50 text-emerald-600 mr-3",children:$e.jsx(tg,{size:20})}),$e.jsxs("div",{children:[$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Collected Amount"}),$e.jsxs("p",{className:"text-xl font-semibold",children:[r.collectedAmount.toFixed(2)," €"]})]})]})})]})}),$e.jsxs("div",{className:"glass-card p-6 mb-6",children:[$e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[$e.jsx("h2",{className:"text-lg font-medium",children:"Payment Pools Overview"}),t.length>0&&$e.jsxs("button",{onClick:()=>{if(0===t.length)return;const e=t.map((e=>[e.id,e.createdAt?new Date(e.createdAt.toMillis()).toLocaleDateString():"-",e.subscriptionName,e.totalAmount.toFixed(2),e.status||"active",e.contributors.length.toString(),e.contributors.filter((e=>e.hasVerified)).length.toString(),e.contributors.filter((e=>e.hasPaid)).length.toString()])),n=[["Pool ID","Created At","Name","Total Amount","Status","Contributors","Verified","Paid"].join(","),...e.map((e=>e.join(",")))].join("\n"),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(r),s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",`onepool_export_${(new Date).toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"flex items-center px-3 py-1.5 text-sm border border-input rounded-md hover:bg-secondary transition-colors",children:[$e.jsx(lg,{size:16,className:"mr-2"}),"Export CSV"]})]}),0===t.length?$e.jsx("div",{className:"text-center py-12",children:$e.jsx("p",{className:"text-muted-foreground mb-4",children:"No payment pools available."})}):$e.jsx("div",{className:"overflow-x-auto",children:$e.jsxs(PR,{children:[$e.jsx(_R,{children:$e.jsxs(CR,{children:[$e.jsx(NR,{children:"Name"}),$e.jsx(NR,{children:"Date"}),$e.jsx(NR,{children:"Amount"}),$e.jsx(NR,{children:"Contributors"}),$e.jsx(NR,{children:"Status"}),$e.jsx(NR,{children:"Action"})]})}),$e.jsx(kR,{children:t.map((e=>{const t=e.contributors.filter((e=>e.hasVerified)).length,n=e.contributors.filter((e=>e.hasPaid)).length;return $e.jsxs(CR,{children:[$e.jsx(AR,{className:"font-medium",children:e.subscriptionName}),$e.jsx(AR,{children:e.createdAt?new Date(e.createdAt.toMillis()).toLocaleDateString():"-"}),$e.jsxs(AR,{children:[e.totalAmount.toFixed(2)," €"]}),$e.jsxs(AR,{children:[e.contributors.length," (V:",t," / P:",n,")"]}),$e.jsx(AR,{children:$e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("completed"===e.status?"bg-emerald-100 text-emerald-800":"bg-blue-100 text-blue-800"),children:"completed"===e.status?"Completed":"Active"})}),$e.jsx(AR,{children:$e.jsxs("button",{onClick:()=>(e=>{o(e)})(e),className:"flex items-center text-primary hover:text-primary/70 transition-colors",children:["View",$e.jsx(Jm,{size:14,className:"ml-1"})]})})]},e.id)}))})]})})]})]})},$q=()=>{const{businessId:e="demo"}=Gf(),[t,n]=je.useState(null),[r,i]=je.useState(!0),s=qf(),{toast:o}=kp();return je.useEffect((()=>{(async()=>{try{if("demo"===e)return n({id:"demo",name:"Acme Corp Insights",email:"insights@acmecorp.com",stripeConnected:!0,stripeAccountId:"acct_demo",createdAt:{toMillis:()=>Date.now()}}),void i(!1);const t=await(async e=>{try{const t=fj(dR,"businesses",e),n=await iR(t);return n.exists()?n.data():(console.log("No such business exists!"),null)}catch(t){throw console.error("Error getting business:",t),t}})(e);if(!t)return o({title:"Business not found",description:"The requested business could not be found",variant:"destructive"}),void s("/");n(t)}catch(t){console.error("Error fetching business:",t),o({title:"Error",description:"Failed to load business data",variant:"destructive"})}finally{i(!1)}})()}),[e,s,o]),r?$e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:$e.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):$e.jsxs("div",{className:"min-h-screen bg-background",children:[$e.jsx("header",{className:"py-6 px-4 border-b border-border",children:$e.jsx("div",{className:"container max-w-7xl mx-auto",children:$e.jsx("img",{src:"webapp/public/OnePool.png",alt:"OnePool Logo",className:"logo-image primary-logo"})})}),$e.jsx("main",{className:"container max-w-7xl mx-auto px-4 py-8",children:$e.jsx(kS,{children:t&&$e.jsx(Bq,{business:t})})}),$e.jsx("footer",{className:"py-6 px-4 border-t border-border",children:$e.jsxs("div",{className:"container max-w-7xl mx-auto text-center text-sm text-muted-foreground",children:["OnePool © ",(new Date).getFullYear()," — All rights reserved"]})})]})},qq=()=>{var e;const[t,n]=je.useState(!1),[r,i]=je.useState(!1),[s,o]=je.useState(!1),a=qf(),l=Bf(),{toast:u}=kp(),c=(null==(e=l.state)?void 0:e.businessId)||"demo";Re.useEffect((()=>{const e=new URLSearchParams(window.location.search),t=e.get("code"),n=e.get("state");t&&n&&(async()=>{i(!0);try{const{stripeAccountId:e}=await(async e=>{try{const t=await zq.oauth.token({grant_type:"authorization_code",code:e});if(!t.stripe_user_id)throw new Error("Stripe user ID not returned");return{stripeAccountId:t.stripe_user_id}}catch(t){throw console.error("Error during Stripe OAuth callback:",t),t}})(t);await(async(e,t)=>{try{const n=fj(dR,"businesses",e);await lR(n,{stripeAccountId:t,stripeConnected:!0})}catch(n){throw console.error("Error updating business Stripe account:",n),n}})(n,e),o(!0),u({title:"Successfully connected",description:"Your Stripe account has been successfully connected"}),setTimeout((()=>{a(`/dashboard/${n}`)}),2e3)}catch(e){console.error("Error processing Stripe callback:",e),u({title:"Connection failed",description:"Failed to connect your Stripe account",variant:"destructive"})}finally{i(!1)}})()}),[l,u,a]);return r?$e.jsxs("div",{className:"glass-card p-8 max-w-md mx-auto text-center",children:[$e.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-6"}),$e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Processing Connection"}),$e.jsx("p",{className:"text-muted-foreground",children:"Please wait while we connect your Stripe account..."})]}):s?$e.jsxs("div",{className:"glass-card p-8 max-w-md mx-auto text-center",children:[$e.jsx("div",{className:"w-16 h-16 text-emerald-500 mx-auto mb-6",children:$e.jsx(tg,{size:64})}),$e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Connection Successful!"}),$e.jsx("p",{className:"text-muted-foreground mb-6",children:"Your Stripe account has been successfully connected to OnePool."}),$e.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecting to dashboard..."})]}):$e.jsx(kS,{children:$e.jsxs("div",{className:"glass-card p-8 max-w-md mx-auto",children:[$e.jsxs("div",{className:"text-center mb-6",children:[$e.jsx("div",{className:"w-16 h-16 rounded-full bg-violet-100 flex items-center justify-center text-violet-600 mx-auto mb-4",children:$e.jsx(hg,{size:32})}),$e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Connect with Stripe"}),$e.jsx("p",{className:"text-muted-foreground",children:"Connect your Stripe account to start receiving payments directly."})]}),$e.jsxs("div",{className:"mb-6",children:[$e.jsx("h3",{className:"font-medium mb-3",children:"Benefits of connecting:"}),$e.jsxs("ul",{className:"space-y-2",children:[$e.jsxs("li",{className:"flex items-start",children:[$e.jsx(tg,{size:18,className:"text-emerald-500 mr-2 mt-0.5"}),$e.jsx("span",{children:"Receive payments directly to your bank account"})]}),$e.jsxs("li",{className:"flex items-start",children:[$e.jsx(tg,{size:18,className:"text-emerald-500 mr-2 mt-0.5"}),$e.jsx("span",{children:"Access real-time payment information"})]}),$e.jsxs("li",{className:"flex items-start",children:[$e.jsx(tg,{size:18,className:"text-emerald-500 mr-2 mt-0.5"}),$e.jsx("span",{children:"Manage refunds and disputes from your Stripe dashboard"})]}),$e.jsxs("li",{className:"flex items-start",children:[$e.jsx(tg,{size:18,className:"text-emerald-500 mr-2 mt-0.5"}),$e.jsx("span",{children:"OnePool never touches your funds"})]})]})]}),$e.jsx("button",{onClick:()=>{n(!0);try{const e=`${window.location.origin}/connect-stripe`,t=((e,t={}.STRIPE_REDIRECT_URI||"")=>{const n=encodeURIComponent(e);return`https://connect.stripe.com/oauth/authorize?response_type=code&client_id=acct_1PuuyHP4FP3pLMev&scope=read_write&redirect_uri=${encodeURIComponent(t)}&state=${n}`})(c,e);window.location.href=t}catch(e){console.error("Error connecting to Stripe:",e),u({title:"Connection failed",description:"Failed to initiate Stripe connection",variant:"destructive"}),n(!1)}},disabled:t,className:"w-full py-3 px-4 rounded-md bg-violet-600 hover:bg-violet-700 text-white font-medium flex items-center justify-center",children:t?$e.jsxs($e.Fragment,{children:[$e.jsx("div",{className:"w-5 h-5 border-2 border-t-white/0 border-white rounded-full animate-spin mr-2"}),"Connecting..."]}):$e.jsxs($e.Fragment,{children:[$e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/ba/Stripe_Logo%2C_revised_2016.svg",alt:"Stripe Logo",className:"h-5 mr-2"}),"Connect with Stripe"]})}),$e.jsx("p",{className:"text-xs text-muted-foreground text-center mt-4",children:"By connecting, you agree to Stripe's Terms of Service and Privacy Policy."})]})})},Gq=()=>$e.jsxs("div",{className:"min-h-screen bg-background",children:[$e.jsx("header",{className:"py-6 px-4 border-b border-border",children:$e.jsx("div",{className:"container max-w-7xl mx-auto",children:$e.jsx("img",{src:"/OnePool.png",alt:"OnePool Logo",className:"logo-image primary-logo"})})}),$e.jsx("main",{className:"container max-w-7xl mx-auto px-4 py-12",children:$e.jsx(kS,{children:$e.jsx(qq,{})})}),$e.jsx("footer",{className:"py-6 px-4 border-t border-border",children:$e.jsxs("div",{className:"container max-w-7xl mx-auto text-center text-sm text-muted-foreground",children:["OnePool © ",(new Date).getFullYear()," — All rights reserved"]})})]}),Hq=()=>{const e=Bf();return je.useEffect((()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)}),[e.pathname]),$e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:$e.jsxs(kS,{className:"text-center",children:[$e.jsx("h1",{className:"text-9xl font-bold text-primary/20",children:"404"}),$e.jsx("h2",{className:"text-2xl font-bold mt-6 mb-3",children:"Page Not Found"}),$e.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"The page you're looking for doesn't exist or has been removed."}),$e.jsxs(fp,{to:"/",className:"btn-primary inline-flex items-center px-4 py-2 rounded bg-primary text-primary-foreground hover:bg-primary/90",children:[$e.jsx(dg,{size:18,className:"mr-2"}),"Return Home"]})]})})},Wq=new Dh,Kq=()=>$e.jsx(Lh,{client:Wq,children:$e.jsxs($h,{children:[$e.jsx(fy,{}),$e.jsx(Oy,{}),$e.jsx(cp,{basename:"/app",children:$e.jsxs(ip,{children:[$e.jsx(np,{path:"/",element:$e.jsx(gR,{})}),$e.jsx(np,{path:"/collect/:poolId",element:$e.jsx(xR,{})}),$e.jsx(np,{path:"/pay/:poolId",element:$e.jsx(SR,{})}),$e.jsx(np,{path:"/dashboard/:businessId",element:$e.jsx($q,{})}),$e.jsx(np,{path:"/connect-stripe",element:$e.jsx(Gq,{})}),$e.jsx(np,{path:"*",element:$e.jsx(Hq,{})})]})})]})}),Qq=document.getElementById("root");if(Qq){const e=Jd(Qq);try{e.render($e.jsx(Kq,{}))}catch(Jq){console.error("Error rendering the app:",Jq),Qq.innerHTML='<div style="color: red; padding: 20px;">An error occurred while loading the application. Please refresh the page or check the console for more details.</div>'}}else{console.error("Failed to find the root element");const e=document.createElement("div");e.id="root",document.body.appendChild(e);const t=Jd(e);try{t.render($e.jsx(Kq,{}))}catch(Jq){console.error("Error rendering the app:",Jq),e.innerHTML='<div style="color: red; padding: 20px;">An error occurred while loading the application. Please refresh the page or check the console for more details.</div>'}}
//# sourceMappingURL=index-fef6d43f.js.map
