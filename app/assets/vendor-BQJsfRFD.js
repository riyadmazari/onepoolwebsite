var Rv=t=>{throw TypeError(t)};var _d=(t,e,n)=>e.has(t)||Rv("Cannot "+n);var j=(t,e,n)=>(_d(t,e,"read from private field"),n?n.call(t):e.get(t)),we=(t,e,n)=>e.has(t)?Rv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,r)=>(_d(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),_t=(t,e,n)=>(_d(t,e,"access private method"),n);var pu=(t,e,n,r)=>({set _(i){ce(t,e,i,n)},get _(){return j(t,e,r)}});function uR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function KE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qE={exports:{}},fh={},GE={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),cR=Symbol.for("react.portal"),hR=Symbol.for("react.fragment"),dR=Symbol.for("react.strict_mode"),fR=Symbol.for("react.profiler"),pR=Symbol.for("react.provider"),mR=Symbol.for("react.context"),gR=Symbol.for("react.forward_ref"),yR=Symbol.for("react.suspense"),vR=Symbol.for("react.memo"),wR=Symbol.for("react.lazy"),Iv=Symbol.iterator;function _R(t){return t===null||typeof t!="object"?null:(t=Iv&&t[Iv]||t["@@iterator"],typeof t=="function"?t:null)}var QE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XE=Object.assign,YE={};function Mo(t,e,n){this.props=t,this.context=e,this.refs=YE,this.updater=n||QE}Mo.prototype.isReactComponent={};Mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JE(){}JE.prototype=Mo.prototype;function pm(t,e,n){this.props=t,this.context=e,this.refs=YE,this.updater=n||QE}var mm=pm.prototype=new JE;mm.constructor=pm;XE(mm,Mo.prototype);mm.isPureReactComponent=!0;var bv=Array.isArray,ZE=Object.prototype.hasOwnProperty,gm={current:null},eT={key:!0,ref:!0,__self:!0,__source:!0};function tT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ZE.call(e,r)&&!eT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ml,type:t,key:s,ref:o,props:i,_owner:gm.current}}function ER(t,e){return{$$typeof:Ml,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ym(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ml}function TR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kv=/\/+/g;function Ed(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TR(""+t.key):e.toString(36)}function Ku(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ml:case cR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ed(o,0):r,bv(i)?(n="",t!=null&&(n=t.replace(kv,"$&/")+"/"),Ku(i,e,n,"",function(c){return c})):i!=null&&(ym(i)&&(i=ER(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",bv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ed(s,a);o+=Ku(s,e,n,l,i)}else if(l=_R(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ed(s,a++),o+=Ku(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function mu(t,e,n){if(t==null)return t;var r=[],i=0;return Ku(t,r,"","",function(s){return e.call(n,s,i++)}),r}function xR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Lt={current:null},qu={transition:null},SR={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:qu,ReactCurrentOwner:gm};function nT(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:mu,forEach:function(t,e,n){mu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mu(t,function(){e++}),e},toArray:function(t){return mu(t,function(e){return e})||[]},only:function(t){if(!ym(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=Mo;he.Fragment=hR;he.Profiler=fR;he.PureComponent=pm;he.StrictMode=dR;he.Suspense=yR;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SR;he.act=nT;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=XE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ZE.call(e,l)&&!eT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ml,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:mR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pR,_context:t},t.Consumer=t};he.createElement=tT;he.createFactory=function(t){var e=tT.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:gR,render:t}};he.isValidElement=ym;he.lazy=function(t){return{$$typeof:wR,_payload:{_status:-1,_result:t},_init:xR}};he.memo=function(t,e){return{$$typeof:vR,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=qu.transition;qu.transition={};try{t()}finally{qu.transition=e}};he.unstable_act=nT;he.useCallback=function(t,e){return Lt.current.useCallback(t,e)};he.useContext=function(t){return Lt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Lt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Lt.current.useEffect(t,e)};he.useId=function(){return Lt.current.useId()};he.useImperativeHandle=function(t,e,n){return Lt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Lt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Lt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Lt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Lt.current.useReducer(t,e,n)};he.useRef=function(t){return Lt.current.useRef(t)};he.useState=function(t){return Lt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Lt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Lt.current.useTransition()};he.version="18.3.1";GE.exports=he;var P=GE.exports;const W=KE(P),CR=uR({__proto__:null,default:W},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR=P,AR=Symbol.for("react.element"),RR=Symbol.for("react.fragment"),IR=Object.prototype.hasOwnProperty,bR=PR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kR={key:!0,ref:!0,__self:!0,__source:!0};function rT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)IR.call(e,r)&&!kR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:AR,type:t,key:s,ref:o,props:i,_owner:bR.current}}fh.Fragment=RR;fh.jsx=rT;fh.jsxs=rT;qE.exports=fh;var K=qE.exports,iT={exports:{}},on={},sT={exports:{}},oT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,$){var X=O.length;O.push($);e:for(;0<X;){var G=X-1>>>1,J=O[G];if(0<i(J,$))O[G]=$,O[X]=J,X=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var $=O[0],X=O.pop();if(X!==$){O[0]=X;e:for(var G=0,J=O.length,ee=J>>>1;G<ee;){var Ae=2*(G+1)-1,Je=O[Ae],ve=Ae+1,gt=O[ve];if(0>i(Je,X))ve<J&&0>i(gt,Je)?(O[G]=gt,O[ve]=X,G=ve):(O[G]=Je,O[Ae]=X,G=Ae);else if(ve<J&&0>i(gt,X))O[G]=gt,O[ve]=X,G=ve;else break e}}return $}function i(O,$){var X=O.sortIndex-$.sortIndex;return X!==0?X:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,d=3,m=!1,_=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=O)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function b(O){if(w=!1,x(O),!_)if(n(l)!==null)_=!0,ne(k);else{var $=n(c);$!==null&&Y(b,$.startTime-O)}}function k(O,$){_=!1,w&&(w=!1,y(T),T=-1),m=!0;var X=d;try{for(x($),f=n(l);f!==null&&(!(f.expirationTime>$)||O&&!D());){var G=f.callback;if(typeof G=="function"){f.callback=null,d=f.priorityLevel;var J=G(f.expirationTime<=$);$=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),x($)}else r(l);f=n(l)}if(f!==null)var ee=!0;else{var Ae=n(c);Ae!==null&&Y(b,Ae.startTime-$),ee=!1}return ee}finally{f=null,d=X,m=!1}}var M=!1,C=null,T=-1,A=5,R=-1;function D(){return!(t.unstable_now()-R<A)}function V(){if(C!==null){var O=t.unstable_now();R=O;var $=!0;try{$=C(!0,O)}finally{$?I():(M=!1,C=null)}}else M=!1}var I;if(typeof v=="function")I=function(){v(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ae=z.port2;z.port1.onmessage=V,I=function(){ae.postMessage(null)}}else I=function(){E(V,0)};function ne(O){C=O,M||(M=!0,I())}function Y(O,$){T=E(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,ne(k))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var X=d;d=$;try{return O()}finally{d=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var X=d;d=O;try{return $()}finally{d=X}},t.unstable_scheduleCallback=function(O,$,X){var G=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?G+X:G):X=G,O){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=X+J,O={id:h++,callback:$,priorityLevel:O,startTime:X,expirationTime:J,sortIndex:-1},X>G?(O.sortIndex=X,e(c,O),n(l)===null&&O===n(c)&&(w?(y(T),T=-1):w=!0,Y(b,X-G))):(O.sortIndex=J,e(l,O),_||m||(_=!0,ne(k))),O},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(O){var $=d;return function(){var X=d;d=$;try{return O.apply(this,arguments)}finally{d=X}}}})(oT);sT.exports=oT;var DR=sT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR=P,sn=DR;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aT=new Set,qa={};function fs(t,e){po(t,e),po(t+"Capture",e)}function po(t,e){for(qa[t]=e,t=0;t<e.length;t++)aT.add(e[t])}var Er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ef=Object.prototype.hasOwnProperty,MR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dv={},Vv={};function NR(t){return Ef.call(Vv,t)?!0:Ef.call(Dv,t)?!1:MR.test(t)?Vv[t]=!0:(Dv[t]=!0,!1)}function OR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LR(t,e,n,r){if(e===null||typeof e>"u"||OR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ft(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var vm=/[\-:]([a-z])/g;function wm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vm,wm);pt[e]=new Ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vm,wm);pt[e]=new Ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vm,wm);pt[e]=new Ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function _m(t,e,n,r){var i=pt.hasOwnProperty(e)?pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LR(e,n,i,r)&&(n=null),r||i===null?NR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=VR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gu=Symbol.for("react.element"),bs=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),Em=Symbol.for("react.strict_mode"),Tf=Symbol.for("react.profiler"),lT=Symbol.for("react.provider"),uT=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),xm=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),cT=Symbol.for("react.offscreen"),Mv=Symbol.iterator;function ha(t){return t===null||typeof t!="object"?null:(t=Mv&&t[Mv]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Td;function Ta(t){if(Td===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Td=e&&e[1]||""}return`
`+Td+t}var xd=!1;function Sd(t,e){if(!t||xd)return"";xd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{xd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ta(t):""}function FR(t){switch(t.tag){case 5:return Ta(t.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 2:case 15:return t=Sd(t.type,!1),t;case 11:return t=Sd(t.type.render,!1),t;case 1:return t=Sd(t.type,!0),t;default:return""}}function Cf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ks:return"Fragment";case bs:return"Portal";case Tf:return"Profiler";case Em:return"StrictMode";case xf:return"Suspense";case Sf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uT:return(t.displayName||"Context")+".Consumer";case lT:return(t._context.displayName||"Context")+".Provider";case Tm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xm:return e=t.displayName||null,e!==null?e:Cf(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return Cf(t(e))}catch{}}return null}function jR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cf(e);case 8:return e===Em?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BR(t){var e=hT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yu(t){t._valueTracker||(t._valueTracker=BR(t))}function dT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pf(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Nv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fT(t,e){e=e.checked,e!=null&&_m(t,"checked",e,!1)}function Af(t,e){fT(t,e);var n=yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rf(t,e.type,yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ov(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rf(t,e,n){(e!=="number"||fc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function Gs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function If(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(xa(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yi(n)}}function pT(t,e){var n=yi(e.value),r=yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vu,gT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vu=vu||document.createElement("div"),vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ga(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UR=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(t){UR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ka[e]=ka[t]})});function yT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ka.hasOwnProperty(t)&&ka[t]?(""+e).trim():e+"px"}function vT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $R=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kf(t,e){if(e){if($R[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Df(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=null;function Sm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mf=null,Qs=null,Xs=null;function jv(t){if(t=Ll(t)){if(typeof Mf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=vh(e),Mf(t.stateNode,t.type,e))}}function wT(t){Qs?Xs?Xs.push(t):Xs=[t]:Qs=t}function _T(){if(Qs){var t=Qs,e=Xs;if(Xs=Qs=null,jv(t),e)for(t=0;t<e.length;t++)jv(e[t])}}function ET(t,e){return t(e)}function TT(){}var Cd=!1;function xT(t,e,n){if(Cd)return t(e,n);Cd=!0;try{return ET(t,e,n)}finally{Cd=!1,(Qs!==null||Xs!==null)&&(TT(),_T())}}function Qa(t,e){var n=t.stateNode;if(n===null)return null;var r=vh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Nf=!1;if(Er)try{var da={};Object.defineProperty(da,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{Nf=!1}function zR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Da=!1,pc=null,mc=!1,Of=null,HR={onError:function(t){Da=!0,pc=t}};function WR(t,e,n,r,i,s,o,a,l){Da=!1,pc=null,zR.apply(HR,arguments)}function KR(t,e,n,r,i,s,o,a,l){if(WR.apply(this,arguments),Da){if(Da){var c=pc;Da=!1,pc=null}else throw Error(U(198));mc||(mc=!0,Of=c)}}function ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ST(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bv(t){if(ps(t)!==t)throw Error(U(188))}function qR(t){var e=t.alternate;if(!e){if(e=ps(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Bv(i),t;if(s===r)return Bv(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function CT(t){return t=qR(t),t!==null?PT(t):null}function PT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PT(t);if(e!==null)return e;t=t.sibling}return null}var AT=sn.unstable_scheduleCallback,Uv=sn.unstable_cancelCallback,GR=sn.unstable_shouldYield,QR=sn.unstable_requestPaint,Ke=sn.unstable_now,XR=sn.unstable_getCurrentPriorityLevel,Cm=sn.unstable_ImmediatePriority,RT=sn.unstable_UserBlockingPriority,gc=sn.unstable_NormalPriority,YR=sn.unstable_LowPriority,IT=sn.unstable_IdlePriority,ph=null,Gn=null;function JR(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(ph,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:tI,ZR=Math.log,eI=Math.LN2;function tI(t){return t>>>=0,t===0?32:31-(ZR(t)/eI|0)|0}var wu=64,_u=4194304;function Sa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Sa(a):(s&=o,s!==0&&(r=Sa(s)))}else o=n&~i,o!==0?r=Sa(o):s!==0&&(r=Sa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),i=1<<n,r|=t[n],e&=~i;return r}function nI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-In(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=nI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Lf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bT(){var t=wu;return wu<<=1,!(wu&4194240)&&(wu=64),t}function Pd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function iI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-In(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Pm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Te=0;function kT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var DT,Am,VT,MT,NT,Ff=!1,Eu=[],ri=null,ii=null,si=null,Xa=new Map,Ya=new Map,Kr=[],sI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $v(t,e){switch(t){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":Xa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(e.pointerId)}}function fa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ll(e),e!==null&&Am(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oI(t,e,n,r,i){switch(e){case"focusin":return ri=fa(ri,t,e,n,r,i),!0;case"dragenter":return ii=fa(ii,t,e,n,r,i),!0;case"mouseover":return si=fa(si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xa.set(s,fa(Xa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ya.set(s,fa(Ya.get(s)||null,t,e,n,r,i)),!0}return!1}function OT(t){var e=Ki(t.target);if(e!==null){var n=ps(e);if(n!==null){if(e=n.tag,e===13){if(e=ST(n),e!==null){t.blockedOn=e,NT(t.priority,function(){VT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vf=r,n.target.dispatchEvent(r),Vf=null}else return e=Ll(n),e!==null&&Am(e),t.blockedOn=n,!1;e.shift()}return!0}function zv(t,e,n){Gu(t)&&n.delete(e)}function aI(){Ff=!1,ri!==null&&Gu(ri)&&(ri=null),ii!==null&&Gu(ii)&&(ii=null),si!==null&&Gu(si)&&(si=null),Xa.forEach(zv),Ya.forEach(zv)}function pa(t,e){t.blockedOn===e&&(t.blockedOn=null,Ff||(Ff=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,aI)))}function Ja(t){function e(i){return pa(i,t)}if(0<Eu.length){pa(Eu[0],t);for(var n=1;n<Eu.length;n++){var r=Eu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ri!==null&&pa(ri,t),ii!==null&&pa(ii,t),si!==null&&pa(si,t),Xa.forEach(e),Ya.forEach(e),n=0;n<Kr.length;n++)r=Kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Kr.length&&(n=Kr[0],n.blockedOn===null);)OT(n),n.blockedOn===null&&Kr.shift()}var Ys=kr.ReactCurrentBatchConfig,vc=!0;function lI(t,e,n,r){var i=Te,s=Ys.transition;Ys.transition=null;try{Te=1,Rm(t,e,n,r)}finally{Te=i,Ys.transition=s}}function uI(t,e,n,r){var i=Te,s=Ys.transition;Ys.transition=null;try{Te=4,Rm(t,e,n,r)}finally{Te=i,Ys.transition=s}}function Rm(t,e,n,r){if(vc){var i=jf(t,e,n,r);if(i===null)Od(t,e,r,wc,n),$v(t,r);else if(oI(i,t,e,n,r))r.stopPropagation();else if($v(t,r),e&4&&-1<sI.indexOf(t)){for(;i!==null;){var s=Ll(i);if(s!==null&&DT(s),s=jf(t,e,n,r),s===null&&Od(t,e,r,wc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Od(t,e,r,null,n)}}var wc=null;function jf(t,e,n,r){if(wc=null,t=Sm(r),t=Ki(t),t!==null)if(e=ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ST(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wc=t,null}function LT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XR()){case Cm:return 1;case RT:return 4;case gc:case YR:return 16;case IT:return 536870912;default:return 16}default:return 16}}var Zr=null,Im=null,Qu=null;function FT(){if(Qu)return Qu;var t,e=Im,n=e.length,r,i="value"in Zr?Zr.value:Zr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qu=i.slice(t,1<r?1-r:void 0)}function Xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tu(){return!0}function Hv(){return!1}function an(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tu:Hv,this.isPropagationStopped=Hv,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),e}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bm=an(No),Ol=Le({},No,{view:0,detail:0}),cI=an(Ol),Ad,Rd,ma,mh=Le({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:km,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ma&&(ma&&t.type==="mousemove"?(Ad=t.screenX-ma.screenX,Rd=t.screenY-ma.screenY):Rd=Ad=0,ma=t),Ad)},movementY:function(t){return"movementY"in t?t.movementY:Rd}}),Wv=an(mh),hI=Le({},mh,{dataTransfer:0}),dI=an(hI),fI=Le({},Ol,{relatedTarget:0}),Id=an(fI),pI=Le({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),mI=an(pI),gI=Le({},No,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yI=an(gI),vI=Le({},No,{data:0}),Kv=an(vI),wI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_I={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EI[t])?!!e[t]:!1}function km(){return TI}var xI=Le({},Ol,{key:function(t){if(t.key){var e=wI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_I[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:km,charCode:function(t){return t.type==="keypress"?Xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SI=an(xI),CI=Le({},mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qv=an(CI),PI=Le({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:km}),AI=an(PI),RI=Le({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),II=an(RI),bI=Le({},mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kI=an(bI),DI=[9,13,27,32],Dm=Er&&"CompositionEvent"in window,Va=null;Er&&"documentMode"in document&&(Va=document.documentMode);var VI=Er&&"TextEvent"in window&&!Va,jT=Er&&(!Dm||Va&&8<Va&&11>=Va),Gv=" ",Qv=!1;function BT(t,e){switch(t){case"keyup":return DI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ds=!1;function MI(t,e){switch(t){case"compositionend":return UT(e);case"keypress":return e.which!==32?null:(Qv=!0,Gv);case"textInput":return t=e.data,t===Gv&&Qv?null:t;default:return null}}function NI(t,e){if(Ds)return t==="compositionend"||!Dm&&BT(t,e)?(t=FT(),Qu=Im=Zr=null,Ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jT&&e.locale!=="ko"?null:e.data;default:return null}}var OI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OI[t.type]:e==="textarea"}function $T(t,e,n,r){wT(r),e=_c(e,"onChange"),0<e.length&&(n=new bm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ma=null,Za=null;function LI(t){ZT(t,0)}function gh(t){var e=Ns(t);if(dT(e))return t}function FI(t,e){if(t==="change")return e}var zT=!1;if(Er){var bd;if(Er){var kd="oninput"in document;if(!kd){var Yv=document.createElement("div");Yv.setAttribute("oninput","return;"),kd=typeof Yv.oninput=="function"}bd=kd}else bd=!1;zT=bd&&(!document.documentMode||9<document.documentMode)}function Jv(){Ma&&(Ma.detachEvent("onpropertychange",HT),Za=Ma=null)}function HT(t){if(t.propertyName==="value"&&gh(Za)){var e=[];$T(e,Za,t,Sm(t)),xT(LI,e)}}function jI(t,e,n){t==="focusin"?(Jv(),Ma=e,Za=n,Ma.attachEvent("onpropertychange",HT)):t==="focusout"&&Jv()}function BI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gh(Za)}function UI(t,e){if(t==="click")return gh(e)}function $I(t,e){if(t==="input"||t==="change")return gh(e)}function zI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:zI;function el(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ef.call(e,i)||!kn(t[i],e[i]))return!1}return!0}function Zv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function e0(t,e){var n=Zv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zv(n)}}function WT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KT(){for(var t=window,e=fc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fc(t.document)}return e}function Vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HI(t){var e=KT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WT(n.ownerDocument.documentElement,n)){if(r!==null&&Vm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=e0(n,s);var o=e0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WI=Er&&"documentMode"in document&&11>=document.documentMode,Vs=null,Bf=null,Na=null,Uf=!1;function t0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uf||Vs==null||Vs!==fc(r)||(r=Vs,"selectionStart"in r&&Vm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Na&&el(Na,r)||(Na=r,r=_c(Bf,"onSelect"),0<r.length&&(e=new bm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vs)))}function xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ms={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},Dd={},qT={};Er&&(qT=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function yh(t){if(Dd[t])return Dd[t];if(!Ms[t])return t;var e=Ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qT)return Dd[t]=e[n];return t}var GT=yh("animationend"),QT=yh("animationiteration"),XT=yh("animationstart"),YT=yh("transitionend"),JT=new Map,n0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(t,e){JT.set(t,e),fs(e,[t])}for(var Vd=0;Vd<n0.length;Vd++){var Md=n0[Vd],KI=Md.toLowerCase(),qI=Md[0].toUpperCase()+Md.slice(1);ki(KI,"on"+qI)}ki(GT,"onAnimationEnd");ki(QT,"onAnimationIteration");ki(XT,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(YT,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function r0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,KR(r,e,void 0,t),t.currentTarget=null}function ZT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;r0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;r0(i,a,c),s=l}}}if(mc)throw t=Of,mc=!1,Of=null,t}function be(t,e){var n=e[Kf];n===void 0&&(n=e[Kf]=new Set);var r=t+"__bubble";n.has(r)||(e1(e,t,2,!1),n.add(r))}function Nd(t,e,n){var r=0;e&&(r|=4),e1(n,t,r,e)}var Su="_reactListening"+Math.random().toString(36).slice(2);function tl(t){if(!t[Su]){t[Su]=!0,aT.forEach(function(n){n!=="selectionchange"&&(GI.has(n)||Nd(n,!1,t),Nd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Su]||(e[Su]=!0,Nd("selectionchange",!1,e))}}function e1(t,e,n,r){switch(LT(e)){case 1:var i=lI;break;case 4:i=uI;break;default:i=Rm}n=i.bind(null,e,n,t),i=void 0,!Nf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Od(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ki(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}xT(function(){var c=s,h=Sm(n),f=[];e:{var d=JT.get(t);if(d!==void 0){var m=bm,_=t;switch(t){case"keypress":if(Xu(n)===0)break e;case"keydown":case"keyup":m=SI;break;case"focusin":_="focus",m=Id;break;case"focusout":_="blur",m=Id;break;case"beforeblur":case"afterblur":m=Id;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Wv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=dI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=AI;break;case GT:case QT:case XT:m=mI;break;case YT:m=II;break;case"scroll":m=cI;break;case"wheel":m=kI;break;case"copy":case"cut":case"paste":m=yI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=qv}var w=(e&4)!==0,E=!w&&t==="scroll",y=w?d!==null?d+"Capture":null:d;w=[];for(var v=c,x;v!==null;){x=v;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,y!==null&&(b=Qa(v,y),b!=null&&w.push(nl(v,b,x)))),E)break;v=v.return}0<w.length&&(d=new m(d,_,null,n,h),f.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&n!==Vf&&(_=n.relatedTarget||n.fromElement)&&(Ki(_)||_[Tr]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=c,_=_?Ki(_):null,_!==null&&(E=ps(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=c),m!==_)){if(w=Wv,b="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=qv,b="onPointerLeave",y="onPointerEnter",v="pointer"),E=m==null?d:Ns(m),x=_==null?d:Ns(_),d=new w(b,v+"leave",m,n,h),d.target=E,d.relatedTarget=x,b=null,Ki(h)===c&&(w=new w(y,v+"enter",_,n,h),w.target=x,w.relatedTarget=E,b=w),E=b,m&&_)t:{for(w=m,y=_,v=0,x=w;x;x=Cs(x))v++;for(x=0,b=y;b;b=Cs(b))x++;for(;0<v-x;)w=Cs(w),v--;for(;0<x-v;)y=Cs(y),x--;for(;v--;){if(w===y||y!==null&&w===y.alternate)break t;w=Cs(w),y=Cs(y)}w=null}else w=null;m!==null&&i0(f,d,m,w,!1),_!==null&&E!==null&&i0(f,E,_,w,!0)}}e:{if(d=c?Ns(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var k=FI;else if(Xv(d))if(zT)k=$I;else{k=BI;var M=jI}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=UI);if(k&&(k=k(t,c))){$T(f,k,n,h);break e}M&&M(t,d,c),t==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&Rf(d,"number",d.value)}switch(M=c?Ns(c):window,t){case"focusin":(Xv(M)||M.contentEditable==="true")&&(Vs=M,Bf=c,Na=null);break;case"focusout":Na=Bf=Vs=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,t0(f,n,h);break;case"selectionchange":if(WI)break;case"keydown":case"keyup":t0(f,n,h)}var C;if(Dm)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ds?BT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(jT&&n.locale!=="ko"&&(Ds||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ds&&(C=FT()):(Zr=h,Im="value"in Zr?Zr.value:Zr.textContent,Ds=!0)),M=_c(c,T),0<M.length&&(T=new Kv(T,t,null,n,h),f.push({event:T,listeners:M}),C?T.data=C:(C=UT(n),C!==null&&(T.data=C)))),(C=VI?MI(t,n):NI(t,n))&&(c=_c(c,"onBeforeInput"),0<c.length&&(h=new Kv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=C))}ZT(f,e)})}function nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function _c(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qa(t,n),s!=null&&r.unshift(nl(t,s,i)),s=Qa(t,e),s!=null&&r.push(nl(t,s,i))),t=t.return}return r}function Cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Qa(n,s),l!=null&&o.unshift(nl(n,l,a))):i||(l=Qa(n,s),l!=null&&o.push(nl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QI=/\r\n?/g,XI=/\u0000|\uFFFD/g;function s0(t){return(typeof t=="string"?t:""+t).replace(QI,`
`).replace(XI,"")}function Cu(t,e,n){if(e=s0(e),s0(t)!==e&&n)throw Error(U(425))}function Ec(){}var $f=null,zf=null;function Hf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wf=typeof setTimeout=="function"?setTimeout:void 0,YI=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,JI=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(t){return o0.resolve(null).then(t).catch(ZI)}:Wf;function ZI(t){setTimeout(function(){throw t})}function Ld(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ja(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ja(e)}function oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function a0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Oo,rl="__reactProps$"+Oo,Tr="__reactContainer$"+Oo,Kf="__reactEvents$"+Oo,eb="__reactListeners$"+Oo,tb="__reactHandles$"+Oo;function Ki(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=a0(t);t!==null;){if(n=t[qn])return n;t=a0(t)}return e}t=n,n=t.parentNode}return null}function Ll(t){return t=t[qn]||t[Tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ns(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function vh(t){return t[rl]||null}var qf=[],Os=-1;function Di(t){return{current:t}}function ke(t){0>Os||(t.current=qf[Os],qf[Os]=null,Os--)}function Ce(t,e){Os++,qf[Os]=t.current,t.current=e}var vi={},bt=Di(vi),zt=Di(!1),is=vi;function mo(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function Tc(){ke(zt),ke(bt)}function l0(t,e,n){if(bt.current!==vi)throw Error(U(168));Ce(bt,e),Ce(zt,n)}function t1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,jR(t)||"Unknown",i));return Le({},n,r)}function xc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,is=bt.current,Ce(bt,t),Ce(zt,zt.current),!0}function u0(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=t1(t,e,is),r.__reactInternalMemoizedMergedChildContext=t,ke(zt),ke(bt),Ce(bt,t)):ke(zt),Ce(zt,n)}var mr=null,wh=!1,Fd=!1;function n1(t){mr===null?mr=[t]:mr.push(t)}function nb(t){wh=!0,n1(t)}function Vi(){if(!Fd&&mr!==null){Fd=!0;var t=0,e=Te;try{var n=mr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}mr=null,wh=!1}catch(i){throw mr!==null&&(mr=mr.slice(t+1)),AT(Cm,Vi),i}finally{Te=e,Fd=!1}}return null}var Ls=[],Fs=0,Sc=null,Cc=0,hn=[],dn=0,ss=null,gr=1,yr="";function $i(t,e){Ls[Fs++]=Cc,Ls[Fs++]=Sc,Sc=t,Cc=e}function r1(t,e,n){hn[dn++]=gr,hn[dn++]=yr,hn[dn++]=ss,ss=t;var r=gr;t=yr;var i=32-In(r)-1;r&=~(1<<i),n+=1;var s=32-In(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gr=1<<32-In(e)+i|n<<i|r,yr=s+t}else gr=1<<s|n<<i|r,yr=t}function Mm(t){t.return!==null&&($i(t,1),r1(t,1,0))}function Nm(t){for(;t===Sc;)Sc=Ls[--Fs],Ls[Fs]=null,Cc=Ls[--Fs],Ls[Fs]=null;for(;t===ss;)ss=hn[--dn],hn[dn]=null,yr=hn[--dn],hn[dn]=null,gr=hn[--dn],hn[dn]=null}var en=null,Zt=null,De=!1,An=null;function i1(t,e){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function c0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Zt=oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ss!==null?{id:gr,overflow:yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Zt=null,!0):!1;default:return!1}}function Gf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qf(t){if(De){var e=Zt;if(e){var n=e;if(!c0(t,e)){if(Gf(t))throw Error(U(418));e=oi(n.nextSibling);var r=en;e&&c0(t,e)?i1(r,n):(t.flags=t.flags&-4097|2,De=!1,en=t)}}else{if(Gf(t))throw Error(U(418));t.flags=t.flags&-4097|2,De=!1,en=t}}}function h0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Pu(t){if(t!==en)return!1;if(!De)return h0(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hf(t.type,t.memoizedProps)),e&&(e=Zt)){if(Gf(t))throw s1(),Error(U(418));for(;e;)i1(t,e),e=oi(e.nextSibling)}if(h0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=en?oi(t.stateNode.nextSibling):null;return!0}function s1(){for(var t=Zt;t;)t=oi(t.nextSibling)}function go(){Zt=en=null,De=!1}function Om(t){An===null?An=[t]:An.push(t)}var rb=kr.ReactCurrentBatchConfig;function ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Au(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d0(t){var e=t._init;return e(t._payload)}function o1(t){function e(y,v){if(t){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=ci(y,v),y.index=0,y.sibling=null,y}function s(y,v,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,x,b){return v===null||v.tag!==6?(v=Wd(x,y.mode,b),v.return=y,v):(v=i(v,x),v.return=y,v)}function l(y,v,x,b){var k=x.type;return k===ks?h(y,v,x.props.children,b,x.key):v!==null&&(v.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hr&&d0(k)===v.type)?(b=i(v,x.props),b.ref=ga(y,v,x),b.return=y,b):(b=rc(x.type,x.key,x.props,null,y.mode,b),b.ref=ga(y,v,x),b.return=y,b)}function c(y,v,x,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Kd(x,y.mode,b),v.return=y,v):(v=i(v,x.children||[]),v.return=y,v)}function h(y,v,x,b,k){return v===null||v.tag!==7?(v=ns(x,y.mode,b,k),v.return=y,v):(v=i(v,x),v.return=y,v)}function f(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Wd(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gu:return x=rc(v.type,v.key,v.props,null,y.mode,x),x.ref=ga(y,null,v),x.return=y,x;case bs:return v=Kd(v,y.mode,x),v.return=y,v;case Hr:var b=v._init;return f(y,b(v._payload),x)}if(xa(v)||ha(v))return v=ns(v,y.mode,x,null),v.return=y,v;Au(y,v)}return null}function d(y,v,x,b){var k=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:a(y,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gu:return x.key===k?l(y,v,x,b):null;case bs:return x.key===k?c(y,v,x,b):null;case Hr:return k=x._init,d(y,v,k(x._payload),b)}if(xa(x)||ha(x))return k!==null?null:h(y,v,x,b,null);Au(y,x)}return null}function m(y,v,x,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(x)||null,a(v,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gu:return y=y.get(b.key===null?x:b.key)||null,l(v,y,b,k);case bs:return y=y.get(b.key===null?x:b.key)||null,c(v,y,b,k);case Hr:var M=b._init;return m(y,v,x,M(b._payload),k)}if(xa(b)||ha(b))return y=y.get(x)||null,h(v,y,b,k,null);Au(v,b)}return null}function _(y,v,x,b){for(var k=null,M=null,C=v,T=v=0,A=null;C!==null&&T<x.length;T++){C.index>T?(A=C,C=null):A=C.sibling;var R=d(y,C,x[T],b);if(R===null){C===null&&(C=A);break}t&&C&&R.alternate===null&&e(y,C),v=s(R,v,T),M===null?k=R:M.sibling=R,M=R,C=A}if(T===x.length)return n(y,C),De&&$i(y,T),k;if(C===null){for(;T<x.length;T++)C=f(y,x[T],b),C!==null&&(v=s(C,v,T),M===null?k=C:M.sibling=C,M=C);return De&&$i(y,T),k}for(C=r(y,C);T<x.length;T++)A=m(C,y,T,x[T],b),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?T:A.key),v=s(A,v,T),M===null?k=A:M.sibling=A,M=A);return t&&C.forEach(function(D){return e(y,D)}),De&&$i(y,T),k}function w(y,v,x,b){var k=ha(x);if(typeof k!="function")throw Error(U(150));if(x=k.call(x),x==null)throw Error(U(151));for(var M=k=null,C=v,T=v=0,A=null,R=x.next();C!==null&&!R.done;T++,R=x.next()){C.index>T?(A=C,C=null):A=C.sibling;var D=d(y,C,R.value,b);if(D===null){C===null&&(C=A);break}t&&C&&D.alternate===null&&e(y,C),v=s(D,v,T),M===null?k=D:M.sibling=D,M=D,C=A}if(R.done)return n(y,C),De&&$i(y,T),k;if(C===null){for(;!R.done;T++,R=x.next())R=f(y,R.value,b),R!==null&&(v=s(R,v,T),M===null?k=R:M.sibling=R,M=R);return De&&$i(y,T),k}for(C=r(y,C);!R.done;T++,R=x.next())R=m(C,y,T,R.value,b),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?T:R.key),v=s(R,v,T),M===null?k=R:M.sibling=R,M=R);return t&&C.forEach(function(V){return e(y,V)}),De&&$i(y,T),k}function E(y,v,x,b){if(typeof x=="object"&&x!==null&&x.type===ks&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case gu:e:{for(var k=x.key,M=v;M!==null;){if(M.key===k){if(k=x.type,k===ks){if(M.tag===7){n(y,M.sibling),v=i(M,x.props.children),v.return=y,y=v;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Hr&&d0(k)===M.type){n(y,M.sibling),v=i(M,x.props),v.ref=ga(y,M,x),v.return=y,y=v;break e}n(y,M);break}else e(y,M);M=M.sibling}x.type===ks?(v=ns(x.props.children,y.mode,b,x.key),v.return=y,y=v):(b=rc(x.type,x.key,x.props,null,y.mode,b),b.ref=ga(y,v,x),b.return=y,y=b)}return o(y);case bs:e:{for(M=x.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(y,v.sibling),v=i(v,x.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Kd(x,y.mode,b),v.return=y,y=v}return o(y);case Hr:return M=x._init,E(y,v,M(x._payload),b)}if(xa(x))return _(y,v,x,b);if(ha(x))return w(y,v,x,b);Au(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,x),v.return=y,y=v):(n(y,v),v=Wd(x,y.mode,b),v.return=y,y=v),o(y)):n(y,v)}return E}var yo=o1(!0),a1=o1(!1),Pc=Di(null),Ac=null,js=null,Lm=null;function Fm(){Lm=js=Ac=null}function jm(t){var e=Pc.current;ke(Pc),t._currentValue=e}function Xf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Js(t,e){Ac=t,Lm=js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(Lm!==t)if(t={context:t,memoizedValue:e,next:null},js===null){if(Ac===null)throw Error(U(308));js=t,Ac.dependencies={lanes:0,firstContext:t}}else js=js.next=t;return e}var qi=null;function Bm(t){qi===null?qi=[t]:qi.push(t)}function l1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bm(e)):(n.next=i.next,i.next=n),e.interleaved=n,xr(t,r)}function xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wr=!1;function Um(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ai(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xr(t,n)}return i=r.interleaved,i===null?(e.next=e,Bm(r)):(e.next=i.next,i.next=e),r.interleaved=e,xr(t,n)}function Yu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pm(t,n)}}function f0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rc(t,e,n,r){var i=t.updateQueue;Wr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,h=c=l=null,a=s;do{var d=a.lane,m=a.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,w=a;switch(d=e,m=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){f=_.call(m,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,d=typeof _=="function"?_.call(m,f,d):_,d==null)break e;f=Le({},f,d);break e;case 2:Wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);as|=o,t.lanes=o,t.memoizedState=f}}function p0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Fl={},Qn=Di(Fl),il=Di(Fl),sl=Di(Fl);function Gi(t){if(t===Fl)throw Error(U(174));return t}function $m(t,e){switch(Ce(sl,e),Ce(il,t),Ce(Qn,Fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bf(e,t)}ke(Qn),Ce(Qn,e)}function vo(){ke(Qn),ke(il),ke(sl)}function c1(t){Gi(sl.current);var e=Gi(Qn.current),n=bf(e,t.type);e!==n&&(Ce(il,t),Ce(Qn,n))}function zm(t){il.current===t&&(ke(Qn),ke(il))}var Me=Di(0);function Ic(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jd=[];function Hm(){for(var t=0;t<jd.length;t++)jd[t]._workInProgressVersionPrimary=null;jd.length=0}var Ju=kr.ReactCurrentDispatcher,Bd=kr.ReactCurrentBatchConfig,os=0,Oe=null,Ze=null,ot=null,bc=!1,Oa=!1,ol=0,ib=0;function Et(){throw Error(U(321))}function Wm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function Km(t,e,n,r,i,s){if(os=s,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ju.current=t===null||t.memoizedState===null?lb:ub,t=n(r,i),Oa){s=0;do{if(Oa=!1,ol=0,25<=s)throw Error(U(301));s+=1,ot=Ze=null,e.updateQueue=null,Ju.current=cb,t=n(r,i)}while(Oa)}if(Ju.current=kc,e=Ze!==null&&Ze.next!==null,os=0,ot=Ze=Oe=null,bc=!1,e)throw Error(U(300));return t}function qm(){var t=ol!==0;return ol=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Oe.memoizedState=ot=t:ot=ot.next=t,ot}function yn(){if(Ze===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=ot===null?Oe.memoizedState:ot.next;if(e!==null)ot=e,Ze=t;else{if(t===null)throw Error(U(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},ot===null?Oe.memoizedState=ot=t:ot=ot.next=t}return ot}function al(t,e){return typeof e=="function"?e(t):e}function Ud(t){var e=yn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((os&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Oe.lanes|=h,as|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,kn(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Oe.lanes|=s,as|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $d(t){var e=yn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);kn(s,e.memoizedState)||($t=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function h1(){}function d1(t,e){var n=Oe,r=yn(),i=e(),s=!kn(r.memoizedState,i);if(s&&(r.memoizedState=i,$t=!0),r=r.queue,Gm(m1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,ll(9,p1.bind(null,n,r,i,e),void 0,null),at===null)throw Error(U(349));os&30||f1(n,e,i)}return i}function f1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function p1(t,e,n,r){e.value=n,e.getSnapshot=r,g1(e)&&y1(t)}function m1(t,e,n){return n(function(){g1(e)&&y1(t)})}function g1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function y1(t){var e=xr(t,1);e!==null&&bn(e,t,1,-1)}function m0(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:t},e.queue=t,t=t.dispatch=ab.bind(null,Oe,t),[e.memoizedState,t]}function ll(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v1(){return yn().memoizedState}function Zu(t,e,n,r){var i=$n();Oe.flags|=t,i.memoizedState=ll(1|e,n,void 0,r===void 0?null:r)}function _h(t,e,n,r){var i=yn();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,r!==null&&Wm(r,o.deps)){i.memoizedState=ll(e,n,s,r);return}}Oe.flags|=t,i.memoizedState=ll(1|e,n,s,r)}function g0(t,e){return Zu(8390656,8,t,e)}function Gm(t,e){return _h(2048,8,t,e)}function w1(t,e){return _h(4,2,t,e)}function _1(t,e){return _h(4,4,t,e)}function E1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function T1(t,e,n){return n=n!=null?n.concat([t]):null,_h(4,4,E1.bind(null,e,t),n)}function Qm(){}function x1(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function S1(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function C1(t,e,n){return os&21?(kn(n,e)||(n=bT(),Oe.lanes|=n,as|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function sb(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=Bd.transition;Bd.transition={};try{t(!1),e()}finally{Te=n,Bd.transition=r}}function P1(){return yn().memoizedState}function ob(t,e,n){var r=ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},A1(t))R1(e,n);else if(n=l1(t,e,n,r),n!==null){var i=Ot();bn(n,t,r,i),I1(n,e,r)}}function ab(t,e,n){var r=ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(A1(t))R1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,kn(a,o)){var l=e.interleaved;l===null?(i.next=i,Bm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=l1(t,e,i,r),n!==null&&(i=Ot(),bn(n,t,r,i),I1(n,e,r))}}function A1(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function R1(t,e){Oa=bc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function I1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pm(t,n)}}var kc={readContext:gn,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},lb={readContext:gn,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:g0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zu(4194308,4,E1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zu(4,2,t,e)},useMemo:function(t,e){var n=$n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ob.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:m0,useDebugValue:Qm,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=m0(!1),e=t[0];return t=sb.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=$n();if(De){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),at===null)throw Error(U(349));os&30||f1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,g0(m1.bind(null,r,s,t),[t]),r.flags|=2048,ll(9,p1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$n(),e=at.identifierPrefix;if(De){var n=yr,r=gr;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ib++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ub={readContext:gn,useCallback:x1,useContext:gn,useEffect:Gm,useImperativeHandle:T1,useInsertionEffect:w1,useLayoutEffect:_1,useMemo:S1,useReducer:Ud,useRef:v1,useState:function(){return Ud(al)},useDebugValue:Qm,useDeferredValue:function(t){var e=yn();return C1(e,Ze.memoizedState,t)},useTransition:function(){var t=Ud(al)[0],e=yn().memoizedState;return[t,e]},useMutableSource:h1,useSyncExternalStore:d1,useId:P1,unstable_isNewReconciler:!1},cb={readContext:gn,useCallback:x1,useContext:gn,useEffect:Gm,useImperativeHandle:T1,useInsertionEffect:w1,useLayoutEffect:_1,useMemo:S1,useReducer:$d,useRef:v1,useState:function(){return $d(al)},useDebugValue:Qm,useDeferredValue:function(t){var e=yn();return Ze===null?e.memoizedState=t:C1(e,Ze.memoizedState,t)},useTransition:function(){var t=$d(al)[0],e=yn().memoizedState;return[t,e]},useMutableSource:h1,useSyncExternalStore:d1,useId:P1,unstable_isNewReconciler:!1};function xn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Eh={isMounted:function(t){return(t=t._reactInternals)?ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=ui(t),s=vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ai(t,s,i),e!==null&&(bn(e,t,i,r),Yu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),i=ui(t),s=vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ai(t,s,i),e!==null&&(bn(e,t,i,r),Yu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=ui(t),i=vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ai(t,i,r),e!==null&&(bn(e,t,r,n),Yu(e,t,r))}};function y0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!el(n,r)||!el(i,s):!0}function b1(t,e,n){var r=!1,i=vi,s=e.contextType;return typeof s=="object"&&s!==null?s=gn(s):(i=Ht(e)?is:bt.current,r=e.contextTypes,s=(r=r!=null)?mo(t,i):vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function v0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Eh.enqueueReplaceState(e,e.state,null)}function Jf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Um(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gn(s):(s=Ht(e)?is:bt.current,i.context=mo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Eh.enqueueReplaceState(i,i.state,null),Rc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wo(t,e){try{var n="",r=e;do n+=FR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hb=typeof WeakMap=="function"?WeakMap:Map;function k1(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vc||(Vc=!0,up=r),Zf(t,e)},n}function D1(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zf(t,e),typeof r!="function"&&(li===null?li=new Set([this]):li.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function w0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Cb.bind(null,t,e,n),e.then(t,t))}function _0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,ai(n,e,1))),n.lanes|=1),t)}var db=kr.ReactCurrentOwner,$t=!1;function Vt(t,e,n,r){e.child=t===null?a1(e,null,n,r):yo(e,t.child,n,r)}function T0(t,e,n,r,i){n=n.render;var s=e.ref;return Js(e,i),r=Km(t,e,n,r,s,i),n=qm(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sr(t,e,i)):(De&&n&&Mm(e),e.flags|=1,Vt(t,e,r,i),e.child)}function x0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!rg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,V1(t,e,s,r,i)):(t=rc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:el,n(o,r)&&t.ref===e.ref)return Sr(t,e,i)}return e.flags|=1,t=ci(s,r),t.ref=e.ref,t.return=e,e.child=t}function V1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(el(s,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,Sr(t,e,i)}return ep(t,e,n,r,i)}function M1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Us,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Us,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(Us,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(Us,Yt),Yt|=r;return Vt(t,e,i,n),e.child}function N1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ep(t,e,n,r,i){var s=Ht(n)?is:bt.current;return s=mo(e,s),Js(e,i),n=Km(t,e,n,r,s,i),r=qm(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sr(t,e,i)):(De&&r&&Mm(e),e.flags|=1,Vt(t,e,n,i),e.child)}function S0(t,e,n,r,i){if(Ht(n)){var s=!0;xc(e)}else s=!1;if(Js(e,i),e.stateNode===null)ec(t,e),b1(e,n,r),Jf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gn(c):(c=Ht(n)?is:bt.current,c=mo(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&v0(e,o,r,c),Wr=!1;var d=e.memoizedState;o.state=d,Rc(e,r,o,i),l=e.memoizedState,a!==r||d!==l||zt.current||Wr?(typeof h=="function"&&(Yf(e,n,h,r),l=e.memoizedState),(a=Wr||y0(e,n,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,u1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:xn(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gn(l):(l=Ht(n)?is:bt.current,l=mo(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&v0(e,o,r,l),Wr=!1,d=e.memoizedState,o.state=d,Rc(e,r,o,i);var _=e.memoizedState;a!==f||d!==_||zt.current||Wr?(typeof m=="function"&&(Yf(e,n,m,r),_=e.memoizedState),(c=Wr||y0(e,n,c,r,d,_,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return tp(t,e,n,r,s,i)}function tp(t,e,n,r,i,s){N1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&u0(e,n,!1),Sr(t,e,s);r=e.stateNode,db.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=yo(e,t.child,null,s),e.child=yo(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&u0(e,n,!0),e.child}function O1(t){var e=t.stateNode;e.pendingContext?l0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l0(t,e.context,!1),$m(t,e.containerInfo)}function C0(t,e,n,r,i){return go(),Om(i),e.flags|=256,Vt(t,e,n,r),e.child}var np={dehydrated:null,treeContext:null,retryLane:0};function rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function L1(t,e,n){var r=e.pendingProps,i=Me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(Me,i&1),t===null)return Qf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Sh(o,r,0,null),t=ns(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rp(n),e.memoizedState=np,t):Xm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fb(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ci(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ci(a,s):(s=ns(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=np,r}return s=t.child,t=s.sibling,r=ci(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xm(t,e){return e=Sh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ru(t,e,n,r){return r!==null&&Om(r),yo(e,t.child,null,n),t=Xm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zd(Error(U(422))),Ru(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Sh({mode:"visible",children:r.children},i,0,null),s=ns(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&yo(e,t.child,null,o),e.child.memoizedState=rp(o),e.memoizedState=np,s);if(!(e.mode&1))return Ru(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=zd(s,r,void 0),Ru(t,e,o,r)}if(a=(o&t.childLanes)!==0,$t||a){if(r=at,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xr(t,i),bn(r,t,i,-1))}return ng(),r=zd(Error(U(421))),Ru(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Pb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zt=oi(i.nextSibling),en=e,De=!0,An=null,t!==null&&(hn[dn++]=gr,hn[dn++]=yr,hn[dn++]=ss,gr=t.id,yr=t.overflow,ss=e),e=Xm(e,r.children),e.flags|=4096,e)}function P0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xf(t.return,e,n)}function Hd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function F1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P0(t,n,e);else if(t.tag===19)P0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ic(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ic(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hd(e,!0,n,null,s);break;case"together":Hd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ec(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),as|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=ci(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ci(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pb(t,e,n){switch(e.tag){case 3:O1(e),go();break;case 5:c1(e);break;case 1:Ht(e.type)&&xc(e);break;case 4:$m(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(Pc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?L1(t,e,n):(Ce(Me,Me.current&1),t=Sr(t,e,n),t!==null?t.sibling:null);Ce(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return F1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,M1(t,e,n)}return Sr(t,e,n)}var j1,ip,B1,U1;j1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ip=function(){};B1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gi(Qn.current);var s=null;switch(n){case"input":i=Pf(t,i),r=Pf(t,r),s=[];break;case"select":i=Le({},i,{value:void 0}),r=Le({},r,{value:void 0}),s=[];break;case"textarea":i=If(t,i),r=If(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ec)}kf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};U1=function(t,e,n,r){n!==r&&(e.flags|=4)};function ya(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mb(t,e,n){var r=e.pendingProps;switch(Nm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Ht(e.type)&&Tc(),Tt(e),null;case 3:return r=e.stateNode,vo(),ke(zt),ke(bt),Hm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(dp(An),An=null))),ip(t,e),Tt(e),null;case 5:zm(e);var i=Gi(sl.current);if(n=e.type,t!==null&&e.stateNode!=null)B1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Tt(e),null}if(t=Gi(Qn.current),Pu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qn]=e,r[rl]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<Ca.length;i++)be(Ca[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":Nv(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":Lv(r,s),be("invalid",r)}kf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Cu(r.textContent,a,t),i=["children",""+a]):qa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":yu(r),Ov(r,s,!0);break;case"textarea":yu(r),Fv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ec)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[rl]=r,j1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Df(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ca.length;i++)be(Ca[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":Nv(t,r),i=Pf(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Le({},r,{value:void 0}),be("invalid",t);break;case"textarea":Lv(t,r),i=If(t,r),be("invalid",t);break;default:i=r}kf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?vT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ga(t,l):typeof l=="number"&&Ga(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",t):l!=null&&_m(t,s,l,o))}switch(n){case"input":yu(t),Ov(t,r,!1);break;case"textarea":yu(t),Fv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Gs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ec)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)U1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Gi(sl.current),Gi(Qn.current),Pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(s=r.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:Cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return Tt(e),null;case 13:if(ke(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Zt!==null&&e.mode&1&&!(e.flags&128))s1(),go(),e.flags|=98560,s=!1;else if(s=Pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[qn]=e}else go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),s=!1}else An!==null&&(dp(An),An=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?nt===0&&(nt=3):ng())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return vo(),ip(t,e),t===null&&tl(e.stateNode.containerInfo),Tt(e),null;case 10:return jm(e.type._context),Tt(e),null;case 17:return Ht(e.type)&&Tc(),Tt(e),null;case 19:if(ke(Me),s=e.memoizedState,s===null)return Tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ya(s,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ic(t),o!==null){for(e.flags|=128,ya(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ke()>_o&&(e.flags|=128,r=!0,ya(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ic(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ya(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return Tt(e),null}else 2*Ke()-s.renderingStartTime>_o&&n!==1073741824&&(e.flags|=128,r=!0,ya(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ke(),e.sibling=null,n=Me.current,Ce(Me,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return tg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function gb(t,e){switch(Nm(e),e.tag){case 1:return Ht(e.type)&&Tc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vo(),ke(zt),ke(bt),Hm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return zm(e),null;case 13:if(ke(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ke(Me),null;case 4:return vo(),null;case 10:return jm(e.type._context),null;case 22:case 23:return tg(),null;case 24:return null;default:return null}}var Iu=!1,At=!1,yb=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function sp(t,e,n){try{n()}catch(r){ze(t,e,r)}}var A0=!1;function vb(t,e){if($f=vc,t=KT(),Vm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zf={focusedElem:t,selectionRange:n},vc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,E=_.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:xn(e.type,w),E);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(b){ze(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return _=A0,A0=!1,_}function La(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sp(e,n,s)}i=i.next}while(i!==r)}}function Th(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function op(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $1(t){var e=t.alternate;e!==null&&(t.alternate=null,$1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[rl],delete e[Kf],delete e[eb],delete e[tb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function z1(t){return t.tag===5||t.tag===3||t.tag===4}function R0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ap(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ec));else if(r!==4&&(t=t.child,t!==null))for(ap(t,e,n),t=t.sibling;t!==null;)ap(t,e,n),t=t.sibling}function lp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lp(t,e,n),t=t.sibling;t!==null;)lp(t,e,n),t=t.sibling}var ut=null,Pn=!1;function jr(t,e,n){for(n=n.child;n!==null;)H1(t,e,n),n=n.sibling}function H1(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(ph,n)}catch{}switch(n.tag){case 5:At||Bs(n,e);case 6:var r=ut,i=Pn;ut=null,jr(t,e,n),ut=r,Pn=i,ut!==null&&(Pn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(Pn?(t=ut,n=n.stateNode,t.nodeType===8?Ld(t.parentNode,n):t.nodeType===1&&Ld(t,n),Ja(t)):Ld(ut,n.stateNode));break;case 4:r=ut,i=Pn,ut=n.stateNode.containerInfo,Pn=!0,jr(t,e,n),ut=r,Pn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sp(n,e,o),i=i.next}while(i!==r)}jr(t,e,n);break;case 1:if(!At&&(Bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}jr(t,e,n);break;case 21:jr(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,jr(t,e,n),At=r):jr(t,e,n);break;default:jr(t,e,n)}}function I0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yb),e.forEach(function(r){var i=Ab.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,Pn=!1;break e;case 3:ut=a.stateNode.containerInfo,Pn=!0;break e;case 4:ut=a.stateNode.containerInfo,Pn=!0;break e}a=a.return}if(ut===null)throw Error(U(160));H1(s,o,i),ut=null,Pn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ze(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W1(e,t),e=e.sibling}function W1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Un(t),r&4){try{La(3,t,t.return),Th(3,t)}catch(w){ze(t,t.return,w)}try{La(5,t,t.return)}catch(w){ze(t,t.return,w)}}break;case 1:En(e,t),Un(t),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(En(e,t),Un(t),r&512&&n!==null&&Bs(n,n.return),t.flags&32){var i=t.stateNode;try{Ga(i,"")}catch(w){ze(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fT(i,s),Df(a,o);var c=Df(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?vT(i,f):h==="dangerouslySetInnerHTML"?gT(i,f):h==="children"?Ga(i,f):_m(i,h,f,c)}switch(a){case"input":Af(i,s);break;case"textarea":pT(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Gs(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Gs(i,!!s.multiple,s.defaultValue,!0):Gs(i,!!s.multiple,s.multiple?[]:"",!1))}i[rl]=s}catch(w){ze(t,t.return,w)}}break;case 6:if(En(e,t),Un(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){ze(t,t.return,w)}}break;case 3:if(En(e,t),Un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ja(e.containerInfo)}catch(w){ze(t,t.return,w)}break;case 4:En(e,t),Un(t);break;case 13:En(e,t),Un(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zm=Ke())),r&4&&I0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(At=(c=At)||h,En(e,t),At=c):En(e,t),Un(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(f=Q=h;Q!==null;){switch(d=Q,m=d.child,d.tag){case 0:case 11:case 14:case 15:La(4,d,d.return);break;case 1:Bs(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){ze(r,n,w)}}break;case 5:Bs(d,d.return);break;case 22:if(d.memoizedState!==null){k0(f);continue}}m!==null?(m.return=d,Q=m):k0(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yT("display",o))}catch(w){ze(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){ze(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:En(e,t),Un(t),r&4&&I0(t);break;case 21:break;default:En(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(z1(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ga(i,""),r.flags&=-33);var s=R0(t);lp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=R0(t);ap(t,a,o);break;default:throw Error(U(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wb(t,e,n){Q=t,K1(t)}function K1(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Iu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||At;a=Iu;var c=At;if(Iu=o,(At=l)&&!c)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?D0(i):l!==null?(l.return=o,Q=l):D0(i);for(;s!==null;)Q=s,K1(s),s=s.sibling;Q=i,Iu=a,At=c}b0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):b0(t)}}function b0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||Th(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&p0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}p0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ja(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}At||e.flags&512&&op(e)}catch(d){ze(e,e.return,d)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function k0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function D0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Th(4,e)}catch(l){ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ze(e,i,l)}}var s=e.return;try{op(e)}catch(l){ze(e,s,l)}break;case 5:var o=e.return;try{op(e)}catch(l){ze(e,o,l)}}}catch(l){ze(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var _b=Math.ceil,Dc=kr.ReactCurrentDispatcher,Ym=kr.ReactCurrentOwner,mn=kr.ReactCurrentBatchConfig,ge=0,at=null,Xe=null,ft=0,Yt=0,Us=Di(0),nt=0,ul=null,as=0,xh=0,Jm=0,Fa=null,Ut=null,Zm=0,_o=1/0,pr=null,Vc=!1,up=null,li=null,bu=!1,ei=null,Mc=0,ja=0,cp=null,tc=-1,nc=0;function Ot(){return ge&6?Ke():tc!==-1?tc:tc=Ke()}function ui(t){return t.mode&1?ge&2&&ft!==0?ft&-ft:rb.transition!==null?(nc===0&&(nc=bT()),nc):(t=Te,t!==0||(t=window.event,t=t===void 0?16:LT(t.type)),t):1}function bn(t,e,n,r){if(50<ja)throw ja=0,cp=null,Error(U(185));Nl(t,n,r),(!(ge&2)||t!==at)&&(t===at&&(!(ge&2)&&(xh|=n),nt===4&&qr(t,ft)),Wt(t,r),n===1&&ge===0&&!(e.mode&1)&&(_o=Ke()+500,wh&&Vi()))}function Wt(t,e){var n=t.callbackNode;rI(t,e);var r=yc(t,t===at?ft:0);if(r===0)n!==null&&Uv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uv(n),e===1)t.tag===0?nb(V0.bind(null,t)):n1(V0.bind(null,t)),JI(function(){!(ge&6)&&Vi()}),n=null;else{switch(kT(r)){case 1:n=Cm;break;case 4:n=RT;break;case 16:n=gc;break;case 536870912:n=IT;break;default:n=gc}n=ex(n,q1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function q1(t,e){if(tc=-1,nc=0,ge&6)throw Error(U(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var r=yc(t,t===at?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nc(t,r);else{e=r;var i=ge;ge|=2;var s=Q1();(at!==t||ft!==e)&&(pr=null,_o=Ke()+500,ts(t,e));do try{xb();break}catch(a){G1(t,a)}while(!0);Fm(),Dc.current=s,ge=i,Xe!==null?e=0:(at=null,ft=0,e=nt)}if(e!==0){if(e===2&&(i=Lf(t),i!==0&&(r=i,e=hp(t,i))),e===1)throw n=ul,ts(t,0),qr(t,r),Wt(t,Ke()),n;if(e===6)qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!Eb(i)&&(e=Nc(t,r),e===2&&(s=Lf(t),s!==0&&(r=s,e=hp(t,s))),e===1))throw n=ul,ts(t,0),qr(t,r),Wt(t,Ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:zi(t,Ut,pr);break;case 3:if(qr(t,r),(r&130023424)===r&&(e=Zm+500-Ke(),10<e)){if(yc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Wf(zi.bind(null,t,Ut,pr),e);break}zi(t,Ut,pr);break;case 4:if(qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-In(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_b(r/1960))-r,10<r){t.timeoutHandle=Wf(zi.bind(null,t,Ut,pr),r);break}zi(t,Ut,pr);break;case 5:zi(t,Ut,pr);break;default:throw Error(U(329))}}}return Wt(t,Ke()),t.callbackNode===n?q1.bind(null,t):null}function hp(t,e){var n=Fa;return t.current.memoizedState.isDehydrated&&(ts(t,e).flags|=256),t=Nc(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&dp(e)),t}function dp(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function Eb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e){for(e&=~Jm,e&=~xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function V0(t){if(ge&6)throw Error(U(327));Zs();var e=yc(t,0);if(!(e&1))return Wt(t,Ke()),null;var n=Nc(t,e);if(t.tag!==0&&n===2){var r=Lf(t);r!==0&&(e=r,n=hp(t,r))}if(n===1)throw n=ul,ts(t,0),qr(t,e),Wt(t,Ke()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t,Ut,pr),Wt(t,Ke()),null}function eg(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(_o=Ke()+500,wh&&Vi())}}function ls(t){ei!==null&&ei.tag===0&&!(ge&6)&&Zs();var e=ge;ge|=1;var n=mn.transition,r=Te;try{if(mn.transition=null,Te=1,t)return t()}finally{Te=r,mn.transition=n,ge=e,!(ge&6)&&Vi()}}function tg(){Yt=Us.current,ke(Us)}function ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,YI(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Nm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tc();break;case 3:vo(),ke(zt),ke(bt),Hm();break;case 5:zm(r);break;case 4:vo();break;case 13:ke(Me);break;case 19:ke(Me);break;case 10:jm(r.type._context);break;case 22:case 23:tg()}n=n.return}if(at=t,Xe=t=ci(t.current,null),ft=Yt=e,nt=0,ul=null,Jm=xh=as=0,Ut=Fa=null,qi!==null){for(e=0;e<qi.length;e++)if(n=qi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qi=null}return t}function G1(t,e){do{var n=Xe;try{if(Fm(),Ju.current=kc,bc){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bc=!1}if(os=0,ot=Ze=Oe=null,Oa=!1,ol=0,Ym.current=null,n===null||n.return===null){nt=1,ul=e,Xe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=_0(o);if(m!==null){m.flags&=-257,E0(m,o,a,s,e),m.mode&1&&w0(s,c,e),e=m,l=c;var _=e.updateQueue;if(_===null){var w=new Set;w.add(l),e.updateQueue=w}else _.add(l);break e}else{if(!(e&1)){w0(s,c,e),ng();break e}l=Error(U(426))}}else if(De&&a.mode&1){var E=_0(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),E0(E,o,a,s,e),Om(wo(l,a));break e}}s=l=wo(l,a),nt!==4&&(nt=2),Fa===null?Fa=[s]:Fa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=k1(s,l,e);f0(s,y);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(li===null||!li.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=D1(s,a,e);f0(s,b);break e}}s=s.return}while(s!==null)}Y1(n)}catch(k){e=k,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function Q1(){var t=Dc.current;return Dc.current=kc,t===null?kc:t}function ng(){(nt===0||nt===3||nt===2)&&(nt=4),at===null||!(as&268435455)&&!(xh&268435455)||qr(at,ft)}function Nc(t,e){var n=ge;ge|=2;var r=Q1();(at!==t||ft!==e)&&(pr=null,ts(t,e));do try{Tb();break}catch(i){G1(t,i)}while(!0);if(Fm(),ge=n,Dc.current=r,Xe!==null)throw Error(U(261));return at=null,ft=0,nt}function Tb(){for(;Xe!==null;)X1(Xe)}function xb(){for(;Xe!==null&&!GR();)X1(Xe)}function X1(t){var e=Z1(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?Y1(t):Xe=e,Ym.current=null}function Y1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gb(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Xe=null;return}}else if(n=mb(n,e,Yt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);nt===0&&(nt=5)}function zi(t,e,n){var r=Te,i=mn.transition;try{mn.transition=null,Te=1,Sb(t,e,n,r)}finally{mn.transition=i,Te=r}return null}function Sb(t,e,n,r){do Zs();while(ei!==null);if(ge&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(iI(t,s),t===at&&(Xe=at=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bu||(bu=!0,ex(gc,function(){return Zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mn.transition,mn.transition=null;var o=Te;Te=1;var a=ge;ge|=4,Ym.current=null,vb(t,n),W1(n,t),HI(zf),vc=!!$f,zf=$f=null,t.current=n,wb(n),QR(),ge=a,Te=o,mn.transition=s}else t.current=n;if(bu&&(bu=!1,ei=t,Mc=i),s=t.pendingLanes,s===0&&(li=null),JR(n.stateNode),Wt(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vc)throw Vc=!1,t=up,up=null,t;return Mc&1&&t.tag!==0&&Zs(),s=t.pendingLanes,s&1?t===cp?ja++:(ja=0,cp=t):ja=0,Vi(),null}function Zs(){if(ei!==null){var t=kT(Mc),e=mn.transition,n=Te;try{if(mn.transition=null,Te=16>t?16:t,ei===null)var r=!1;else{if(t=ei,ei=null,Mc=0,ge&6)throw Error(U(331));var i=ge;for(ge|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Q=c;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:La(8,h,s)}var f=h.child;if(f!==null)f.return=h,Q=f;else for(;Q!==null;){h=Q;var d=h.sibling,m=h.return;if($1(h),h===c){Q=null;break}if(d!==null){d.return=m,Q=d;break}Q=m}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:La(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Q=y;break e}Q=s.return}}var v=t.current;for(Q=v;Q!==null;){o=Q;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Q=x;else e:for(o=v;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Th(9,a)}}catch(k){ze(a,a.return,k)}if(a===o){Q=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Q=b;break e}Q=a.return}}if(ge=i,Vi(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(ph,t)}catch{}r=!0}return r}finally{Te=n,mn.transition=e}}return!1}function M0(t,e,n){e=wo(n,e),e=k1(t,e,1),t=ai(t,e,1),e=Ot(),t!==null&&(Nl(t,1,e),Wt(t,e))}function ze(t,e,n){if(t.tag===3)M0(t,t,n);else for(;e!==null;){if(e.tag===3){M0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(li===null||!li.has(r))){t=wo(n,t),t=D1(e,t,1),e=ai(e,t,1),t=Ot(),e!==null&&(Nl(e,1,t),Wt(e,t));break}}e=e.return}}function Cb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(ft&n)===n&&(nt===4||nt===3&&(ft&130023424)===ft&&500>Ke()-Zm?ts(t,0):Jm|=n),Wt(t,e)}function J1(t,e){e===0&&(t.mode&1?(e=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):e=1);var n=Ot();t=xr(t,e),t!==null&&(Nl(t,e,n),Wt(t,n))}function Pb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),J1(t,n)}function Ab(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),J1(t,n)}var Z1;Z1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,pb(t,e,n);$t=!!(t.flags&131072)}else $t=!1,De&&e.flags&1048576&&r1(e,Cc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ec(t,e),t=e.pendingProps;var i=mo(e,bt.current);Js(e,n),i=Km(null,e,r,t,i,n);var s=qm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,xc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Um(e),i.updater=Eh,e.stateNode=i,i._reactInternals=e,Jf(e,r,t,n),e=tp(null,e,r,!0,s,n)):(e.tag=0,De&&s&&Mm(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ec(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ib(r),t=xn(r,t),i){case 0:e=ep(null,e,r,t,n);break e;case 1:e=S0(null,e,r,t,n);break e;case 11:e=T0(null,e,r,t,n);break e;case 14:e=x0(null,e,r,xn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),ep(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),S0(t,e,r,i,n);case 3:e:{if(O1(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,u1(t,e),Rc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wo(Error(U(423)),e),e=C0(t,e,r,n,i);break e}else if(r!==i){i=wo(Error(U(424)),e),e=C0(t,e,r,n,i);break e}else for(Zt=oi(e.stateNode.containerInfo.firstChild),en=e,De=!0,An=null,n=a1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(go(),r===i){e=Sr(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return c1(e),t===null&&Qf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Hf(r,i)?o=null:s!==null&&Hf(r,s)&&(e.flags|=32),N1(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&Qf(e),null;case 13:return L1(t,e,n);case 4:return $m(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yo(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),T0(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(Pc,r._currentValue),r._currentValue=o,s!==null)if(kn(s.value,o)){if(s.children===i.children&&!zt.current){e=Sr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xf(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Js(e,n),i=gn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=xn(r,e.pendingProps),i=xn(r.type,i),x0(t,e,r,i,n);case 15:return V1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),ec(t,e),e.tag=1,Ht(r)?(t=!0,xc(e)):t=!1,Js(e,n),b1(e,r,i),Jf(e,r,i,n),tp(null,e,r,!0,t,n);case 19:return F1(t,e,n);case 22:return M1(t,e,n)}throw Error(U(156,e.tag))};function ex(t,e){return AT(t,e)}function Rb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,n,r){return new Rb(t,e,n,r)}function rg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ib(t){if(typeof t=="function")return rg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tm)return 11;if(t===xm)return 14}return 2}function ci(t,e){var n=t.alternate;return n===null?(n=pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")rg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ks:return ns(n.children,i,s,e);case Em:o=8,i|=8;break;case Tf:return t=pn(12,n,e,i|2),t.elementType=Tf,t.lanes=s,t;case xf:return t=pn(13,n,e,i),t.elementType=xf,t.lanes=s,t;case Sf:return t=pn(19,n,e,i),t.elementType=Sf,t.lanes=s,t;case cT:return Sh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lT:o=10;break e;case uT:o=9;break e;case Tm:o=11;break e;case xm:o=14;break e;case Hr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=pn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ns(t,e,n,r){return t=pn(7,t,r,e),t.lanes=n,t}function Sh(t,e,n,r){return t=pn(22,t,r,e),t.elementType=cT,t.lanes=n,t.stateNode={isHidden:!1},t}function Wd(t,e,n){return t=pn(6,t,null,e),t.lanes=n,t}function Kd(t,e,n){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pd(0),this.expirationTimes=Pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ig(t,e,n,r,i,s,o,a,l){return t=new bb(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(s),t}function kb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tx(t){if(!t)return vi;t=t._reactInternals;e:{if(ps(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Ht(n))return t1(t,n,e)}return e}function nx(t,e,n,r,i,s,o,a,l){return t=ig(n,r,!0,t,i,s,o,a,l),t.context=tx(null),n=t.current,r=Ot(),i=ui(n),s=vr(r,i),s.callback=e??null,ai(n,s,i),t.current.lanes=i,Nl(t,i,r),Wt(t,r),t}function Ch(t,e,n,r){var i=e.current,s=Ot(),o=ui(i);return n=tx(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ai(i,e,o),t!==null&&(bn(t,i,o,s),Yu(t,i,o)),o}function Oc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function N0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sg(t,e){N0(t,e),(t=t.alternate)&&N0(t,e)}function Db(){return null}var rx=typeof reportError=="function"?reportError:function(t){console.error(t)};function og(t){this._internalRoot=t}Ph.prototype.render=og.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Ch(t,e,null,null)};Ph.prototype.unmount=og.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ls(function(){Ch(null,t,null,null)}),e[Tr]=null}};function Ph(t){this._internalRoot=t}Ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=MT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Kr.length&&e!==0&&e<Kr[n].priority;n++);Kr.splice(n,0,t),n===0&&OT(t)}};function ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function O0(){}function Vb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Oc(o);s.call(c)}}var o=nx(e,r,t,0,null,!1,!1,"",O0);return t._reactRootContainer=o,t[Tr]=o.current,tl(t.nodeType===8?t.parentNode:t),ls(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Oc(l);a.call(c)}}var l=ig(t,0,!1,null,null,!1,!1,"",O0);return t._reactRootContainer=l,t[Tr]=l.current,tl(t.nodeType===8?t.parentNode:t),ls(function(){Ch(e,l,n,r)}),l}function Rh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Oc(o);a.call(l)}}Ch(e,o,t,i)}else o=Vb(n,e,t,i,r);return Oc(o)}DT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sa(e.pendingLanes);n!==0&&(Pm(e,n|1),Wt(e,Ke()),!(ge&6)&&(_o=Ke()+500,Vi()))}break;case 13:ls(function(){var r=xr(t,1);if(r!==null){var i=Ot();bn(r,t,1,i)}}),sg(t,1)}};Am=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var n=Ot();bn(e,t,134217728,n)}sg(t,134217728)}};VT=function(t){if(t.tag===13){var e=ui(t),n=xr(t,e);if(n!==null){var r=Ot();bn(n,t,e,r)}sg(t,e)}};MT=function(){return Te};NT=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};Mf=function(t,e,n){switch(e){case"input":if(Af(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vh(r);if(!i)throw Error(U(90));dT(r),Af(r,i)}}}break;case"textarea":pT(t,n);break;case"select":e=n.value,e!=null&&Gs(t,!!n.multiple,e,!1)}};ET=eg;TT=ls;var Mb={usingClientEntryPoint:!1,Events:[Ll,Ns,vh,wT,_T,eg]},va={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nb={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CT(t),t===null?null:t.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||Db,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{ph=ku.inject(Nb),Gn=ku}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mb;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ag(e))throw Error(U(200));return kb(t,e,null,n)};on.createRoot=function(t,e){if(!ag(t))throw Error(U(299));var n=!1,r="",i=rx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ig(t,1,!1,null,null,n,!1,r,i),t[Tr]=e.current,tl(t.nodeType===8?t.parentNode:t),new og(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=CT(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return ls(t)};on.hydrate=function(t,e,n){if(!Ah(e))throw Error(U(200));return Rh(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!ag(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=rx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nx(e,null,t,1,n??null,i,!1,s,o),t[Tr]=e.current,tl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ph(e)};on.render=function(t,e,n){if(!Ah(e))throw Error(U(200));return Rh(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!Ah(t))throw Error(U(40));return t._reactRootContainer?(ls(function(){Rh(null,null,t,!1,function(){t._reactRootContainer=null,t[Tr]=null})}),!0):!1};on.unstable_batchedUpdates=eg;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ah(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Rh(t,e,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function ix(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ix)}catch(t){console.error(t)}}ix(),iT.exports=on;var jl=iT.exports;const sx=KE(jl);var Ob,L0=jl;Ob=L0.createRoot,L0.hydrateRoot;function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Lb(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function ox(...t){return e=>t.forEach(n=>Lb(n,e))}function Dn(...t){return P.useCallback(ox(...t),t)}function Fb(t,e=[]){let n=[];function r(s,o){const a=P.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:d,children:m,..._}=f,w=(d==null?void 0:d[t][l])||a,E=P.useMemo(()=>_,Object.values(_));return K.jsx(w.Provider,{value:E,children:m})}function h(f,d){const m=(d==null?void 0:d[t][l])||a,_=P.useContext(m);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,h]}const i=()=>{const s=n.map(o=>P.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,jb(i,...e)]}function jb(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Lc=P.forwardRef((t,e)=>{const{children:n,...r}=t,i=P.Children.toArray(n),s=i.find(Bb);if(s){const o=s.props.children,a=i.map(l=>l===s?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:l);return K.jsx(fp,{...r,ref:e,children:P.isValidElement(o)?P.cloneElement(o,void 0,a):null})}return K.jsx(fp,{...r,ref:e,children:n})});Lc.displayName="Slot";var fp=P.forwardRef((t,e)=>{const{children:n,...r}=t;if(P.isValidElement(n)){const i=$b(n);return P.cloneElement(n,{...Ub(r,n.props),ref:e?ox(e,i):i})}return P.Children.count(n)>1?P.Children.only(null):null});fp.displayName="SlotClone";var ax=({children:t})=>K.jsx(K.Fragment,{children:t});function Bb(t){return P.isValidElement(t)&&t.type===ax}function Ub(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function $b(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function zb(t){const e=t+"CollectionProvider",[n,r]=Fb(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:_,children:w}=m,E=W.useRef(null),y=W.useRef(new Map).current;return K.jsx(i,{scope:_,itemMap:y,collectionRef:E,children:w})};o.displayName=e;const a=t+"CollectionSlot",l=W.forwardRef((m,_)=>{const{scope:w,children:E}=m,y=s(a,w),v=Dn(_,y.collectionRef);return K.jsx(Lc,{ref:v,children:E})});l.displayName=a;const c=t+"CollectionItemSlot",h="data-radix-collection-item",f=W.forwardRef((m,_)=>{const{scope:w,children:E,...y}=m,v=W.useRef(null),x=Dn(_,v),b=s(c,w);return W.useEffect(()=>(b.itemMap.set(v,{ref:v,...y}),()=>void b.itemMap.delete(v))),K.jsx(Lc,{[h]:"",ref:x,children:E})});f.displayName=c;function d(m){const _=s(t+"CollectionConsumer",m);return W.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const y=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((b,k)=>y.indexOf(b.ref.current)-y.indexOf(k.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},d,r]}function lx(t,e=[]){let n=[];function r(s,o){const a=P.createContext(o),l=n.length;n=[...n,o];const c=f=>{var y;const{scope:d,children:m,..._}=f,w=((y=d==null?void 0:d[t])==null?void 0:y[l])||a,E=P.useMemo(()=>_,Object.values(_));return K.jsx(w.Provider,{value:E,children:m})};c.displayName=s+"Provider";function h(f,d){var w;const m=((w=d==null?void 0:d[t])==null?void 0:w[l])||a,_=P.useContext(m);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(o=>P.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Hb(i,...e)]}function Hb(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Wb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Kt=Wb.reduce((t,e)=>{const n=P.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Lc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),K.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ux(t,e){t&&jl.flushSync(()=>t.dispatchEvent(e))}function tr(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Kb(t,e=globalThis==null?void 0:globalThis.document){const n=tr(t);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var qb="DismissableLayer",pp="dismissableLayer.update",Gb="dismissableLayer.pointerDownOutside",Qb="dismissableLayer.focusOutside",F0,cx=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lg=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=P.useContext(cx),[h,f]=P.useState(null),d=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=P.useState({}),_=Dn(e,C=>f(C)),w=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=w.indexOf(E),v=h?w.indexOf(h):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,b=v>=y,k=Yb(C=>{const T=C.target,A=[...c.branches].some(R=>R.contains(T));!b||A||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},d),M=Jb(C=>{const T=C.target;[...c.branches].some(R=>R.contains(T))||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},d);return Kb(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},d),P.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(F0=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),j0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=F0)}},[h,d,n,c]),P.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),j0())},[h,c]),P.useEffect(()=>{const C=()=>m({});return document.addEventListener(pp,C),()=>document.removeEventListener(pp,C)},[]),K.jsx(Kt.div,{...l,ref:_,style:{pointerEvents:x?b?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,M.onFocusCapture),onBlurCapture:et(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,k.onPointerDownCapture)})});lg.displayName=qb;var Xb="DismissableLayerBranch",hx=P.forwardRef((t,e)=>{const n=P.useContext(cx),r=P.useRef(null),i=Dn(e,r);return P.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),K.jsx(Kt.div,{...t,ref:i})});hx.displayName=Xb;function Yb(t,e=globalThis==null?void 0:globalThis.document){const n=tr(t),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){dx(Gb,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Jb(t,e=globalThis==null?void 0:globalThis.document){const n=tr(t),r=P.useRef(!1);return P.useEffect(()=>{const i=s=>{s.target&&!r.current&&dx(Qb,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function j0(){const t=new CustomEvent(pp);document.dispatchEvent(t)}function dx(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ux(i,s):i.dispatchEvent(s)}var Zb=lg,ek=hx,us=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},tk="Portal",fx=P.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=P.useState(!1);us(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?sx.createPortal(K.jsx(Kt.div,{...r,ref:e}),o):null});fx.displayName=tk;function nk(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var ug=t=>{const{present:e,children:n}=t,r=rk(e),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),s=Dn(r.ref,ik(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:s}):null};ug.displayName="Presence";function rk(t){const[e,n]=P.useState(),r=P.useRef({}),i=P.useRef(t),s=P.useRef("none"),o=t?"mounted":"unmounted",[a,l]=nk(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const c=Du(r.current);s.current=a==="mounted"?c:"none"},[a]),us(()=>{const c=r.current,h=i.current;if(h!==t){const d=s.current,m=Du(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&d!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),us(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=m=>{const w=Du(r.current).includes(m.animationName);if(m.target===e&&w&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},d=m=>{m.target===e&&(s.current=Du(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Du(t){return(t==null?void 0:t.animationName)||"none"}function ik(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function sk({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=ok({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=tr(n),l=P.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function ok({defaultProp:t,onChange:e}){const n=P.useState(t),[r]=n,i=P.useRef(r),s=tr(e);return P.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var ak="VisuallyHidden",Ih=P.forwardRef((t,e)=>K.jsx(Kt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ih.displayName=ak;var lk=Ih,cg="ToastProvider",[hg,uk,ck]=zb("Toast"),[px,HB]=lx("Toast",[ck]),[hk,bh]=px(cg),mx=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=P.useState(null),[c,h]=P.useState(0),f=P.useRef(!1),d=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${cg}\`. Expected non-empty \`string\`.`),K.jsx(hg.Provider,{scope:e,children:K.jsx(hk,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:P.useCallback(()=>h(m=>m+1),[]),onToastRemove:P.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:o})})};mx.displayName=cg;var gx="ToastViewport",dk=["F8"],mp="toast.viewportPause",gp="toast.viewportResume",yx=P.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=dk,label:i="Notifications ({hotkey})",...s}=t,o=bh(gx,n),a=uk(n),l=P.useRef(null),c=P.useRef(null),h=P.useRef(null),f=P.useRef(null),d=Dn(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;P.useEffect(()=>{const E=y=>{var x;r.length!==0&&r.every(b=>y[b]||y.code===b)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),P.useEffect(()=>{const E=l.current,y=f.current;if(_&&E&&y){const v=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(mp);y.dispatchEvent(M),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(gp);y.dispatchEvent(M),o.isClosePausedRef.current=!1}},b=M=>{!E.contains(M.relatedTarget)&&x()},k=()=>{E.contains(document.activeElement)||x()};return E.addEventListener("focusin",v),E.addEventListener("focusout",b),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",k),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",b),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",k),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[_,o.isClosePausedRef]);const w=P.useCallback(({tabbingDirection:E})=>{const v=a().map(x=>{const b=x.ref.current,k=[b,...Ck(b)];return E==="forwards"?k:k.reverse()});return(E==="forwards"?v.reverse():v).flat()},[a]);return P.useEffect(()=>{const E=f.current;if(E){const y=v=>{var k,M,C;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const T=document.activeElement,A=v.shiftKey;if(v.target===E&&A){(k=c.current)==null||k.focus();return}const V=w({tabbingDirection:A?"backwards":"forwards"}),I=V.findIndex(z=>z===T);qd(V.slice(I+1))?v.preventDefault():A?(M=c.current)==null||M.focus():(C=h.current)==null||C.focus()}};return E.addEventListener("keydown",y),()=>E.removeEventListener("keydown",y)}},[a,w]),K.jsxs(ek,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&K.jsx(yp,{ref:c,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"forwards"});qd(E)}}),K.jsx(hg.Slot,{scope:n,children:K.jsx(Kt.ol,{tabIndex:-1,...s,ref:d})}),_&&K.jsx(yp,{ref:h,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"backwards"});qd(E)}})]})});yx.displayName=gx;var vx="ToastFocusProxy",yp=P.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=bh(vx,n);return K.jsx(Ih,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});yp.displayName=vx;var kh="Toast",fk="toast.swipeStart",pk="toast.swipeMove",mk="toast.swipeCancel",gk="toast.swipeEnd",wx=P.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=sk({prop:r,defaultProp:i,onChange:s});return K.jsx(ug,{present:n||a,children:K.jsx(wk,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:tr(t.onPause),onResume:tr(t.onResume),onSwipeStart:et(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:et(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:et(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:et(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});wx.displayName=kh;var[yk,vk]=px(kh,{onClose(){}}),wk=P.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:m,..._}=t,w=bh(kh,n),[E,y]=P.useState(null),v=Dn(e,z=>y(z)),x=P.useRef(null),b=P.useRef(null),k=i||w.duration,M=P.useRef(0),C=P.useRef(k),T=P.useRef(0),{onToastAdd:A,onToastRemove:R}=w,D=tr(()=>{var ae;(E==null?void 0:E.contains(document.activeElement))&&((ae=w.viewport)==null||ae.focus()),o()}),V=P.useCallback(z=>{!z||z===1/0||(window.clearTimeout(T.current),M.current=new Date().getTime(),T.current=window.setTimeout(D,z))},[D]);P.useEffect(()=>{const z=w.viewport;if(z){const ae=()=>{V(C.current),c==null||c()},ne=()=>{const Y=new Date().getTime()-M.current;C.current=C.current-Y,window.clearTimeout(T.current),l==null||l()};return z.addEventListener(mp,ne),z.addEventListener(gp,ae),()=>{z.removeEventListener(mp,ne),z.removeEventListener(gp,ae)}}},[w.viewport,k,l,c,V]),P.useEffect(()=>{s&&!w.isClosePausedRef.current&&V(k)},[s,k,w.isClosePausedRef,V]),P.useEffect(()=>(A(),()=>R()),[A,R]);const I=P.useMemo(()=>E?Px(E):null,[E]);return w.viewport?K.jsxs(K.Fragment,{children:[I&&K.jsx(_k,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),K.jsx(yk,{scope:n,onClose:D,children:jl.createPortal(K.jsx(hg.ItemSlot,{scope:n,children:K.jsx(Zb,{asChild:!0,onEscapeKeyDown:et(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||D(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:K.jsx(Kt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,..._,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:et(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:et(t.onPointerDown,z=>{z.button===0&&(x.current={x:z.clientX,y:z.clientY})}),onPointerMove:et(t.onPointerMove,z=>{if(!x.current)return;const ae=z.clientX-x.current.x,ne=z.clientY-x.current.y,Y=!!b.current,O=["left","right"].includes(w.swipeDirection),$=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,X=O?$(0,ae):0,G=O?0:$(0,ne),J=z.pointerType==="touch"?10:2,ee={x:X,y:G},Ae={originalEvent:z,delta:ee};Y?(b.current=ee,Vu(pk,f,Ae,{discrete:!1})):B0(ee,w.swipeDirection,J)?(b.current=ee,Vu(fk,h,Ae,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(ae)>J||Math.abs(ne)>J)&&(x.current=null)}),onPointerUp:et(t.onPointerUp,z=>{const ae=b.current,ne=z.target;if(ne.hasPointerCapture(z.pointerId)&&ne.releasePointerCapture(z.pointerId),b.current=null,x.current=null,ae){const Y=z.currentTarget,O={originalEvent:z,delta:ae};B0(ae,w.swipeDirection,w.swipeThreshold)?Vu(gk,m,O,{discrete:!0}):Vu(mk,d,O,{discrete:!0}),Y.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),_k=t=>{const{__scopeToast:e,children:n,...r}=t,i=bh(kh,e),[s,o]=P.useState(!1),[a,l]=P.useState(!1);return xk(()=>o(!0)),P.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:K.jsx(fx,{asChild:!0,children:K.jsx(Ih,{...r,children:s&&K.jsxs(K.Fragment,{children:[i.label," ",n]})})})},Ek="ToastTitle",_x=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return K.jsx(Kt.div,{...r,ref:e})});_x.displayName=Ek;var Tk="ToastDescription",Ex=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return K.jsx(Kt.div,{...r,ref:e})});Ex.displayName=Tk;var Tx="ToastAction",xx=P.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?K.jsx(Cx,{altText:n,asChild:!0,children:K.jsx(dg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Tx}\`. Expected non-empty \`string\`.`),null)});xx.displayName=Tx;var Sx="ToastClose",dg=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=vk(Sx,n);return K.jsx(Cx,{asChild:!0,children:K.jsx(Kt.button,{type:"button",...r,ref:e,onClick:et(t.onClick,i.onClose)})})});dg.displayName=Sx;var Cx=P.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return K.jsx(Kt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Px(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Sk(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Px(r))}}),e}function Vu(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ux(i,s):i.dispatchEvent(s)}var B0=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function xk(t=()=>{}){const e=tr(t);us(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function Sk(t){return t.nodeType===t.ELEMENT_NODE}function Ck(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qd(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var WB=mx,KB=yx,qB=wx,GB=_x,QB=Ex,XB=xx,YB=dg;function Ax(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ax(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ax(t))&&(r&&(r+=" "),r+=e);return r}const U0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,$0=Pk,JB=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return $0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const h=n==null?void 0:n[c],f=s==null?void 0:s[c];if(h===null)return null;const d=U0(h)||U0(f);return i[c][d]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,d]=h;return d===void 0||(c[f]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:d,...m}=h;return Object.entries(m).every(_=>{let[w,E]=_;return Array.isArray(E)?E.includes({...s,...a}[w]):{...s,...a}[w]===E})?[...c,f,d]:c},[]);return $0(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>P.createElement("svg",{ref:l,...Rk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Rx("lucide",i),...a},[...o.map(([c,h])=>P.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=(t,e)=>{const n=P.forwardRef(({className:r,...i},s)=>P.createElement(Ik,{ref:s,iconNode:e,className:Rx(`lucide-${Ak(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=Nn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=Nn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=Nn("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Nn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=Nn("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Nn("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Nn("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=Nn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=Nn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=Nn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=Nn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fg="-",bk=t=>{const e=Dk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(fg);return a[0]===""&&a.length!==1&&a.shift(),Ix(a,e)||kk(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Ix=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Ix(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(fg);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},z0=/^\[(.+)\]$/,kk=t=>{if(z0.test(t)){const e=z0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Dk=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Mk(Object.entries(t.classGroups),n).forEach(([s,o])=>{vp(o,r,s,e)}),r},vp=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:H0(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Vk(i)){vp(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{vp(o,H0(e,s),n,r)})})},H0=(t,e)=>{let n=t;return e.split(fg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Vk=t=>t.isThemeGetter,Mk=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,Nk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},bx="!",Ok=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,h=0,f;for(let E=0;E<a.length;E++){let y=a[E];if(c===0){if(y===i&&(r||a.slice(E,E+s)===e)){l.push(a.slice(h,E)),h=E+s;continue}if(y==="/"){f=E;continue}}y==="["?c++:y==="]"&&c--}const d=l.length===0?a:a.substring(h),m=d.startsWith(bx),_=m?d.substring(1):d,w=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:_,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},Lk=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Fk=t=>({cache:Nk(t.cacheSize),parseClassName:Ok(t),...bk(t)}),jk=/\s+/,Bk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(jk);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:m}=n(c);let _=!!m,w=r(_?d.substring(0,m):d);if(!w){if(!_){a=c+(a.length>0?" "+a:a);continue}if(w=r(d),!w){a=c+(a.length>0?" "+a:a);continue}_=!1}const E=Lk(h).join(":"),y=f?E+bx:E,v=y+w;if(s.includes(v))continue;s.push(v);const x=i(w,_);for(let b=0;b<x.length;++b){const k=x[b];s.push(y+k)}a=c+(a.length>0?" "+a:a)}return a};function Uk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=kx(e))&&(r&&(r+=" "),r+=n);return r}const kx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=kx(t[r]))&&(n&&(n+=" "),n+=e);return n};function $k(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((h,f)=>f(h),t());return n=Fk(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=Bk(l,n);return i(l,h),h}return function(){return s(Uk.apply(null,arguments))}}const Ie=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Dx=/^\[(?:([a-z-]+):)?(.+)\]$/i,zk=/^\d+\/\d+$/,Hk=new Set(["px","full","screen"]),Wk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Kk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Gk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dr=t=>eo(t)||Hk.has(t)||zk.test(t),Br=t=>Lo(t,"length",rD),eo=t=>!!t&&!Number.isNaN(Number(t)),Gd=t=>Lo(t,"number",eo),wa=t=>!!t&&Number.isInteger(Number(t)),Xk=t=>t.endsWith("%")&&eo(t.slice(0,-1)),ue=t=>Dx.test(t),Ur=t=>Wk.test(t),Yk=new Set(["length","size","percentage"]),Jk=t=>Lo(t,Yk,Vx),Zk=t=>Lo(t,"position",Vx),eD=new Set(["image","url"]),tD=t=>Lo(t,eD,sD),nD=t=>Lo(t,"",iD),_a=()=>!0,Lo=(t,e,n)=>{const r=Dx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},rD=t=>Kk.test(t)&&!qk.test(t),Vx=()=>!1,iD=t=>Gk.test(t),sD=t=>Qk.test(t),oD=()=>{const t=Ie("colors"),e=Ie("spacing"),n=Ie("blur"),r=Ie("brightness"),i=Ie("borderColor"),s=Ie("borderRadius"),o=Ie("borderSpacing"),a=Ie("borderWidth"),l=Ie("contrast"),c=Ie("grayscale"),h=Ie("hueRotate"),f=Ie("invert"),d=Ie("gap"),m=Ie("gradientColorStops"),_=Ie("gradientColorStopPositions"),w=Ie("inset"),E=Ie("margin"),y=Ie("opacity"),v=Ie("padding"),x=Ie("saturate"),b=Ie("scale"),k=Ie("sepia"),M=Ie("skew"),C=Ie("space"),T=Ie("translate"),A=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ue,e],V=()=>[ue,e],I=()=>["",dr,Br],z=()=>["auto",eo,ue],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",ue],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[eo,ue];return{cacheSize:500,separator:":",theme:{colors:[_a],spacing:[dr,Br],blur:["none","",Ur,ue],brightness:G(),borderColor:[t],borderRadius:["none","","full",Ur,ue],borderSpacing:V(),borderWidth:I(),contrast:G(),grayscale:$(),hueRotate:G(),invert:$(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[Xk,Br],inset:D(),margin:D(),opacity:G(),padding:V(),saturate:G(),scale:G(),sepia:$(),skew:G(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Ur]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),ue]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wa,ue]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",wa,ue]}],"grid-cols":[{"grid-cols":[_a]}],"col-start-end":[{col:["auto",{span:["full",wa,ue]},ue]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[_a]}],"row-start-end":[{row:["auto",{span:[wa,ue]},ue]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Ur]},Ur]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ur,Br]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gd]}],"font-family":[{font:[_a]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",eo,Gd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dr,Br]}],"underline-offset":[{"underline-offset":["auto",dr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),Zk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},tD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[dr,ue]}],"outline-w":[{outline:[dr,Br]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[dr,Br]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ur,nD]}],"shadow-color":[{shadow:[_a]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ur,ue]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[wa,ue]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[dr,Br,Gd]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cU=$k(oD);var W0=["light","dark"],aD="(prefers-color-scheme: dark)",lD=P.createContext(void 0),uD={setTheme:t=>{},themes:[]},hU=()=>{var t;return(t=P.useContext(lD))!=null?t:uD};P.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(_=>`'${_}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?W0.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(_,w=!1,E=!0)=>{let y=o?o[_]:_,v=w?_+"|| ''":`'${y}'`,x="";return i&&E&&!w&&W0.includes(_)&&(x+=`d.style.colorScheme = '${_}';`),n==="class"?w||y?x+=`c.add(${v})`:x+="null":y&&(x+=`d[s](n,${v})`),x},m=t?`!function(){${h}${d(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${aD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${c?"":"else{"+d(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(s,!1,!1)};}${f}}catch(t){}}();`;return P.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var cD=t=>{switch(t){case"success":return fD;case"info":return mD;case"warning":return pD;case"error":return gD;default:return null}},hD=Array(12).fill(0),dD=({visible:t})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},W.createElement("div",{className:"sonner-spinner"},hD.map((e,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),fD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),yD=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},wp=1,vD=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:wp++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(_D(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||wp++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},Xt=new vD,wD=(t,e)=>{let n=(e==null?void 0:e.id)||wp++;return Xt.addToast({title:t,...e,id:n}),n},_D=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ED=wD,TD=()=>Xt.toasts;Object.assign(ED,{success:Xt.success,info:Xt.info,warning:Xt.warning,error:Xt.error,custom:Xt.custom,message:Xt.message,promise:Xt.promise,dismiss:Xt.dismiss,loading:Xt.loading},{getHistory:TD});function xD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}xD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mu(t){return t.label!==void 0}var SD=3,CD="32px",PD=4e3,AD=356,RD=14,ID=20,bD=200;function kD(...t){return t.filter(Boolean).join(" ")}var DD=t=>{var e,n,r,i,s,o,a,l,c,h;let{invert:f,toast:d,unstyled:m,interacting:_,setHeights:w,visibleToasts:E,heights:y,index:v,toasts:x,expanded:b,removeToast:k,defaultRichColors:M,closeButton:C,style:T,cancelButtonStyle:A,actionButtonStyle:R,className:D="",descriptionClassName:V="",duration:I,position:z,gap:ae,loadingIcon:ne,expandByDefault:Y,classNames:O,icons:$,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:G,cn:J}=t,[ee,Ae]=W.useState(!1),[Je,ve]=W.useState(!1),[gt,On]=W.useState(!1),[Ln,qt]=W.useState(!1),[or,Fn]=W.useState(0),[vn,ar]=W.useState(0),Dr=W.useRef(null),wn=W.useRef(null),Go=v===0,Qo=v+1<=E,qe=d.type,jn=d.dismissible!==!1,Yl=d.className||"",sd=d.descriptionClassName||"",Vr=W.useMemo(()=>y.findIndex(se=>se.toastId===d.id)||0,[y,d.id]),Xo=W.useMemo(()=>{var se;return(se=d.closeButton)!=null?se:C},[d.closeButton,C]),Yo=W.useMemo(()=>d.duration||I||PD,[d.duration,I]),Ge=W.useRef(0),je=W.useRef(0),Oi=W.useRef(0),lr=W.useRef(null),[Jo,od]=z.split("-"),Mr=W.useMemo(()=>y.reduce((se,xe,Ee)=>Ee>=Vr?se:se+xe.height,0),[y,Vr]),Zo=yD(),Jl=d.invert||f,Li=qe==="loading";je.current=W.useMemo(()=>Vr*ae+Mr,[Vr,Mr]),W.useEffect(()=>{Ae(!0)},[]),W.useLayoutEffect(()=>{if(!ee)return;let se=wn.current,xe=se.style.height;se.style.height="auto";let Ee=se.getBoundingClientRect().height;se.style.height=xe,ar(Ee),w(yt=>yt.find(jt=>jt.toastId===d.id)?yt.map(jt=>jt.toastId===d.id?{...jt,height:Ee}:jt):[{toastId:d.id,height:Ee,position:d.position},...yt])},[ee,d.title,d.description,w,d.id]);let Bn=W.useCallback(()=>{ve(!0),Fn(je.current),w(se=>se.filter(xe=>xe.toastId!==d.id)),setTimeout(()=>{k(d)},bD)},[d,k,w,je]);W.useEffect(()=>{if(d.promise&&qe==="loading"||d.duration===1/0||d.type==="loading")return;let se,xe=Yo;return b||_||G&&Zo?(()=>{if(Oi.current<Ge.current){let Ee=new Date().getTime()-Ge.current;xe=xe-Ee}Oi.current=new Date().getTime()})():xe!==1/0&&(Ge.current=new Date().getTime(),se=setTimeout(()=>{var Ee;(Ee=d.onAutoClose)==null||Ee.call(d,d),Bn()},xe)),()=>clearTimeout(se)},[b,_,Y,d,Yo,Bn,d.promise,qe,G,Zo]),W.useEffect(()=>{let se=wn.current;if(se){let xe=se.getBoundingClientRect().height;return ar(xe),w(Ee=>[{toastId:d.id,height:xe,position:d.position},...Ee]),()=>w(Ee=>Ee.filter(yt=>yt.toastId!==d.id))}},[w,d.id]),W.useEffect(()=>{d.delete&&Bn()},[Bn,d.delete]);function ad(){return $!=null&&$.loading?W.createElement("div",{className:"sonner-loader","data-visible":qe==="loading"},$.loading):ne?W.createElement("div",{className:"sonner-loader","data-visible":qe==="loading"},ne):W.createElement(dD,{visible:qe==="loading"})}return W.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:wn,className:J(D,Yl,O==null?void 0:O.toast,(e=d==null?void 0:d.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[qe],(n=d==null?void 0:d.classNames)==null?void 0:n[qe]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:M,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":ee,"data-promise":!!d.promise,"data-removed":Je,"data-visible":Qo,"data-y-position":Jo,"data-x-position":od,"data-index":v,"data-front":Go,"data-swiping":gt,"data-dismissible":jn,"data-type":qe,"data-invert":Jl,"data-swipe-out":Ln,"data-expanded":!!(b||Y&&ee),style:{"--index":v,"--toasts-before":v,"--z-index":x.length-v,"--offset":`${Je?or:je.current}px`,"--initial-height":Y?"auto":`${vn}px`,...T,...d.style},onPointerDown:se=>{Li||!jn||(Dr.current=new Date,Fn(je.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(On(!0),lr.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,xe,Ee,yt;if(Ln||!jn)return;lr.current=null;let jt=Number(((se=wn.current)==null?void 0:se.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Nr=new Date().getTime()-((xe=Dr.current)==null?void 0:xe.getTime()),ur=Math.abs(jt)/Nr;if(Math.abs(jt)>=ID||ur>.11){Fn(je.current),(Ee=d.onDismiss)==null||Ee.call(d,d),Bn(),qt(!0);return}(yt=wn.current)==null||yt.style.setProperty("--swipe-amount","0px"),On(!1)},onPointerMove:se=>{var xe;if(!lr.current||!jn)return;let Ee=se.clientY-lr.current.y,yt=se.clientX-lr.current.x,jt=(Jo==="top"?Math.min:Math.max)(0,Ee),Nr=se.pointerType==="touch"?10:2;Math.abs(jt)>Nr?(xe=wn.current)==null||xe.style.setProperty("--swipe-amount",`${Ee}px`):Math.abs(yt)>Nr&&(lr.current=null)}},Xo&&!d.jsx?W.createElement("button",{"aria-label":X,"data-disabled":Li,"data-close-button":!0,onClick:Li||!jn?()=>{}:()=>{var se;Bn(),(se=d.onDismiss)==null||se.call(d,d)},className:J(O==null?void 0:O.closeButton,(i=d==null?void 0:d.classNames)==null?void 0:i.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||W.isValidElement(d.title)?d.jsx||d.title:W.createElement(W.Fragment,null,qe||d.icon||d.promise?W.createElement("div",{"data-icon":"",className:J(O==null?void 0:O.icon,(s=d==null?void 0:d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||ad():null,d.type!=="loading"?d.icon||($==null?void 0:$[qe])||cD(qe):null):null,W.createElement("div",{"data-content":"",className:J(O==null?void 0:O.content,(o=d==null?void 0:d.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:J(O==null?void 0:O.title,(a=d==null?void 0:d.classNames)==null?void 0:a.title)},d.title),d.description?W.createElement("div",{"data-description":"",className:J(V,sd,O==null?void 0:O.description,(l=d==null?void 0:d.classNames)==null?void 0:l.description)},d.description):null),W.isValidElement(d.cancel)?d.cancel:d.cancel&&Mu(d.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||A,onClick:se=>{var xe,Ee;Mu(d.cancel)&&jn&&((Ee=(xe=d.cancel).onClick)==null||Ee.call(xe,se),Bn())},className:J(O==null?void 0:O.cancelButton,(c=d==null?void 0:d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,W.isValidElement(d.action)?d.action:d.action&&Mu(d.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||R,onClick:se=>{var xe,Ee;Mu(d.action)&&(se.defaultPrevented||((Ee=(xe=d.action).onClick)==null||Ee.call(xe,se),Bn()))},className:J(O==null?void 0:O.actionButton,(h=d==null?void 0:d.classNames)==null?void 0:h.actionButton)},d.action.label):null))};function K0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var dU=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:h,style:f,visibleToasts:d=SD,toastOptions:m,dir:_=K0(),gap:w=RD,loadingIcon:E,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:x,cn:b=kD}=t,[k,M]=W.useState([]),C=W.useMemo(()=>Array.from(new Set([n].concat(k.filter(G=>G.position).map(G=>G.position)))),[k,n]),[T,A]=W.useState([]),[R,D]=W.useState(!1),[V,I]=W.useState(!1),[z,ae]=W.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=W.useRef(null),Y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=W.useRef(null),$=W.useRef(!1),X=W.useCallback(G=>{var J;(J=k.find(ee=>ee.id===G.id))!=null&&J.delete||Xt.dismiss(G.id),M(ee=>ee.filter(({id:Ae})=>Ae!==G.id))},[k]);return W.useEffect(()=>Xt.subscribe(G=>{if(G.dismiss){M(J=>J.map(ee=>ee.id===G.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{sx.flushSync(()=>{M(J=>{let ee=J.findIndex(Ae=>Ae.id===G.id);return ee!==-1?[...J.slice(0,ee),{...J[ee],...G},...J.slice(ee+1)]:[G,...J]})})})}),[]),W.useEffect(()=>{if(l!=="system"){ae(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ae("dark"):ae("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{ae(G?"dark":"light")})},[l]),W.useEffect(()=>{k.length<=1&&D(!1)},[k]),W.useEffect(()=>{let G=J=>{var ee,Ae;r.every(Je=>J[Je]||J.code===Je)&&(D(!0),(ee=ne.current)==null||ee.focus()),J.code==="Escape"&&(document.activeElement===ne.current||(Ae=ne.current)!=null&&Ae.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[r]),W.useEffect(()=>{if(ne.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,$.current=!1)}},[ne.current]),k.length?W.createElement("section",{"aria-label":`${v} ${Y}`,tabIndex:-1},C.map((G,J)=>{var ee;let[Ae,Je]=G.split("-");return W.createElement("ol",{key:G,dir:_==="auto"?K0():_,tabIndex:-1,ref:ne,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":Ae,"data-x-position":Je,style:{"--front-toast-height":`${((ee=T[0])==null?void 0:ee.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||CD,"--width":`${AD}px`,"--gap":`${w}px`,...f},onBlur:ve=>{$.current&&!ve.currentTarget.contains(ve.relatedTarget)&&($.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||$.current||($.current=!0,O.current=ve.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{V||D(!1)},onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},k.filter(ve=>!ve.position&&J===0||ve.position===G).map((ve,gt)=>{var On,Ln;return W.createElement(DD,{key:ve.id,icons:y,index:gt,toast:ve,defaultRichColors:c,duration:(On=m==null?void 0:m.duration)!=null?On:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:e,visibleToasts:d,closeButton:(Ln=m==null?void 0:m.closeButton)!=null?Ln:s,interacting:V,position:G,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:X,toasts:k.filter(qt=>qt.position==ve.position),heights:T.filter(qt=>qt.position==ve.position),setHeights:A,expandByDefault:i,gap:w,loadingIcon:E,expanded:R,pauseWhenPageIsHidden:x,cn:b})}))})):null};const VD=["top","right","bottom","left"],wi=Math.min,Jt=Math.max,Fc=Math.round,Nu=Math.floor,_i=t=>({x:t,y:t}),MD={left:"right",right:"left",bottom:"top",top:"bottom"},ND={start:"end",end:"start"};function _p(t,e,n){return Jt(t,wi(e,n))}function Cr(t,e){return typeof t=="function"?t(e):t}function Pr(t){return t.split("-")[0]}function Fo(t){return t.split("-")[1]}function pg(t){return t==="x"?"y":"x"}function mg(t){return t==="y"?"height":"width"}function Ei(t){return["top","bottom"].includes(Pr(t))?"y":"x"}function gg(t){return pg(Ei(t))}function OD(t,e,n){n===void 0&&(n=!1);const r=Fo(t),i=gg(t),s=mg(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=jc(o)),[o,jc(o)]}function LD(t){const e=jc(t);return[Ep(t),e,Ep(e)]}function Ep(t){return t.replace(/start|end/g,e=>ND[e])}function FD(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function jD(t,e,n,r){const i=Fo(t);let s=FD(Pr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Ep)))),s}function jc(t){return t.replace(/left|right|bottom|top/g,e=>MD[e])}function BD(t){return{top:0,right:0,bottom:0,left:0,...t}}function Mx(t){return typeof t!="number"?BD(t):{top:t,right:t,bottom:t,left:t}}function Bc(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function q0(t,e,n){let{reference:r,floating:i}=t;const s=Ei(e),o=gg(e),a=mg(o),l=Pr(e),c=s==="y",h=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:h,y:r.y-i.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Fo(e)){case"start":m[o]-=d*(n&&c?-1:1);break;case"end":m[o]+=d*(n&&c?-1:1);break}return m}const UD=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=q0(c,r,l),d=r,m={},_=0;for(let w=0;w<a.length;w++){const{name:E,fn:y}=a[w],{x:v,y:x,data:b,reset:k}=await y({x:h,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});h=v??h,f=x??f,m={...m,[E]:{...m[E],...b}},k&&_<=50&&(_++,typeof k=="object"&&(k.placement&&(d=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:h,y:f}=q0(c,d,l)),w=-1)}return{x:h,y:f,placement:d,strategy:i,middlewareData:m}};async function cl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:d=!1,padding:m=0}=Cr(e,t),_=Mx(m),E=a[d?f==="floating"?"reference":"floating":f],y=Bc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),v=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},k=Bc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(y.top-k.top+_.top)/b.y,bottom:(k.bottom-y.bottom+_.bottom)/b.y,left:(y.left-k.left+_.left)/b.x,right:(k.right-y.right+_.right)/b.x}}const $D=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=Cr(t,e)||{};if(c==null)return{};const f=Mx(h),d={x:n,y:r},m=gg(i),_=mg(m),w=await o.getDimensions(c),E=m==="y",y=E?"top":"left",v=E?"bottom":"right",x=E?"clientHeight":"clientWidth",b=s.reference[_]+s.reference[m]-d[m]-s.floating[_],k=d[m]-s.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=M?M[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=a.floating[x]||s.floating[_]);const T=b/2-k/2,A=C/2-w[_]/2-1,R=wi(f[y],A),D=wi(f[v],A),V=R,I=C-w[_]-D,z=C/2-w[_]/2+T,ae=_p(V,z,I),ne=!l.arrow&&Fo(i)!=null&&z!==ae&&s.reference[_]/2-(z<V?R:D)-w[_]/2<0,Y=ne?z<V?z-V:z-I:0;return{[m]:d[m]+Y,data:{[m]:ae,centerOffset:z-ae-Y,...ne&&{alignmentOffset:Y}},reset:ne}}}),zD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:w=!0,...E}=Cr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Pr(i),v=Ei(a),x=Pr(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=d||(x||!w?[jc(a)]:LD(a)),M=_!=="none";!d&&M&&k.push(...jD(a,w,_,b));const C=[a,...k],T=await cl(e,E),A=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&A.push(T[y]),f){const z=OD(i,o,b);A.push(T[z[0]],T[z[1]])}if(R=[...R,{placement:i,overflows:A}],!A.every(z=>z<=0)){var D,V;const z=(((D=s.flip)==null?void 0:D.index)||0)+1,ae=C[z];if(ae)return{data:{index:z,overflows:R},reset:{placement:ae}};let ne=(V=R.filter(Y=>Y.overflows[0]<=0).sort((Y,O)=>Y.overflows[1]-O.overflows[1])[0])==null?void 0:V.placement;if(!ne)switch(m){case"bestFit":{var I;const Y=(I=R.filter(O=>{if(M){const $=Ei(O.placement);return $===v||$==="y"}return!0}).map(O=>[O.placement,O.overflows.filter($=>$>0).reduce(($,X)=>$+X,0)]).sort((O,$)=>O[1]-$[1])[0])==null?void 0:I[0];Y&&(ne=Y);break}case"initialPlacement":ne=a;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function G0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Q0(t){return VD.some(e=>t[e]>=0)}const HD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Cr(t,e);switch(r){case"referenceHidden":{const s=await cl(e,{...i,elementContext:"reference"}),o=G0(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Q0(o)}}}case"escaped":{const s=await cl(e,{...i,altBoundary:!0}),o=G0(s,n.floating);return{data:{escapedOffsets:o,escaped:Q0(o)}}}default:return{}}}}};async function WD(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Pr(n),a=Fo(n),l=Ei(n)==="y",c=["left","top"].includes(o)?-1:1,h=s&&l?-1:1,f=Cr(e,t);let{mainAxis:d,crossAxis:m,alignmentAxis:_}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof _=="number"&&(m=a==="end"?_*-1:_),l?{x:m*h,y:d*c}:{x:d*c,y:m*h}}const KD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await WD(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},qD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:y,y:v}=E;return{x:y,y:v}}},...l}=Cr(t,e),c={x:n,y:r},h=await cl(e,l),f=Ei(Pr(i)),d=pg(f);let m=c[d],_=c[f];if(s){const E=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=m+h[E],x=m-h[y];m=_p(v,m,x)}if(o){const E=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=_+h[E],x=_-h[y];_=_p(v,_,x)}const w=a.fn({...e,[d]:m,[f]:_});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[d]:s,[f]:o}}}}}},GD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Cr(t,e),h={x:n,y:r},f=Ei(i),d=pg(f);let m=h[d],_=h[f];const w=Cr(a,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(l){const x=d==="y"?"height":"width",b=s.reference[d]-s.floating[x]+E.mainAxis,k=s.reference[d]+s.reference[x]-E.mainAxis;m<b?m=b:m>k&&(m=k)}if(c){var y,v;const x=d==="y"?"width":"height",b=["top","left"].includes(Pr(i)),k=s.reference[f]-s.floating[x]+(b&&((y=o.offset)==null?void 0:y[f])||0)+(b?0:E.crossAxis),M=s.reference[f]+s.reference[x]+(b?0:((v=o.offset)==null?void 0:v[f])||0)-(b?E.crossAxis:0);_<k?_=k:_>M&&(_=M)}return{[d]:m,[f]:_}}}},QD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Cr(t,e),h=await cl(e,c),f=Pr(i),d=Fo(i),m=Ei(i)==="y",{width:_,height:w}=s.floating;let E,y;f==="top"||f==="bottom"?(E=f,y=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,E=d==="end"?"top":"bottom");const v=w-h.top-h.bottom,x=_-h.left-h.right,b=wi(w-h[E],v),k=wi(_-h[y],x),M=!e.middlewareData.shift;let C=b,T=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),M&&!d){const R=Jt(h.left,0),D=Jt(h.right,0),V=Jt(h.top,0),I=Jt(h.bottom,0);m?T=_-2*(R!==0||D!==0?R+D:Jt(h.left,h.right)):C=w-2*(V!==0||I!==0?V+I:Jt(h.top,h.bottom))}await l({...e,availableWidth:T,availableHeight:C});const A=await o.getDimensions(a.floating);return _!==A.width||w!==A.height?{reset:{rects:!0}}:{}}}};function Dh(){return typeof window<"u"}function jo(t){return Nx(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function sr(t){var e;return(e=(Nx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Nx(t){return Dh()?t instanceof Node||t instanceof tn(t).Node:!1}function Vn(t){return Dh()?t instanceof Element||t instanceof tn(t).Element:!1}function nr(t){return Dh()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function X0(t){return!Dh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}function Bl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Mn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function XD(t){return["table","td","th"].includes(jo(t))}function Vh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function yg(t){const e=vg(),n=Vn(t)?Mn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function YD(t){let e=Ti(t);for(;nr(e)&&!Eo(e);){if(yg(e))return e;if(Vh(e))return null;e=Ti(e)}return null}function vg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Eo(t){return["html","body","#document"].includes(jo(t))}function Mn(t){return tn(t).getComputedStyle(t)}function Mh(t){return Vn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ti(t){if(jo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||X0(t)&&t.host||sr(t);return X0(e)?e.host:e}function Ox(t){const e=Ti(t);return Eo(e)?t.ownerDocument?t.ownerDocument.body:t.body:nr(e)&&Bl(e)?e:Ox(e)}function hl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ox(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=tn(i);if(s){const a=Tp(o);return e.concat(o,o.visualViewport||[],Bl(i)?i:[],a&&n?hl(a):[])}return e.concat(i,hl(i,[],n))}function Tp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Lx(t){const e=Mn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=nr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Fc(n)!==s||Fc(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function wg(t){return Vn(t)?t:t.contextElement}function to(t){const e=wg(t);if(!nr(e))return _i(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Lx(e);let o=(s?Fc(n.width):n.width)/r,a=(s?Fc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const JD=_i(0);function Fx(t){const e=tn(t);return!vg()||!e.visualViewport?JD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==tn(t)?!1:e}function cs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=wg(t);let o=_i(1);e&&(r?Vn(r)&&(o=to(r)):o=to(t));const a=ZD(s,n,r)?Fx(s):_i(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,h=i.width/o.x,f=i.height/o.y;if(s){const d=tn(s),m=r&&Vn(r)?tn(r):r;let _=d,w=Tp(_);for(;w&&r&&m!==_;){const E=to(w),y=w.getBoundingClientRect(),v=Mn(w),x=y.left+(w.clientLeft+parseFloat(v.paddingLeft))*E.x,b=y.top+(w.clientTop+parseFloat(v.paddingTop))*E.y;l*=E.x,c*=E.y,h*=E.x,f*=E.y,l+=x,c+=b,_=tn(w),w=Tp(_)}}return Bc({width:h,height:f,x:l,y:c})}function eV(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=sr(r),a=e?Vh(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=_i(1);const h=_i(0),f=nr(r);if((f||!f&&!s)&&((jo(r)!=="body"||Bl(o))&&(l=Mh(r)),nr(r))){const d=cs(r);c=to(r),h.x=d.x+r.clientLeft,h.y=d.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x,y:n.y*c.y-l.scrollTop*c.y+h.y}}function tV(t){return Array.from(t.getClientRects())}function xp(t,e){const n=Mh(t).scrollLeft;return e?e.left+n:cs(sr(t)).left+n}function nV(t){const e=sr(t),n=Mh(t),r=t.ownerDocument.body,i=Jt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Jt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+xp(t);const a=-n.scrollTop;return Mn(r).direction==="rtl"&&(o+=Jt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function rV(t,e){const n=tn(t),r=sr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=vg();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function iV(t,e){const n=cs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=nr(t)?to(t):_i(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function Y0(t,e,n){let r;if(e==="viewport")r=rV(t,n);else if(e==="document")r=nV(sr(t));else if(Vn(e))r=iV(e,n);else{const i=Fx(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Bc(r)}function jx(t,e){const n=Ti(t);return n===e||!Vn(n)||Eo(n)?!1:Mn(n).position==="fixed"||jx(n,e)}function sV(t,e){const n=e.get(t);if(n)return n;let r=hl(t,[],!1).filter(a=>Vn(a)&&jo(a)!=="body"),i=null;const s=Mn(t).position==="fixed";let o=s?Ti(t):t;for(;Vn(o)&&!Eo(o);){const a=Mn(o),l=yg(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Bl(o)&&!l&&jx(t,o))?r=r.filter(h=>h!==o):i=a,o=Ti(o)}return e.set(t,r),r}function oV(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Vh(e)?[]:sV(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const f=Y0(e,h,i);return c.top=Jt(f.top,c.top),c.right=wi(f.right,c.right),c.bottom=wi(f.bottom,c.bottom),c.left=Jt(f.left,c.left),c},Y0(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function aV(t){const{width:e,height:n}=Lx(t);return{width:e,height:n}}function lV(t,e,n){const r=nr(e),i=sr(e),s=n==="fixed",o=cs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=_i(0);if(r||!r&&!s)if((jo(e)!=="body"||Bl(i))&&(a=Mh(e)),r){const m=cs(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=xp(i));let c=0,h=0;if(i&&!r&&!s){const m=i.getBoundingClientRect();h=m.top+a.scrollTop,c=m.left+a.scrollLeft-xp(i,m)}const f=o.left+a.scrollLeft-l.x-c,d=o.top+a.scrollTop-l.y-h;return{x:f,y:d,width:o.width,height:o.height}}function Qd(t){return Mn(t).position==="static"}function J0(t,e){if(!nr(t)||Mn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return sr(t)===n&&(n=n.ownerDocument.body),n}function Bx(t,e){const n=tn(t);if(Vh(t))return n;if(!nr(t)){let i=Ti(t);for(;i&&!Eo(i);){if(Vn(i)&&!Qd(i))return i;i=Ti(i)}return n}let r=J0(t,e);for(;r&&XD(r)&&Qd(r);)r=J0(r,e);return r&&Eo(r)&&Qd(r)&&!yg(r)?n:r||YD(t)||n}const uV=async function(t){const e=this.getOffsetParent||Bx,n=this.getDimensions,r=await n(t.floating);return{reference:lV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function cV(t){return Mn(t).direction==="rtl"}const hV={convertOffsetParentRelativeRectToViewportRelativeRect:eV,getDocumentElement:sr,getClippingRect:oV,getOffsetParent:Bx,getElementRects:uV,getClientRects:tV,getDimensions:aV,getScale:to,isElement:Vn,isRTL:cV};function dV(t,e){let n=null,r;const i=sr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:h,width:f,height:d}=t.getBoundingClientRect();if(a||e(),!f||!d)return;const m=Nu(h),_=Nu(i.clientWidth-(c+f)),w=Nu(i.clientHeight-(h+d)),E=Nu(c),v={rootMargin:-m+"px "+-_+"px "+-w+"px "+-E+"px",threshold:Jt(0,wi(1,l))||1};let x=!0;function b(k){const M=k[0].intersectionRatio;if(M!==l){if(!x)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(t)}return o(!0),s}function fV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=wg(t),h=i||s?[...c?hl(c):[],...hl(e)]:[];h.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const f=c&&a?dV(c,n):null;let d=-1,m=null;o&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let _,w=l?cs(t):null;l&&E();function E(){const y=cs(t);w&&(y.x!==w.x||y.y!==w.y||y.width!==w.width||y.height!==w.height)&&n(),w=y,_=requestAnimationFrame(E)}return n(),()=>{var y;h.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,l&&cancelAnimationFrame(_)}}const pV=KD,mV=qD,gV=zD,yV=QD,vV=HD,Z0=$D,wV=GD,_V=(t,e,n)=>{const r=new Map,i={platform:hV,...n},s={...i.platform,_c:r};return UD(t,e,{...i,platform:s})};var ic=typeof document<"u"?P.useLayoutEffect:P.useEffect;function Uc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Uc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Uc(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Ux(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ew(t,e){const n=Ux(t);return Math.round(e*n)/n}function Xd(t){const e=P.useRef(t);return ic(()=>{e.current=t}),e}function EV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,f]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,m]=P.useState(r);Uc(d,r)||m(r);const[_,w]=P.useState(null),[E,y]=P.useState(null),v=P.useCallback(O=>{O!==M.current&&(M.current=O,w(O))},[]),x=P.useCallback(O=>{O!==C.current&&(C.current=O,y(O))},[]),b=s||_,k=o||E,M=P.useRef(null),C=P.useRef(null),T=P.useRef(h),A=l!=null,R=Xd(l),D=Xd(i),V=Xd(c),I=P.useCallback(()=>{if(!M.current||!C.current)return;const O={placement:e,strategy:n,middleware:d};D.current&&(O.platform=D.current),_V(M.current,C.current,O).then($=>{const X={...$,isPositioned:V.current!==!1};z.current&&!Uc(T.current,X)&&(T.current=X,jl.flushSync(()=>{f(X)}))})},[d,e,n,D,V]);ic(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[c]);const z=P.useRef(!1);ic(()=>(z.current=!0,()=>{z.current=!1}),[]),ic(()=>{if(b&&(M.current=b),k&&(C.current=k),b&&k){if(R.current)return R.current(b,k,I);I()}},[b,k,I,R,A]);const ae=P.useMemo(()=>({reference:M,floating:C,setReference:v,setFloating:x}),[v,x]),ne=P.useMemo(()=>({reference:b,floating:k}),[b,k]),Y=P.useMemo(()=>{const O={position:n,left:0,top:0};if(!ne.floating)return O;const $=ew(ne.floating,h.x),X=ew(ne.floating,h.y);return a?{...O,transform:"translate("+$+"px, "+X+"px)",...Ux(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:X}},[n,a,ne.floating,h.x,h.y]);return P.useMemo(()=>({...h,update:I,refs:ae,elements:ne,floatingStyles:Y}),[h,I,ae,ne,Y])}const TV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Z0({element:r.current,padding:i}).fn(n):{}:r?Z0({element:r,padding:i}).fn(n):{}}}},xV=(t,e)=>({...pV(t),options:[t,e]}),SV=(t,e)=>({...mV(t),options:[t,e]}),CV=(t,e)=>({...wV(t),options:[t,e]}),PV=(t,e)=>({...gV(t),options:[t,e]}),AV=(t,e)=>({...yV(t),options:[t,e]}),RV=(t,e)=>({...vV(t),options:[t,e]}),IV=(t,e)=>({...TV(t),options:[t,e]});var bV="Arrow",$x=P.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return K.jsx(Kt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:K.jsx("polygon",{points:"0,0 30,0 15,10"})})});$x.displayName=bV;var kV=$x;function DV(t,e=[]){let n=[];function r(s,o){const a=P.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:d,children:m,..._}=f,w=(d==null?void 0:d[t][l])||a,E=P.useMemo(()=>_,Object.values(_));return K.jsx(w.Provider,{value:E,children:m})}function h(f,d){const m=(d==null?void 0:d[t][l])||a,_=P.useContext(m);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,h]}const i=()=>{const s=n.map(o=>P.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,VV(i,...e)]}function VV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function MV(t){const[e,n]=P.useState(void 0);return us(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var zx="Popper",[Hx,Wx]=DV(zx),[fU,Kx]=Hx(zx),qx="PopperAnchor",Gx=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Kx(qx,n),o=P.useRef(null),a=Dn(e,o);return P.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:K.jsx(Kt.div,{...i,ref:a})});Gx.displayName=qx;var _g="PopperContent",[NV,OV]=Hx(_g),Qx=P.forwardRef((t,e)=>{var gt,On,Ln,qt,or,Fn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:m="optimized",onPlaced:_,...w}=t,E=Kx(_g,n),[y,v]=P.useState(null),x=Dn(e,vn=>v(vn)),[b,k]=P.useState(null),M=MV(b),C=(M==null?void 0:M.width)??0,T=(M==null?void 0:M.height)??0,A=r+(s!=="center"?"-"+s:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(c)?c:[c],V=D.length>0,I={padding:R,boundary:D.filter(FV),altBoundary:V},{refs:z,floatingStyles:ae,placement:ne,isPositioned:Y,middlewareData:O}=EV({strategy:"fixed",placement:A,whileElementsMounted:(...vn)=>fV(...vn,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[xV({mainAxis:i+T,alignmentAxis:o}),l&&SV({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?CV():void 0,...I}),l&&PV({...I}),AV({...I,apply:({elements:vn,rects:ar,availableWidth:Dr,availableHeight:wn})=>{const{width:Go,height:Qo}=ar.reference,qe=vn.floating.style;qe.setProperty("--radix-popper-available-width",`${Dr}px`),qe.setProperty("--radix-popper-available-height",`${wn}px`),qe.setProperty("--radix-popper-anchor-width",`${Go}px`),qe.setProperty("--radix-popper-anchor-height",`${Qo}px`)}}),b&&IV({element:b,padding:a}),jV({arrowWidth:C,arrowHeight:T}),d&&RV({strategy:"referenceHidden",...I})]}),[$,X]=Jx(ne),G=tr(_);us(()=>{Y&&(G==null||G())},[Y,G]);const J=(gt=O.arrow)==null?void 0:gt.x,ee=(On=O.arrow)==null?void 0:On.y,Ae=((Ln=O.arrow)==null?void 0:Ln.centerOffset)!==0,[Je,ve]=P.useState();return us(()=>{y&&ve(window.getComputedStyle(y).zIndex)},[y]),K.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:Y?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Je,"--radix-popper-transform-origin":[(qt=O.transformOrigin)==null?void 0:qt.x,(or=O.transformOrigin)==null?void 0:or.y].join(" "),...((Fn=O.hide)==null?void 0:Fn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:K.jsx(NV,{scope:n,placedSide:$,onArrowChange:k,arrowX:J,arrowY:ee,shouldHideArrow:Ae,children:K.jsx(Kt.div,{"data-side":$,"data-align":X,...w,ref:x,style:{...w.style,animation:Y?void 0:"none"}})})})});Qx.displayName=_g;var Xx="PopperArrow",LV={top:"bottom",right:"left",bottom:"top",left:"right"},Yx=P.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=OV(Xx,r),o=LV[s.placedSide];return K.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:K.jsx(kV,{...i,ref:n,style:{...i.style,display:"block"}})})});Yx.displayName=Xx;function FV(t){return t!==null}var jV=t=>({name:"transformOrigin",options:t,fn(e){var E,y,v;const{placement:n,rects:r,middlewareData:i}=e,o=((E=i.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=Jx(n),f={start:"0%",center:"50%",end:"100%"}[h],d=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,m=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let _="",w="";return c==="bottom"?(_=o?f:`${d}px`,w=`${-l}px`):c==="top"?(_=o?f:`${d}px`,w=`${r.floating.height+l}px`):c==="right"?(_=`${-l}px`,w=o?f:`${m}px`):c==="left"&&(_=`${r.floating.width+l}px`,w=o?f:`${m}px`),{data:{x:_,y:w}}}});function Jx(t){const[e,n="center"]=t.split("-");return[e,n]}var BV=Gx,UV=Qx,$V=Yx,[Nh,pU]=lx("Tooltip",[Wx]),Eg=Wx(),Zx="TooltipProvider",zV=700,tw="tooltip.open",[HV,eS]=Nh(Zx),tS=t=>{const{__scopeTooltip:e,delayDuration:n=zV,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=P.useState(!0),l=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),K.jsx(HV,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:P.useCallback(h=>{l.current=h},[]),disableHoverableContent:i,children:s})};tS.displayName=Zx;var nS="Tooltip",[mU,Oh]=Nh(nS),Sp="TooltipTrigger",WV=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Oh(Sp,n),s=eS(Sp,n),o=Eg(n),a=P.useRef(null),l=Dn(e,a,i.onTriggerChange),c=P.useRef(!1),h=P.useRef(!1),f=P.useCallback(()=>c.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),K.jsx(BV,{asChild:!0,...o,children:K.jsx(Kt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:et(t.onPointerMove,d=>{d.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:et(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:et(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:et(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:et(t.onBlur,i.onClose),onClick:et(t.onClick,i.onClose)})})});WV.displayName=Sp;var KV="TooltipPortal",[gU,qV]=Nh(KV,{forceMount:void 0}),To="TooltipContent",rS=P.forwardRef((t,e)=>{const n=qV(To,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=Oh(To,t.__scopeTooltip);return K.jsx(ug,{present:r||o.open,children:o.disableHoverableContent?K.jsx(iS,{side:i,...s,ref:e}):K.jsx(GV,{side:i,...s,ref:e})})}),GV=P.forwardRef((t,e)=>{const n=Oh(To,t.__scopeTooltip),r=eS(To,t.__scopeTooltip),i=P.useRef(null),s=Dn(e,i),[o,a]=P.useState(null),{trigger:l,onClose:c}=n,h=i.current,{onPointerInTransitChange:f}=r,d=P.useCallback(()=>{a(null),f(!1)},[f]),m=P.useCallback((_,w)=>{const E=_.currentTarget,y={x:_.clientX,y:_.clientY},v=JV(y,E.getBoundingClientRect()),x=ZV(y,v),b=e2(w.getBoundingClientRect()),k=n2([...x,...b]);a(k),f(!0)},[f]);return P.useEffect(()=>()=>d(),[d]),P.useEffect(()=>{if(l&&h){const _=E=>m(E,h),w=E=>m(E,l);return l.addEventListener("pointerleave",_),h.addEventListener("pointerleave",w),()=>{l.removeEventListener("pointerleave",_),h.removeEventListener("pointerleave",w)}}},[l,h,m,d]),P.useEffect(()=>{if(o){const _=w=>{const E=w.target,y={x:w.clientX,y:w.clientY},v=(l==null?void 0:l.contains(E))||(h==null?void 0:h.contains(E)),x=!t2(y,o);v?d():x&&(d(),c())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[l,h,o,c,d]),K.jsx(iS,{...t,ref:s})}),[QV,XV]=Nh(nS,{isInside:!1}),iS=P.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=Oh(To,n),c=Eg(n),{onClose:h}=l;return P.useEffect(()=>(document.addEventListener(tw,h),()=>document.removeEventListener(tw,h)),[h]),P.useEffect(()=>{if(l.trigger){const f=d=>{const m=d.target;m!=null&&m.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),K.jsx(lg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:K.jsxs(UV,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[K.jsx(ax,{children:r}),K.jsx(QV,{scope:n,isInside:!0,children:K.jsx(lk,{id:l.contentId,role:"tooltip",children:i||r})})]})})});rS.displayName=To;var sS="TooltipArrow",YV=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Eg(n);return XV(sS,n).isInside?null:K.jsx($V,{...i,...r,ref:e})});YV.displayName=sS;function JV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ZV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function e2(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function t2(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,h=e[o].y;l>r!=h>r&&n<(c-a)*(r-l)/(h-l)+a&&(i=!i)}return i}function n2(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),r2(e)}function r2(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var yU=tS,vU=rS,Lh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fh=typeof window>"u"||"Deno"in globalThis;function Sn(){}function i2(t,e){return typeof t=="function"?t(e):t}function s2(t){return typeof t=="number"&&t>=0&&t!==1/0}function o2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function nw(t,e){return typeof t=="function"?t(e):t}function a2(t,e){return typeof t=="function"?t(e):t}function rw(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Tg(o,e.options))return!1}else if(!fl(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function iw(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(dl(e.options.mutationKey)!==dl(s))return!1}else if(!fl(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Tg(t,e){return((e==null?void 0:e.queryKeyHashFn)||dl)(t)}function dl(t){return JSON.stringify(t,(e,n)=>Cp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function fl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!fl(t[n],e[n])):!1}function oS(t,e){if(t===e)return t;const n=sw(t)&&sw(e);if(n||Cp(t)&&Cp(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const h=n?c:s[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=oS(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function sw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Cp(t){if(!ow(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ow(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ow(t){return Object.prototype.toString.call(t)==="[object Object]"}function l2(t){return new Promise(e=>{setTimeout(e,t)})}function u2(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?oS(t,e):e}function c2(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function h2(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var xg=Symbol();function aS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===xg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Yi,Gr,io,FE,d2=(FE=class extends Lh{constructor(){super();we(this,Yi);we(this,Gr);we(this,io);ce(this,io,e=>{if(!Fh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,Gr)||this.setEventListener(j(this,io))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Gr))==null||e.call(this),ce(this,Gr,void 0))}setEventListener(e){var n;ce(this,io,e),(n=j(this,Gr))==null||n.call(this),ce(this,Gr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,Yi)!==e&&(ce(this,Yi,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof j(this,Yi)=="boolean"?j(this,Yi):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Yi=new WeakMap,Gr=new WeakMap,io=new WeakMap,FE),lS=new d2,so,Qr,oo,jE,f2=(jE=class extends Lh{constructor(){super();we(this,so,!0);we(this,Qr);we(this,oo);ce(this,oo,e=>{if(!Fh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,Qr)||this.setEventListener(j(this,oo))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Qr))==null||e.call(this),ce(this,Qr,void 0))}setEventListener(e){var n;ce(this,oo,e),(n=j(this,Qr))==null||n.call(this),ce(this,Qr,e(this.setOnline.bind(this)))}setOnline(e){j(this,so)!==e&&(ce(this,so,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,so)}},so=new WeakMap,Qr=new WeakMap,oo=new WeakMap,jE),$c=new f2;function p2(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function m2(t){return Math.min(1e3*2**t,3e4)}function uS(t){return(t??"online")==="online"?$c.isOnline():!0}var cS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Yd(t){return t instanceof cS}function hS(t){let e=!1,n=0,r=!1,i;const s=p2(),o=w=>{var E;r||(d(new cS(w)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>lS.isFocused()&&(t.networkMode==="always"||$c.isOnline())&&t.canRun(),h=()=>uS(t.networkMode)&&t.canRun(),f=w=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,w),i==null||i(),s.resolve(w))},d=w=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,w),i==null||i(),s.reject(w))},m=()=>new Promise(w=>{var E;i=y=>{(r||c())&&w(y)},(E=t.onPause)==null||E.call(t)}).then(()=>{var w;i=void 0,r||(w=t.onContinue)==null||w.call(t)}),_=()=>{if(r)return;let w;const E=n===0?t.initialPromise:void 0;try{w=E??t.fn()}catch(y){w=Promise.reject(y)}Promise.resolve(w).then(f).catch(y=>{var M;if(r)return;const v=t.retry??(Fh?0:3),x=t.retryDelay??m2,b=typeof x=="function"?x(n,y):x,k=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(e||!k){d(y);return}n++,(M=t.onFail)==null||M.call(t,n,y),l2(b).then(()=>c()?void 0:m()).then(()=>{e?d(y):_()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?_():m().then(_),s)}}function g2(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Mt=g2(),Ji,BE,dS=(BE=class{constructor(){we(this,Ji)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),s2(this.gcTime)&&ce(this,Ji,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Fh?1/0:5*60*1e3))}clearGcTimeout(){j(this,Ji)&&(clearTimeout(j(this,Ji)),ce(this,Ji,void 0))}},Ji=new WeakMap,BE),ao,lo,cn,St,Dl,Zi,Cn,fr,UE,y2=(UE=class extends dS{constructor(n){super();we(this,Cn);we(this,ao);we(this,lo);we(this,cn);we(this,St);we(this,Dl);we(this,Zi);ce(this,Zi,!1),ce(this,Dl,n.defaultOptions),this.setOptions(n.options),this.observers=[],ce(this,cn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ce(this,ao,w2(this.options)),this.state=n.state??j(this,ao),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=j(this,St))==null?void 0:n.promise}setOptions(n){this.options={...j(this,Dl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,cn).remove(this)}setData(n,r){const i=u2(this.state.data,n,this.options);return _t(this,Cn,fr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){_t(this,Cn,fr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=j(this,St))==null?void 0:i.promise;return(s=j(this,St))==null||s.cancel(n),r?r.then(Sn).catch(Sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,ao))}isActive(){return this.observers.some(n=>a2(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===xg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!o2(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,St))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=j(this,St))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),j(this,cn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(j(this,St)&&(j(this,Zi)?j(this,St).cancel({revert:!0}):j(this,St).cancelRetry()),this.scheduleGc()),j(this,cn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_t(this,Cn,fr).call(this,{type:"invalidate"})}fetch(n,r){var c,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(j(this,St))return j(this,St).continueRetry(),j(this,St).promise}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(m=>m.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ce(this,Zi,!0),i.signal)})},o=()=>{const d=aS(this.options,r),m={queryKey:this.queryKey,meta:this.meta};return s(m),ce(this,Zi,!1),this.options.persister?this.options.persister(d,m,this):d(m)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),ce(this,lo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&_t(this,Cn,fr).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=d=>{var m,_,w,E;Yd(d)&&d.silent||_t(this,Cn,fr).call(this,{type:"error",error:d}),Yd(d)||((_=(m=j(this,cn).config).onError)==null||_.call(m,d,this),(E=(w=j(this,cn).config).onSettled)==null||E.call(w,this.state.data,d,this)),this.scheduleGc()};return ce(this,St,hS({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:d=>{var m,_,w,E;if(d===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(y){l(y);return}(_=(m=j(this,cn).config).onSuccess)==null||_.call(m,d,this),(E=(w=j(this,cn).config).onSettled)==null||E.call(w,d,this.state.error,this),this.scheduleGc()},onError:l,onFail:(d,m)=>{_t(this,Cn,fr).call(this,{type:"failed",failureCount:d,error:m})},onPause:()=>{_t(this,Cn,fr).call(this,{type:"pause"})},onContinue:()=>{_t(this,Cn,fr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),j(this,St).start()}},ao=new WeakMap,lo=new WeakMap,cn=new WeakMap,St=new WeakMap,Dl=new WeakMap,Zi=new WeakMap,Cn=new WeakSet,fr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...v2(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Yd(s)&&s.revert&&j(this,lo)?{...j(this,lo),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Mt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),j(this,cn).notify({query:this,type:"updated",action:n})})},UE);function v2(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:uS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function w2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Hn,$E,_2=($E=class extends Lh{constructor(e={}){super();we(this,Hn);this.config=e,ce(this,Hn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Tg(i,n);let o=this.get(s);return o||(o=new y2({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){j(this,Hn).has(e.queryHash)||(j(this,Hn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=j(this,Hn).get(e.queryHash);n&&(e.destroy(),n===e&&j(this,Hn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,Hn).get(e)}getAll(){return[...j(this,Hn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>rw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>rw(e,r)):n}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hn=new WeakMap,$E),Wn,Dt,es,Kn,$r,zE,E2=(zE=class extends dS{constructor(n){super();we(this,Kn);we(this,Wn);we(this,Dt);we(this,es);this.mutationId=n.mutationId,ce(this,Dt,n.mutationCache),ce(this,Wn,[]),this.state=n.state||T2(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){j(this,Wn).includes(n)||(j(this,Wn).push(n),this.clearGcTimeout(),j(this,Dt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ce(this,Wn,j(this,Wn).filter(r=>r!==n)),this.scheduleGc(),j(this,Dt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){j(this,Wn).length||(this.state.status==="pending"?this.scheduleGc():j(this,Dt).remove(this))}continue(){var n;return((n=j(this,es))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,c,h,f,d,m,_,w,E,y,v,x,b,k,M,C,T;ce(this,es,hS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,R)=>{_t(this,Kn,$r).call(this,{type:"failed",failureCount:A,error:R})},onPause:()=>{_t(this,Kn,$r).call(this,{type:"pause"})},onContinue:()=>{_t(this,Kn,$r).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Dt).canRun(this)}));const r=this.state.status==="pending",i=!j(this,es).canStart();try{if(!r){_t(this,Kn,$r).call(this,{type:"pending",variables:n,isPaused:i}),await((o=(s=j(this,Dt).config).onMutate)==null?void 0:o.call(s,n,this));const R=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));R!==this.state.context&&_t(this,Kn,$r).call(this,{type:"pending",context:R,variables:n,isPaused:i})}const A=await j(this,es).start();return await((h=(c=j(this,Dt).config).onSuccess)==null?void 0:h.call(c,A,n,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,A,n,this.state.context)),await((_=(m=j(this,Dt).config).onSettled)==null?void 0:_.call(m,A,null,this.state.variables,this.state.context,this)),await((E=(w=this.options).onSettled)==null?void 0:E.call(w,A,null,n,this.state.context)),_t(this,Kn,$r).call(this,{type:"success",data:A}),A}catch(A){try{throw await((v=(y=j(this,Dt).config).onError)==null?void 0:v.call(y,A,n,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,A,n,this.state.context)),await((M=(k=j(this,Dt).config).onSettled)==null?void 0:M.call(k,void 0,A,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,A,n,this.state.context)),A}finally{_t(this,Kn,$r).call(this,{type:"error",error:A})}}finally{j(this,Dt).runNext(this)}}},Wn=new WeakMap,Dt=new WeakMap,es=new WeakMap,Kn=new WeakSet,$r=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Mt.batch(()=>{j(this,Wn).forEach(i=>{i.onMutationUpdate(n)}),j(this,Dt).notify({mutation:this,type:"updated",action:n})})},zE);function T2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qt,Vl,HE,x2=(HE=class extends Lh{constructor(e={}){super();we(this,Qt);we(this,Vl);this.config=e,ce(this,Qt,new Map),ce(this,Vl,Date.now())}build(e,n,r){const i=new E2({mutationCache:this,mutationId:++pu(this,Vl)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Ou(e),r=j(this,Qt).get(n)??[];r.push(e),j(this,Qt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Ou(e);if(j(this,Qt).has(n)){const i=(r=j(this,Qt).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?j(this,Qt).delete(n):j(this,Qt).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=j(this,Qt).get(Ou(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=j(this,Qt).get(Ou(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Mt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...j(this,Qt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>iw(n,r))}findAll(e={}){return this.getAll().filter(n=>iw(e,n))}notify(e){Mt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Mt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Sn))))}},Qt=new WeakMap,Vl=new WeakMap,HE);function Ou(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function aw(t){return{onFetch:(e,n)=>{var h,f,d,m,_;const r=e.options,i=(d=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let w=!1;const E=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},y=aS(e.options,e.fetchOptions),v=async(x,b,k)=>{if(w)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const M={queryKey:e.queryKey,pageParam:b,direction:k?"backward":"forward",meta:e.options.meta};E(M);const C=await y(M),{maxPages:T}=e.options,A=k?h2:c2;return{pages:A(x.pages,C,T),pageParams:A(x.pageParams,b,T)}};if(i&&s.length){const x=i==="backward",b=x?S2:lw,k={pages:s,pageParams:o},M=b(r,k);a=await v(k,M,x)}else{const x=t??s.length;do{const b=l===0?o[0]??r.initialPageParam:lw(r,a);if(l>0&&b==null)break;a=await v(a,b),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var w,E;return(E=(w=e.options).persister)==null?void 0:E.call(w,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function lw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function S2(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ue,Xr,Yr,uo,co,Jr,ho,fo,WE,EU=(WE=class{constructor(t={}){we(this,Ue);we(this,Xr);we(this,Yr);we(this,uo);we(this,co);we(this,Jr);we(this,ho);we(this,fo);ce(this,Ue,t.queryCache||new _2),ce(this,Xr,t.mutationCache||new x2),ce(this,Yr,t.defaultOptions||{}),ce(this,uo,new Map),ce(this,co,new Map),ce(this,Jr,0)}mount(){pu(this,Jr)._++,j(this,Jr)===1&&(ce(this,ho,lS.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Ue).onFocus())})),ce(this,fo,$c.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Ue).onOnline())})))}unmount(){var t,e;pu(this,Jr)._--,j(this,Jr)===0&&((t=j(this,ho))==null||t.call(this),ce(this,ho,void 0),(e=j(this,fo))==null||e.call(this),ce(this,fo,void 0))}isFetching(t){return j(this,Ue).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,Xr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,Ue).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=j(this,Ue).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(nw(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return j(this,Ue).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=j(this,Ue).get(r.queryHash),s=i==null?void 0:i.state.data,o=i2(e,s);if(o!==void 0)return j(this,Ue).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Mt.batch(()=>j(this,Ue).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,Ue).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=j(this,Ue);Mt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=j(this,Ue),r={type:"active",...t};return Mt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Mt.batch(()=>j(this,Ue).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Sn).catch(Sn)}invalidateQueries(t={},e={}){return Mt.batch(()=>{if(j(this,Ue).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Mt.batch(()=>j(this,Ue).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Sn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Sn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=j(this,Ue).build(this,e);return n.isStaleByTime(nw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Sn).catch(Sn)}fetchInfiniteQuery(t){return t.behavior=aw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Sn).catch(Sn)}ensureInfiniteQueryData(t){return t.behavior=aw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $c.isOnline()?j(this,Xr).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,Ue)}getMutationCache(){return j(this,Xr)}getDefaultOptions(){return j(this,Yr)}setDefaultOptions(t){ce(this,Yr,t)}setQueryDefaults(t,e){j(this,uo).set(dl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,uo).values()];let n={};return e.forEach(r=>{fl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){j(this,co).set(dl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,co).values()];let n={};return e.forEach(r=>{fl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,Yr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Tg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===xg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,Yr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,Ue).clear(),j(this,Xr).clear()}},Ue=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,uo=new WeakMap,co=new WeakMap,Jr=new WeakMap,ho=new WeakMap,fo=new WeakMap,WE),C2=P.createContext(void 0),TU=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),K.jsx(C2.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(this,arguments)}var ti;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ti||(ti={}));const uw="popstate";function P2(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Pp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zc(i)}return R2(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A2(){return Math.random().toString(36).substr(2,8)}function cw(t,e){return{usr:t.state,key:t.key,idx:e}}function Pp(t,e,n,r){return n===void 0&&(n=null),pl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bo(e):e,{state:n,key:e&&e.key||r||A2()})}function zc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function R2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ti.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(pl({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=ti.Pop;let E=h(),y=E==null?null:E-c;c=E,l&&l({action:a,location:w.location,delta:y})}function d(E,y){a=ti.Push;let v=Pp(w.location,E,y);c=h()+1;let x=cw(v,c),b=w.createHref(v);try{o.pushState(x,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(b)}s&&l&&l({action:a,location:w.location,delta:1})}function m(E,y){a=ti.Replace;let v=Pp(w.location,E,y);c=h();let x=cw(v,c),b=w.createHref(v);o.replaceState(x,"",b),s&&l&&l({action:a,location:w.location,delta:0})}function _(E){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof E=="string"?E:zc(E);return v=v.replace(/ $/,"%20"),Ye(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let w={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uw,f),l=E,()=>{i.removeEventListener(uw,f),l=null}},createHref(E){return e(i,E)},createURL:_,encodeLocation(E){let y=_(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:m,go(E){return o.go(E)}};return w}var hw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(hw||(hw={}));function I2(t,e,n){return n===void 0&&(n="/"),b2(t,e,n,!1)}function b2(t,e,n,r){let i=typeof e=="string"?Bo(e):e,s=Sg(i.pathname||"/",n);if(s==null)return null;let o=pS(t);k2(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=$2(s);a=B2(o[l],c,r)}return a}function pS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=hi([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),pS(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:F2(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of mS(s.path))i(s,o,l)}),e}function mS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=mS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function k2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:j2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const D2=/^:[\w-]+$/,V2=3,M2=2,N2=1,O2=10,L2=-2,dw=t=>t==="*";function F2(t,e){let n=t.split("/"),r=n.length;return n.some(dw)&&(r+=L2),e&&(r+=M2),n.filter(i=>!dw(i)).reduce((i,s)=>i+(D2.test(s)?V2:s===""?N2:O2),r)}function j2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function B2(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=fw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=fw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:hi([s,f.pathname]),pathnameBase:K2(hi([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=hi([s,f.pathnameBase]))}return o}function fw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=U2(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:d,isOptional:m}=h;if(d==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const _=a[f];return m&&!_?c[d]=void 0:c[d]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function U2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function z2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bo(t):t;return{pathname:n?n.startsWith("/")?n:H2(n,e):e,search:q2(r),hash:G2(i)}}function H2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gS(t,e){let n=W2(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bo(t):(i=pl({},t),Ye(!i.pathname||!i.pathname.includes("?"),Jd("?","pathname","search",i)),Ye(!i.pathname||!i.pathname.includes("#"),Jd("#","pathname","hash",i)),Ye(!i.search||!i.search.includes("#"),Jd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=z2(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const hi=t=>t.join("/").replace(/\/\/+/g,"/"),K2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,G2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Q2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vS=["post","put","patch","delete"];new Set(vS);const X2=["get",...vS];new Set(X2);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(this,arguments)}const Cg=P.createContext(null),Y2=P.createContext(null),ms=P.createContext(null),jh=P.createContext(null),Mi=P.createContext({outlet:null,matches:[],isDataRoute:!1}),wS=P.createContext(null);function J2(t,e){let{relative:n}=e===void 0?{}:e;Ul()||Ye(!1);let{basename:r,navigator:i}=P.useContext(ms),{hash:s,pathname:o,search:a}=TS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:hi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ul(){return P.useContext(jh)!=null}function $l(){return Ul()||Ye(!1),P.useContext(jh).location}function _S(t){P.useContext(ms).static||P.useLayoutEffect(t)}function ES(){let{isDataRoute:t}=P.useContext(Mi);return t?hM():Z2()}function Z2(){Ul()||Ye(!1);let t=P.useContext(Cg),{basename:e,future:n,navigator:r}=P.useContext(ms),{matches:i}=P.useContext(Mi),{pathname:s}=$l(),o=JSON.stringify(gS(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return _S(()=>{a.current=!0}),P.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=yS(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:hi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}function xU(){let{matches:t}=P.useContext(Mi),e=t[t.length-1];return e?e.params:{}}function TS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(ms),{matches:i}=P.useContext(Mi),{pathname:s}=$l(),o=JSON.stringify(gS(i,r.v7_relativeSplatPath));return P.useMemo(()=>yS(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function eM(t,e){return tM(t,e)}function tM(t,e,n,r){Ul()||Ye(!1);let{navigator:i}=P.useContext(ms),{matches:s}=P.useContext(Mi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=$l(),h;if(e){var f;let E=typeof e=="string"?Bo(e):e;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||Ye(!1),h=E}else h=c;let d=h.pathname||"/",m=d;if(l!=="/"){let E=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=I2(t,{pathname:m}),w=oM(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:hi([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:hi([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&w?P.createElement(jh.Provider,{value:{location:ml({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ti.Pop}},w):w}function nM(){let t=cM(),e=Q2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const rM=P.createElement(nM,null);class iM extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Mi.Provider,{value:this.props.routeContext},P.createElement(wS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sM(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(Cg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Mi.Provider,{value:e},r)}function oM(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Ye(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:d,errors:m}=n,_=f.route.loader&&d[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,d)=>{let m,_=!1,w=null,E=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||rM,l&&(c<0&&d===0?(_=!0,E=null):c===d&&(_=!0,E=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,d+1)),v=()=>{let x;return m?x=w:_?x=E:f.route.Component?x=P.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,P.createElement(sM,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?P.createElement(iM,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var xS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xS||{}),Hc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hc||{});function aM(t){let e=P.useContext(Cg);return e||Ye(!1),e}function lM(t){let e=P.useContext(Y2);return e||Ye(!1),e}function uM(t){let e=P.useContext(Mi);return e||Ye(!1),e}function SS(t){let e=uM(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function cM(){var t;let e=P.useContext(wS),n=lM(Hc.UseRouteError),r=SS(Hc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hM(){let{router:t}=aM(xS.UseNavigateStable),e=SS(Hc.UseNavigateStable),n=P.useRef(!1);return _S(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ml({fromRouteId:e},s)))},[t,e])}function dM(t){Ye(!1)}function fM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ti.Pop,navigator:s,static:o=!1,future:a}=t;Ul()&&Ye(!1);let l=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:s,static:o,future:ml({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Bo(r));let{pathname:h="/",search:f="",hash:d="",state:m=null,key:_="default"}=r,w=P.useMemo(()=>{let E=Sg(h,l);return E==null?null:{location:{pathname:E,search:f,hash:d,state:m,key:_},navigationType:i}},[l,h,f,d,m,_,i]);return w==null?null:P.createElement(ms.Provider,{value:c},P.createElement(jh.Provider,{children:n,value:w}))}function SU(t){let{children:e,location:n}=t;return eM(Ap(e),n)}new Promise(()=>{});function Ap(t,e){e===void 0&&(e=[]);let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let s=[...e,i];if(r.type===P.Fragment){n.push.apply(n,Ap(r.props.children,s));return}r.type!==dM&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ap(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rp(){return Rp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rp.apply(this,arguments)}function pM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gM(t,e){return t.button===0&&(!e||e==="_self")&&!mM(t)}function Ip(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function yM(t,e){let n=Ip(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const vM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wM="6";try{window.__reactRouterVersion=wM}catch{}const _M="startTransition",pw=CR[_M];function CU(t){let{basename:e,children:n,future:r,window:i}=t,s=P.useRef();s.current==null&&(s.current=P2({window:i,v5Compat:!0}));let o=s.current,[a,l]=P.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=P.useCallback(f=>{c&&pw?pw(()=>l(f)):l(f)},[l,c]);return P.useLayoutEffect(()=>o.listen(h),[o,h]),P.createElement(fM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const EM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PU=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,d=pM(e,vM),{basename:m}=P.useContext(ms),_,w=!1;if(typeof c=="string"&&TM.test(c)&&(_=c,EM))try{let x=new URL(window.location.href),b=c.startsWith("//")?new URL(x.protocol+c):new URL(c),k=Sg(b.pathname,m);b.origin===x.origin&&k!=null?c=k+b.search+b.hash:w=!0}catch{}let E=J2(c,{relative:i}),y=xM(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:f});function v(x){r&&r(x),x.defaultPrevented||y(x)}return P.createElement("a",Rp({},d,{href:_||E,onClick:w||s?r:v,ref:n,target:l}))});var mw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mw||(mw={}));var gw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gw||(gw={}));function xM(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ES(),c=$l(),h=TS(t,{relative:o});return P.useCallback(f=>{if(gM(f,n)){f.preventDefault();let d=r!==void 0?r:zc(c)===zc(h);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,r,i,n,t,s,o,a])}function AU(t){let e=P.useRef(Ip(t)),n=P.useRef(!1),r=$l(),i=P.useMemo(()=>yM(r.search,n.current?null:e.current),[r.search]),s=ES(),o=P.useCallback((a,l)=>{const c=Ip(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}const Pg=P.createContext({});function Ag(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bh=P.createContext(null),Rg=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class SM extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function CM({children:t,isPresent:e,anchorX:n}){const r=P.useId(),i=P.useRef(null),s=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=P.useContext(Rg);return P.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:h,right:f}=s.current;if(e||!i.current||!a||!l)return;const d=n==="left"?`left: ${h}`:`right: ${f}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${d}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),K.jsx(SM,{isPresent:e,childRef:i,sizeRef:s,children:P.cloneElement(t,{ref:i})})}const PM=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=Ag(AM),c=P.useId(),h=P.useCallback(d=>{l.set(d,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),f=P.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:h,register:d=>(l.set(d,!1),()=>l.delete(d))}),s?[Math.random(),h]:[n,h]);return P.useMemo(()=>{l.forEach((d,m)=>l.set(m,!1))},[n]),P.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=K.jsx(CM,{isPresent:n,anchorX:a,children:t})),K.jsx(Bh.Provider,{value:f,children:t})};function AM(){return new Map}function CS(t=!0){const e=P.useContext(Bh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=P.useId();P.useEffect(()=>{if(t)return i(s)},[t]);const o=P.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Lu=t=>t.key||"";function yw(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const Ig=typeof window<"u",PS=Ig?P.useLayoutEffect:P.useEffect,RU=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=CS(o),h=P.useMemo(()=>yw(t),[t]),f=o&&!l?[]:h.map(Lu),d=P.useRef(!0),m=P.useRef(h),_=Ag(()=>new Map),[w,E]=P.useState(h),[y,v]=P.useState(h);PS(()=>{d.current=!1,m.current=h;for(let k=0;k<y.length;k++){const M=Lu(y[k]);f.includes(M)?_.delete(M):_.get(M)!==!0&&_.set(M,!1)}},[y,f.length,f.join("-")]);const x=[];if(h!==w){let k=[...h];for(let M=0;M<y.length;M++){const C=y[M],T=Lu(C);f.includes(T)||(k.splice(M,0,C),x.push(C))}return s==="wait"&&x.length&&(k=x),v(yw(k)),E(h),null}const{forceRender:b}=P.useContext(Pg);return K.jsx(K.Fragment,{children:y.map(k=>{const M=Lu(k),C=o&&!l?!1:h===y||f.includes(M),T=()=>{if(_.has(M))_.set(M,!0);else return;let A=!0;_.forEach(R=>{R||(A=!1)}),A&&(b==null||b(),v(m.current),o&&(c==null||c()),r&&r())};return K.jsx(PM,{isPresent:C,initial:!d.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,onExitComplete:C?void 0:T,anchorX:a,children:k},M)})})},nn=t=>t;let bp=nn;function bg(t){let e;return()=>(e===void 0&&(e=t()),e)}const xo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},wr=t=>t*1e3,_r=t=>t/1e3,RM={skipAnimations:!1,useManualTiming:!1},Fu=["read","resolveKeyframes","update","preRender","render","postRender"],vw={value:null,addProjectionMetrics:null};function IM(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(h.schedule(f),t()),l++,f(a)}const h={schedule:(f,d=!1,m=!1)=>{const w=m&&i?n:r;return d&&o.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&vw.value&&vw.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,h.process(f))}};return h}const bM=40;function AS(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Fu.reduce((y,v)=>(y[v]=IM(s,e?v:void 0),y),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:f,postRender:d}=o,m=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,bM),1),i.timestamp=y,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),f.process(i),d.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(m))},_=()=>{n=!0,r=!0,i.isProcessing||t(m)};return{schedule:Fu.reduce((y,v)=>{const x=o[v];return y[v]=(b,k=!1,M=!1)=>(n||_(),x.schedule(b,k,M)),y},{}),cancel:y=>{for(let v=0;v<Fu.length;v++)o[Fu[v]].cancel(y)},state:i,steps:o}}const{schedule:Pe,cancel:xi,state:ct,steps:Zd}=AS(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0),RS=P.createContext({strict:!1}),ww={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},So={};for(const t in ww)So[t]={isEnabled:e=>ww[t].some(n=>!!e[n])};function kM(t){for(const e in t)So[e]={...So[e],...t[e]}}const DM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||DM.has(t)}let IS=t=>!Wc(t);function VM(t){t&&(IS=e=>e.startsWith("on")?!Wc(e):t(e))}try{VM(require("@emotion/is-prop-valid").default)}catch{}function MM(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(IS(i)||n===!0&&Wc(i)||!e&&!Wc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function NM(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Uh=P.createContext({});function $h(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gl(t){return typeof t=="string"||Array.isArray(t)}const kg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dg=["initial",...kg];function zh(t){return $h(t.animate)||Dg.some(e=>gl(t[e]))}function bS(t){return!!(zh(t)||t.variants)}function OM(t,e){if(zh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gl(n)?n:void 0,animate:gl(r)?r:void 0}}return t.inherit!==!1?e:{}}function LM(t){const{initial:e,animate:n}=OM(t,P.useContext(Uh));return P.useMemo(()=>({initial:e,animate:n}),[_w(e),_w(n)])}function _w(t){return Array.isArray(t)?t.join(" "):t}const FM=Symbol.for("motionComponentSymbol");function $s(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jM(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$s(n)&&(n.current=r))},[e])}const Vg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BM="framerAppearId",kS="data-"+Vg(BM),{schedule:Mg,cancel:IU}=AS(queueMicrotask,!1),DS=P.createContext({});function UM(t,e,n,r,i){var s,o;const{visualElement:a}=P.useContext(Uh),l=P.useContext(RS),c=P.useContext(Bh),h=P.useContext(Rg).reducedMotion,f=P.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const d=f.current,m=P.useContext(DS);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&$M(f.current,n,i,m);const _=P.useRef(!1);P.useInsertionEffect(()=>{d&&_.current&&d.update(n,c)});const w=n[kS],E=P.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return PS(()=>{d&&(_.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Mg.render(d.render),E.current&&d.animationState&&d.animationState.animateChanges())}),P.useEffect(()=>{d&&(!E.current&&d.animationState&&d.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,w)}),E.current=!1))}),d}function $M(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:VS(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&$s(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function VS(t){if(t)return t.options.allowProjection!==!1?t.projection:VS(t.parent)}function zM({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&kM(t);function a(c,h){let f;const d={...P.useContext(Rg),...c,layoutId:HM(c)},{isStatic:m}=d,_=LM(c),w=r(c,m);if(!m&&Ig){WM();const E=KM(d);f=E.MeasureLayout,_.visualElement=UM(i,w,d,e,E.ProjectionNode)}return K.jsxs(Uh.Provider,{value:_,children:[f&&_.visualElement?K.jsx(f,{visualElement:_.visualElement,...d}):null,n(i,c,jM(w,_.visualElement,h),w,m,_.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=P.forwardRef(a);return l[FM]=i,l}function HM({layoutId:t}){const e=P.useContext(Pg).id;return e&&t!==void 0?e+"-"+t:t}function WM(t,e){P.useContext(RS).strict}function KM(t){const{drag:e,layout:n}=So;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const MS=t=>e=>typeof e=="string"&&e.startsWith(t),Ng=MS("--"),qM=MS("var(--"),Og=t=>qM(t)?GM.test(t.split("/*")[0].trim()):!1,GM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yl={};function QM(t){for(const e in t)yl[e]=t[e],Ng(e)&&(yl[e].isCSSVariable=!0)}const Uo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gs=new Set(Uo);function NS(t,{layout:e,layoutId:n}){return gs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yl[t]||t==="opacity")}const It=t=>!!(t&&t.getVelocity),OS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ar=(t,e,n)=>n>e?e:n<t?t:n,$o={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vl={...$o,transform:t=>Ar(0,1,t)},ju={...$o,default:1},zl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zr=zl("deg"),Xn=zl("%"),re=zl("px"),XM=zl("vh"),YM=zl("vw"),Ew={...Xn,parse:t=>Xn.parse(t)/100,transform:t=>Xn.transform(t*100)},JM={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re},ZM={rotate:zr,rotateX:zr,rotateY:zr,rotateZ:zr,scale:ju,scaleX:ju,scaleY:ju,scaleZ:ju,skew:zr,skewX:zr,skewY:zr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:vl,originX:Ew,originY:Ew,originZ:re},Tw={...$o,transform:Math.round},Lg={...JM,...ZM,zIndex:Tw,size:re,fillOpacity:vl,strokeOpacity:vl,numOctaves:Tw},eN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tN=Uo.length;function nN(t,e,n){let r="",i=!0;for(let s=0;s<tN;s++){const o=Uo[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=OS(a,Lg[o]);if(!l){i=!1;const h=eN[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Fg(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(gs.has(l)){o=!0;continue}else if(Ng(l)){i[l]=c;continue}else{const h=OS(c,Lg[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=nN(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}const jg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LS(t,e,n){for(const r in e)!It(e[r])&&!NS(r,n)&&(t[r]=e[r])}function rN({transformTemplate:t},e){return P.useMemo(()=>{const n=jg();return Fg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iN(t,e){const n=t.style||{},r={};return LS(r,n,t),Object.assign(r,rN(t,e)),r}function sN(t,e){const n={},r=iN(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const oN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bg(t){return typeof t!="string"||t.includes("-")?!1:!!(oN.indexOf(t)>-1||/[A-Z]/u.test(t))}const aN={offset:"stroke-dashoffset",array:"stroke-dasharray"},lN={offset:"strokeDashoffset",array:"strokeDasharray"};function uN(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?aN:lN;t[s.offset]=re.transform(-r);const o=re.transform(e),a=re.transform(n);t[s.array]=`${o} ${a}`}function xw(t,e,n){return typeof t=="string"?t:re.transform(e+n*t)}function cN(t,e,n){const r=xw(e,t.x,t.width),i=xw(n,t.y,t.height);return`${r} ${i}`}function Ug(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,f){if(Fg(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:m,dimensions:_}=t;d.transform&&(_&&(m.transform=d.transform),delete d.transform),_&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=cN(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),o!==void 0&&uN(d,o,a,l,!1)}const FS=()=>({...jg(),attrs:{}}),$g=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hN(t,e,n,r){const i=P.useMemo(()=>{const s=FS();return Ug(s,e,$g(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};LS(s,t.style,t),i.style={...s,...i.style}}return i}function dN(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Bg(n)?hN:sN)(r,s,o,n),c=MM(r,typeof n=="string",t),h=n!==P.Fragment?{...c,...l,ref:i}:{},{children:f}=r,d=P.useMemo(()=>It(f)?f.get():f,[f]);return P.createElement(n,{...h,children:d})}}function Sw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function zg(t,e,n,r){if(typeof e=="function"){const[i,s]=Sw(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Sw(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const kp=t=>Array.isArray(t),fN=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),pN=t=>kp(t)?t[t.length-1]||0:t;function sc(t){const e=It(t)?t.get():t;return fN(e)?e.toValue():e}function mN({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:gN(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const jS=t=>(e,n)=>{const r=P.useContext(Uh),i=P.useContext(Bh),s=()=>mN(t,e,r,i);return n?s():Ag(s)};function gN(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=sc(s[d]);let{initial:o,animate:a}=t;const l=zh(t),c=bS(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!$h(f)){const d=Array.isArray(f)?f:[f];for(let m=0;m<d.length;m++){const _=zg(t,d[m]);if(_){const{transitionEnd:w,transition:E,...y}=_;for(const v in y){let x=y[v];if(Array.isArray(x)){const b=h?x.length-1:0;x=x[b]}x!==null&&(i[v]=x)}for(const v in w)i[v]=w[v]}}}return i}function Hg(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(It(i[o])||e.style&&It(e.style[o])||NS(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}const yN={useVisualState:jS({scrapeMotionValuesFromProps:Hg,createRenderState:jg})};function BS(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function US(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const $S=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function zS(t,e,n,r){US(t,e,void 0,r);for(const i in e.attrs)t.setAttribute($S.has(i)?i:Vg(i),e.attrs[i])}function HS(t,e,n){const r=Hg(t,e,n);for(const i in t)if(It(t[i])||It(e[i])){const s=Uo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const Cw=["x","y","width","height","cx","cy","r"],vN={useVisualState:jS({scrapeMotionValuesFromProps:HS,createRenderState:FS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(gs.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<Cw.length;a++){const l=Cw[a];t[l]!==e[l]&&(o=!0)}o&&Pe.read(()=>{BS(n,r),Pe.render(()=>{Ug(r,i,$g(n.tagName),t.transformTemplate),zS(n,r)})})}})};function wN(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Bg(r)?vN:yN,preloadedFeatures:t,useRender:dN(i),createVisualElement:e,Component:r};return zM(o)}}function wl(t,e,n){const r=t.getProps();return zg(r,e,n!==void 0?n:r.custom,t)}const _N=bg(()=>window.ScrollTimeline!==void 0);class EN{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(_N()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class TN extends EN{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Wg(t,e){return t?t[e]||t.default||t:void 0}const Dp=2e4;function WS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Dp;)e+=n,r=t.next(e);return e>=Dp?1/0:e}function Kg(t){return typeof t=="function"}function Pw(t,e){t.timeline=e,t.onfinish=null}const qg=t=>Array.isArray(t)&&typeof t[0]=="number",xN={linearEasing:void 0};function SN(t,e){const n=bg(t);return()=>{var r;return(r=xN[e])!==null&&r!==void 0?r:n()}}const Kc=SN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),KS=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(xo(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function qS(t){return!!(typeof t=="function"&&Kc()||!t||typeof t=="string"&&(t in Vp||Kc())||qg(t)||Array.isArray(t)&&t.every(qS))}const Pa=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Vp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pa([0,.65,.55,1]),circOut:Pa([.55,0,1,.45]),backIn:Pa([.31,.01,.66,-.59]),backOut:Pa([.33,1.53,.69,.99])};function GS(t,e){if(t)return typeof t=="function"&&Kc()?KS(t,e):qg(t)?Pa(t):Array.isArray(t)?t.map(n=>GS(n,e)||Vp.easeOut):Vp[t]}const Tn={x:!1,y:!1};function QS(){return Tn.x||Tn.y}function CN(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function XS(t,e){const n=CN(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Aw(t){return!(t.pointerType==="touch"||QS())}function PN(t,e,n={}){const[r,i,s]=XS(t,n),o=a=>{if(!Aw(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const h=f=>{Aw(f)&&(c(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}function qc(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const YS=(t,e)=>e?t===e?!0:YS(t,e.parentElement):!1,Gg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,AN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RN(t){return AN.has(t.tagName)||t.tabIndex!==-1}const Aa=new WeakSet;function Rw(t){return e=>{e.key==="Enter"&&t(e)}}function ef(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const IN=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Rw(()=>{if(Aa.has(n))return;ef(n,"down");const i=Rw(()=>{ef(n,"up")}),s=()=>ef(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Iw(t){return Gg(t)&&!QS()}function bN(t,e,n={}){const[r,i,s]=XS(t,n),o=a=>{const l=a.currentTarget;if(!l||!Iw(a)||Aa.has(l))return;Aa.add(l),qc(a,"set");const c=e(l,a),h=(m,_)=>{l.removeEventListener("pointerup",f),l.removeEventListener("pointercancel",d),qc(m,"release"),!(!Iw(m)||!Aa.has(l))&&(Aa.delete(l),typeof c=="function"&&c(m,{success:_}))},f=m=>{(m.isTrusted?kN(m,l instanceof Element?l.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?h(m,!1):h(m,!(l instanceof Element)||YS(l,m.target))},d=m=>{h(m,!1)};l.addEventListener("pointerup",f,i),l.addEventListener("pointercancel",d,i),l.addEventListener("lostpointercapture",d,i)};return r.forEach(a=>{a=n.useGlobalTarget?window:a;let l=!1;a instanceof HTMLElement&&(l=!0,!RN(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",o,i),l&&a.addEventListener("focus",c=>IN(c,i),i)}),s}function kN(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function DN(t){return t==="x"||t==="y"?Tn[t]?null:(Tn[t]=!0,()=>{Tn[t]=!1}):Tn.x||Tn.y?null:(Tn.x=Tn.y=!0,()=>{Tn.x=Tn.y=!1})}const JS=new Set(["width","height","top","left","right","bottom",...Uo]);let oc;function VN(){oc=void 0}const Yn={now:()=>(oc===void 0&&Yn.set(ct.isProcessing||RM.useManualTiming?ct.timestamp:performance.now()),oc),set:t=>{oc=t,queueMicrotask(VN)}};function Qg(t,e){t.indexOf(e)===-1&&t.push(e)}function Xg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Yg{constructor(){this.subscriptions=[]}add(e){return Qg(this.subscriptions,e),()=>Xg(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ZS(t,e){return e?t*(1e3/e):0}const bw=30,MN=t=>!isNaN(parseFloat(t));class NN{constructor(e,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Yn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Yg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>bw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,bw);return ZS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(t,e){return new NN(t,e)}function ON(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_l(n))}function LN(t,e){const n=wl(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=pN(s[o]);ON(t,o,a)}}function FN(t){return!!(It(t)&&t.add)}function Mp(t,e){const n=t.getValue("willChange");if(FN(n))return n.add(e)}function eC(t){return t.props[kS]}const tC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,jN=1e-7,BN=12;function UN(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=tC(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>jN&&++a<BN);return o}function Hl(t,e,n,r){if(t===e&&n===r)return nn;const i=s=>UN(s,0,1,t,n);return s=>s===0||s===1?s:tC(i(s),e,r)}const nC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,rC=t=>e=>1-t(1-e),iC=Hl(.33,1.53,.69,.99),Jg=rC(iC),sC=nC(Jg),oC=t=>(t*=2)<1?.5*Jg(t):.5*(2-Math.pow(2,-10*(t-1))),Zg=t=>1-Math.sin(Math.acos(t)),aC=rC(Zg),lC=nC(Zg),uC=t=>/^0[^.\s]+$/u.test(t);function $N(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uC(t):!0}const Ba=t=>Math.round(t*1e5)/1e5,ey=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zN(t){return t==null}const HN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ty=(t,e)=>n=>!!(typeof n=="string"&&HN.test(n)&&n.startsWith(t)||e&&!zN(n)&&Object.prototype.hasOwnProperty.call(n,e)),cC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(ey);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},WN=t=>Ar(0,255,t),tf={...$o,transform:t=>Math.round(WN(t))},Qi={test:ty("rgb","red"),parse:cC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+tf.transform(t)+", "+tf.transform(e)+", "+tf.transform(n)+", "+Ba(vl.transform(r))+")"};function KN(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Np={test:ty("#"),parse:KN,transform:Qi.transform},zs={test:ty("hsl","hue"),parse:cC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xn.transform(Ba(e))+", "+Xn.transform(Ba(n))+", "+Ba(vl.transform(r))+")"},Ct={test:t=>Qi.test(t)||Np.test(t)||zs.test(t),parse:t=>Qi.test(t)?Qi.parse(t):zs.test(t)?zs.parse(t):Np.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qi.transform(t):zs.transform(t)},qN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GN(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ey))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(qN))===null||n===void 0?void 0:n.length)||0)>0}const hC="number",dC="color",QN="var",XN="var(",kw="${}",YN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function El(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(YN,l=>(Ct.test(l)?(r.color.push(s),i.push(dC),n.push(Ct.parse(l))):l.startsWith(XN)?(r.var.push(s),i.push(QN),n.push(l)):(r.number.push(s),i.push(hC),n.push(parseFloat(l))),++s,kw)).split(kw);return{values:n,split:a,indexes:r,types:i}}function fC(t){return El(t).values}function pC(t){const{split:e,types:n}=El(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===hC?s+=Ba(i[o]):a===dC?s+=Ct.transform(i[o]):s+=i[o]}return s}}const JN=t=>typeof t=="number"?0:t;function ZN(t){const e=fC(t);return pC(t)(e.map(JN))}const Si={test:GN,parse:fC,createTransformer:pC,getAnimatableNone:ZN},eO=new Set(["brightness","contrast","saturate","opacity"]);function tO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ey)||[];if(!r)return t;const i=n.replace(r,"");let s=eO.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const nO=/\b([a-z-]*)\(.*?\)/gu,Op={...Si,getAnimatableNone:t=>{const e=t.match(nO);return e?e.map(tO).join(" "):t}},rO={...Lg,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:Op,WebkitFilter:Op},ny=t=>rO[t];function mC(t,e){let n=ny(t);return n!==Op&&(n=Si),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const iO=new Set(["auto","none","0"]);function sO(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!iO.has(s)&&El(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=mC(n,i)}const Dw=t=>t===$o||t===re,Vw=(t,e)=>parseFloat(t.split(", ")[e]),Mw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Vw(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?Vw(s[1],t):0}},oO=new Set(["x","y","z"]),aO=Uo.filter(t=>!oO.has(t));function lO(t){const e=[];return aO.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Co={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Mw(4,13),y:Mw(5,14)};Co.translateX=Co.x;Co.translateY=Co.y;const rs=new Set;let Lp=!1,Fp=!1;function gC(){if(Fp){const t=Array.from(rs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=lO(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fp=!1,Lp=!1,rs.forEach(t=>t.complete()),rs.clear()}function yC(){rs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fp=!0)})}function uO(){yC(),gC()}class ry{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rs.add(this),Lp||(Lp=!0,Pe.read(yC),Pe.resolveKeyframes(gC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const vC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),cO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hO(t){const e=cO.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function wC(t,e,n=1){const[r,i]=hO(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return vC(o)?parseFloat(o):o}return Og(i)?wC(i,e,n+1):i}const _C=t=>e=>e.test(t),dO={test:t=>t==="auto",parse:t=>t},EC=[$o,re,Xn,zr,YM,XM,dO],Nw=t=>EC.find(_C(t));class TC extends ry{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Og(c))){const h=wC(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!JS.has(r)||e.length!==2)return;const[i,s]=e,o=Nw(i),a=Nw(s);if(o!==a)if(Dw(o)&&Dw(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)$N(e[i])&&r.push(i);r.length&&sO(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Co[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Co[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const Ow=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Si.test(t)||t==="0")&&!t.startsWith("url("));function fO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function pO(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Ow(i,e),a=Ow(s,e);return!o||!a?!1:fO(t)||(n==="spring"||Kg(n))&&r}const mO=t=>t!==null;function Hh(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(mO),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const gO=40;class xC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yn.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>gO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uO(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Yn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!pO(e,r,i,s))if(o)this.options.duration=0;else{l&&l(Hh(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ne=(t,e,n)=>t+(e-t)*n;function nf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=nf(l,a,t+1/3),s=nf(l,a,t),o=nf(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Gc(t,e){return n=>n>0?e:t}const rf=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},vO=[Np,Qi,zs],wO=t=>vO.find(e=>e.test(t));function Lw(t){const e=wO(t);if(!e)return!1;let n=e.parse(t);return e===zs&&(n=yO(n)),n}const Fw=(t,e)=>{const n=Lw(t),r=Lw(e);if(!n||!r)return Gc(t,e);const i={...n};return s=>(i.red=rf(n.red,r.red,s),i.green=rf(n.green,r.green,s),i.blue=rf(n.blue,r.blue,s),i.alpha=Ne(n.alpha,r.alpha,s),Qi.transform(i))},_O=(t,e)=>n=>e(t(n)),Wl=(...t)=>t.reduce(_O),jp=new Set(["none","hidden"]);function EO(t,e){return jp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function TO(t,e){return n=>Ne(t,e,n)}function iy(t){return typeof t=="number"?TO:typeof t=="string"?Og(t)?Gc:Ct.test(t)?Fw:CO:Array.isArray(t)?SC:typeof t=="object"?Ct.test(t)?Fw:xO:Gc}function SC(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>iy(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function xO(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=iy(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function SO(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const CO=(t,e)=>{const n=Si.createTransformer(e),r=El(t),i=El(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?jp.has(t)&&!i.values.length||jp.has(e)&&!r.values.length?EO(t,e):Wl(SC(SO(r,i),i.values),n):Gc(t,e)};function CC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ne(t,e,n):iy(t)(t,e)}const PO=5;function PC(t,e,n){const r=Math.max(e-PO,0);return ZS(n-t(r),e-r)}const $e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sf=.001;function AO({duration:t=$e.duration,bounce:e=$e.bounce,velocity:n=$e.velocity,mass:r=$e.mass}){let i,s,o=1-e;o=Ar($e.minDamping,$e.maxDamping,o),t=Ar($e.minDuration,$e.maxDuration,_r(t)),o<1?(i=c=>{const h=c*o,f=h*t,d=h-n,m=Bp(c,o),_=Math.exp(-f);return sf-d/m*_},s=c=>{const f=c*o*t,d=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,_=Math.exp(-f),w=Bp(Math.pow(c,2),o);return(-i(c)+sf>0?-1:1)*((d-m)*_)/w}):(i=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-sf+h*f},s=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,l=IO(i,s,a);if(t=wr(t),isNaN(l))return{stiffness:$e.stiffness,damping:$e.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const RO=12;function IO(t,e,n){let r=n;for(let i=1;i<RO;i++)r=r-t(r)/e(r);return r}function Bp(t,e){return t*Math.sqrt(1-e*e)}const bO=["duration","bounce"],kO=["stiffness","damping","mass"];function jw(t,e){return e.some(n=>t[n]!==void 0)}function DO(t){let e={velocity:$e.velocity,stiffness:$e.stiffness,damping:$e.damping,mass:$e.mass,isResolvedFromDuration:!1,...t};if(!jw(t,kO)&&jw(t,bO))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ar(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:$e.mass,stiffness:i,damping:s}}else{const n=AO(t);e={...e,...n,mass:$e.mass},e.isResolvedFromDuration=!0}return e}function AC(t=$e.visualDuration,e=$e.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:f,velocity:d,isResolvedFromDuration:m}=DO({...n,velocity:-_r(n.velocity||0)}),_=d||0,w=c/(2*Math.sqrt(l*h)),E=o-s,y=_r(Math.sqrt(l/h)),v=Math.abs(E)<5;r||(r=v?$e.restSpeed.granular:$e.restSpeed.default),i||(i=v?$e.restDelta.granular:$e.restDelta.default);let x;if(w<1){const k=Bp(y,w);x=M=>{const C=Math.exp(-w*y*M);return o-C*((_+w*y*E)/k*Math.sin(k*M)+E*Math.cos(k*M))}}else if(w===1)x=k=>o-Math.exp(-y*k)*(E+(_+y*E)*k);else{const k=y*Math.sqrt(w*w-1);x=M=>{const C=Math.exp(-w*y*M),T=Math.min(k*M,300);return o-C*((_+w*y*E)*Math.sinh(T)+k*E*Math.cosh(T))/k}}const b={calculatedDuration:m&&f||null,next:k=>{const M=x(k);if(m)a.done=k>=f;else{let C=0;w<1&&(C=k===0?wr(_):PC(x,k,M));const T=Math.abs(C)<=r,A=Math.abs(o-M)<=i;a.done=T&&A}return a.value=a.done?o:M,a},toString:()=>{const k=Math.min(WS(b),Dp),M=KS(C=>b.next(k*C).value,k,30);return k+"ms "+M}};return b}function Bw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],d={done:!1,value:f},m=T=>a!==void 0&&T<a||l!==void 0&&T>l,_=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let w=n*e;const E=f+w,y=o===void 0?E:o(E);y!==E&&(w=y-f);const v=T=>-w*Math.exp(-T/r),x=T=>y+v(T),b=T=>{const A=v(T),R=x(T);d.done=Math.abs(A)<=c,d.value=d.done?y:R};let k,M;const C=T=>{m(d.value)&&(k=T,M=AC({keyframes:[d.value,_(d.value)],velocity:PC(x,T,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:T=>{let A=!1;return!M&&k===void 0&&(A=!0,b(T),C(T)),k!==void 0&&T>=k?M.next(T-k):(!A&&b(T),d)}}}const VO=Hl(.42,0,1,1),MO=Hl(0,0,.58,1),RC=Hl(.42,0,.58,1),NO=t=>Array.isArray(t)&&typeof t[0]!="number",Uw={linear:nn,easeIn:VO,easeInOut:RC,easeOut:MO,circIn:Zg,circInOut:lC,circOut:aC,backIn:Jg,backInOut:sC,backOut:iC,anticipate:oC},$w=t=>{if(qg(t)){bp(t.length===4);const[e,n,r,i]=t;return Hl(e,n,r,i)}else if(typeof t=="string")return bp(Uw[t]!==void 0),Uw[t];return t};function OO(t,e,n){const r=[],i=n||CC,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||nn:e;a=Wl(l,a)}r.push(a)}return r}function LO(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(bp(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=OO(e,r,i),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const d=xo(t[f],t[f+1],h);return a[f](d)};return n?h=>c(Ar(t[0],t[s-1],h)):c}function FO(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=xo(0,e,r);t.push(Ne(n,1,i))}}function jO(t){const e=[0];return FO(e,t.length-1),e}function BO(t,e){return t.map(n=>n*e)}function UO(t,e){return t.map(()=>e||RC).splice(0,t.length-1)}function Qc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=NO(r)?r.map($w):$w(r),s={done:!1,value:e[0]},o=BO(n&&n.length===e.length?n:jO(e),t),a=LO(o,e,{ease:Array.isArray(i)?i:UO(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const $O=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Pe.update(e,!0),stop:()=>xi(e),now:()=>ct.isProcessing?ct.timestamp:Yn.now()}},zO={decay:Bw,inertia:Bw,tween:Qc,keyframes:Qc,spring:AC},HO=t=>t/100;class sy extends xC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||ry,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Kg(n)?n:zO[n]||Qc;let l,c;a!==Qc&&typeof e[0]!="number"&&(l=Wl(HO,CC(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=WS(h));const{calculatedDuration:f}=h,d=f+i,m=d*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:d,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:d,repeat:m,repeatType:_,repeatDelay:w,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-d*(this.speed>=0?1:-1),v=this.speed>=0?y<0:y>h;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let x=this.currentTime,b=s;if(m){const T=Math.min(this.currentTime,h)/f;let A=Math.floor(T),R=T%1;!R&&T>=1&&(R=1),R===1&&A--,A=Math.min(A,m+1),!!(A%2)&&(_==="reverse"?(R=1-R,w&&(R-=w/f)):_==="mirror"&&(b=o)),x=Ar(0,1,R)*f}const k=v?{done:!1,value:l[0]}:b.next(x);a&&(k.value=a(k.value));let{done:M}=k;!v&&c!==null&&(M=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&i!==void 0&&(k.value=Hh(l,this.options,i)),E&&E(k.value),C&&this.finish(),k}get duration(){const{resolved:e}=this;return e?_r(e.calculatedDuration):0}get time(){return _r(this.currentTime)}set time(e){e=wr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=_r(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=$O,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const WO=new Set(["opacity","clipPath","filter","transform"]);function KO(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=GS(a,i);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const qO=bg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Xc=10,GO=2e4;function QO(t){return Kg(t.type)||t.type==="spring"||!qS(t.ease)}function XO(t,e){const n=new sy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<GO;)r=n.sample(s),i.push(r.value),s+=Xc;return{times:void 0,keyframes:i,duration:s-Xc,ease:"linear"}}const IC={anticipate:oC,backInOut:sC,circInOut:lC};function YO(t){return t in IC}class zw extends xC{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new TC(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Kc()&&YO(s)&&(s=IC[s]),QO(this.options)){const{onComplete:f,onUpdate:d,motionValue:m,element:_,...w}=this.options,E=XO(e,w);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,i=E.times,s=E.ease,o="keyframes"}const h=KO(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(Pw(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(Hh(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return _r(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return _r(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=wr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return nn;const{animation:r}=n;Pw(r,e)}return nn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:f,element:d,...m}=this.options,_=new sy({...m,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),w=wr(this.time);c.setWithVelocity(_.sample(w-Xc).value,_.sample(w).value,Xc)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return qO()&&r&&WO.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const JO={type:"spring",stiffness:500,damping:25,restSpeed:10},ZO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),eL={type:"keyframes",duration:.8},tL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nL=(t,{keyframes:e})=>e.length>2?eL:gs.has(t)?t.startsWith("scale")?ZO(e[1]):JO:tL;function rL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const oy=(t,e,n,r={},i,s)=>o=>{const a=Wg(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-wr(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};rL(a)||(h={...h,...nL(t,h)}),h.duration&&(h.duration=wr(h.duration)),h.repeatDelay&&(h.repeatDelay=wr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const d=Hh(h.keyframes,a);if(d!==void 0)return Pe.update(()=>{h.onUpdate(d),h.onComplete()}),new TN([])}return!s&&zw.supports(h)?new zw(h):new sy(h)};function iL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function bC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const d=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||h&&iL(h,f))continue;const _={delay:n,...Wg(o||{},f)};let w=!1;if(window.MotionHandoffAnimation){const y=eC(t);if(y){const v=window.MotionHandoffAnimation(y,f,Pe);v!==null&&(_.startTime=v,w=!0)}}Mp(t,f),d.start(oy(f,d,m,t.shouldReduceMotion&&JS.has(f)?{type:!1}:_,t,w));const E=d.animation;E&&c.push(E)}return a&&Promise.all(c).then(()=>{Pe.update(()=>{a&&LN(t,a)})}),c}function Up(t,e,n={}){var r;const i=wl(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(bC(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:d}=s;return sL(t,e,h+c,f,d,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function sL(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(oL).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(Up(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function oL(t,e){return t.sortNodePosition(e)}function aL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Up(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Up(t,e,n);else{const i=typeof e=="function"?wl(t,e,n.custom):e;r=Promise.all(bC(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function kC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const lL=Dg.length;function DC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?DC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<lL;n++){const r=Dg[n],i=t.props[r];(gl(i)||i===!1)&&(e[r]=i)}return e}const uL=[...kg].reverse(),cL=kg.length;function hL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>aL(t,n,r)))}function dL(t){let e=hL(t),n=Hw(),r=!0;const i=l=>(c,h)=>{var f;const d=wl(t,h,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:_,...w}=d;c={...c,...w,..._}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,h=DC(t.parent)||{},f=[],d=new Set;let m={},_=1/0;for(let E=0;E<cL;E++){const y=uL[E],v=n[y],x=c[y]!==void 0?c[y]:h[y],b=gl(x),k=y===l?v.isActive:null;k===!1&&(_=E);let M=x===h[y]&&x!==c[y]&&b;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),v.protectedKeys={...m},!v.isActive&&k===null||!x&&!v.prevProp||$h(x)||typeof x=="boolean")continue;const C=fL(v.prevProp,x);let T=C||y===l&&v.isActive&&!M&&b||E>_&&b,A=!1;const R=Array.isArray(x)?x:[x];let D=R.reduce(i(y),{});k===!1&&(D={});const{prevResolvedValues:V={}}=v,I={...V,...D},z=Y=>{T=!0,d.has(Y)&&(A=!0,d.delete(Y)),v.needsAnimating[Y]=!0;const O=t.getValue(Y);O&&(O.liveStyle=!1)};for(const Y in I){const O=D[Y],$=V[Y];if(m.hasOwnProperty(Y))continue;let X=!1;kp(O)&&kp($)?X=!kC(O,$):X=O!==$,X?O!=null?z(Y):d.add(Y):O!==void 0&&d.has(Y)?z(Y):v.protectedKeys[Y]=!0}v.prevProp=x,v.prevResolvedValues=D,v.isActive&&(m={...m,...D}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(M&&C)||A)&&f.push(...R.map(Y=>({animation:Y,options:{type:y}})))}if(d.size){const E={};if(typeof c.initial!="boolean"){const y=wl(t,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(E.transition=y.transition)}d.forEach(y=>{const v=t.getBaseTarget(y),x=t.getValue(y);x&&(x.liveStyle=!0),E[y]=v??null}),f.push({animation:E})}let w=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(d=>{var m;return(m=d.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Hw(),r=!0}}}function fL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kC(e,t):!1}function Ui(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hw(){return{animate:Ui(!0),whileInView:Ui(),whileHover:Ui(),whileTap:Ui(),whileDrag:Ui(),whileFocus:Ui(),exit:Ui()}}class Ni{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pL extends Ni{constructor(e){super(e),e.animationState||(e.animationState=dL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$h(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let mL=0;class gL extends Ni{constructor(){super(...arguments),this.id=mL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yL={animation:{Feature:pL},exit:{Feature:gL}};function Tl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Kl(t){return{point:{x:t.pageX,y:t.pageY}}}const vL=t=>e=>Gg(e)&&t(e,Kl(e));function Hs(t,e,n,r){return Tl(t,e,vL(n),r)}function VC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _L(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const MC=1e-4,EL=1-MC,TL=1+MC,NC=.01,xL=0-NC,SL=0+NC;function Nt(t){return t.max-t.min}function CL(t,e,n){return Math.abs(t-e)<=n}function Ww(t,e,n,r=.5){t.origin=r,t.originPoint=Ne(e.min,e.max,t.origin),t.scale=Nt(n)/Nt(e),t.translate=Ne(n.min,n.max,t.origin)-t.originPoint,(t.scale>=EL&&t.scale<=TL||isNaN(t.scale))&&(t.scale=1),(t.translate>=xL&&t.translate<=SL||isNaN(t.translate))&&(t.translate=0)}function Ua(t,e,n,r){Ww(t.x,e.x,n.x,r?r.originX:void 0),Ww(t.y,e.y,n.y,r?r.originY:void 0)}function Kw(t,e,n){t.min=n.min+e.min,t.max=t.min+Nt(e)}function PL(t,e,n){Kw(t.x,e.x,n.x),Kw(t.y,e.y,n.y)}function qw(t,e,n){t.min=e.min-n.min,t.max=t.min+Nt(e)}function $a(t,e,n){qw(t.x,e.x,n.x),qw(t.y,e.y,n.y)}const Gw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ws=()=>({x:Gw(),y:Gw()}),Qw=()=>({min:0,max:0}),He=()=>({x:Qw(),y:Qw()});function un(t){return[t("x"),t("y")]}function of(t){return t===void 0||t===1}function $p({scale:t,scaleX:e,scaleY:n}){return!of(t)||!of(e)||!of(n)}function Hi(t){return $p(t)||OC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function OC(t){return Xw(t.x)||Xw(t.y)}function Xw(t){return t&&t!=="0%"}function Yc(t,e,n){const r=t-n,i=e*r;return n+i}function Yw(t,e,n,r,i){return i!==void 0&&(t=Yc(t,i,r)),Yc(t,n,r)+e}function zp(t,e=0,n=1,r,i){t.min=Yw(t.min,e,n,r,i),t.max=Yw(t.max,e,n,r,i)}function LC(t,{x:e,y:n}){zp(t.x,e.translate,e.scale,e.originPoint),zp(t.y,n.translate,n.scale,n.originPoint)}const Jw=.999999999999,Zw=1.0000000000001;function AL(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&qs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,LC(t,o)),r&&Hi(s.latestValues)&&qs(t,s.latestValues))}e.x<Zw&&e.x>Jw&&(e.x=1),e.y<Zw&&e.y>Jw&&(e.y=1)}function Ks(t,e){t.min=t.min+e,t.max=t.max+e}function e_(t,e,n,r,i=.5){const s=Ne(t.min,t.max,i);zp(t,e,n,s,r)}function qs(t,e){e_(t.x,e.x,e.scaleX,e.scale,e.originX),e_(t.y,e.y,e.scaleY,e.scale,e.originY)}function FC(t,e){return VC(_L(t.getBoundingClientRect(),e))}function RL(t,e,n){const r=FC(t,n),{scroll:i}=e;return i&&(Ks(r.x,i.offset.x),Ks(r.y,i.offset.y)),r}const t_=(t,e)=>Math.abs(t-e);function IL(t,e){const n=t_(t.x,e.x),r=t_(t.y,e.y);return Math.sqrt(n**2+r**2)}class jC{constructor(e,n,{transformPagePoint:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=lf(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,d=IL(h.offset,{x:0,y:0})>=3;if(!f&&!d)return;const{point:m}=h,{timestamp:_}=ct;this.history.push({...m,timestamp:_});const{onStart:w,onMove:E}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{if(h.target instanceof Element&&h.target.hasPointerCapture&&h.pointerId!==void 0)try{if(!h.target.hasPointerCapture(h.pointerId))return}catch{}this.lastMoveEvent=h,this.lastMoveEventInfo=af(f,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{qc(h,"release"),this.end();const{onEnd:d,onSessionEnd:m,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=lf(h.type==="pointercancel"||h.type==="lostpointercapture"?this.lastMoveEventInfo:af(f,this.transformPagePoint),this.history);this.startEvent&&d&&d(h,w),m&&m(h,w)},!Gg(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r;const s=Kl(e),o=af(s,this.transformPagePoint),{point:a}=o,{timestamp:l}=ct;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=n;c&&c(e,lf(o,this.history)),qc(e,"set"),this.removeListeners=Wl(Hs(e.currentTarget,"pointermove",this.handlePointerMove),Hs(e.currentTarget,"pointerup",this.handlePointerUp),Hs(e.currentTarget,"pointercancel",this.handlePointerUp),Hs(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xi(this.updatePoint)}}function af(t,e){return e?{point:e(t.point)}:t}function n_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function lf({point:t},e){return{point:t,delta:n_(t,BC(e)),offset:n_(t,bL(e)),velocity:kL(e,.1)}}function bL(t){return t[0]}function BC(t){return t[t.length-1]}function kL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=BC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>wr(e)));)n--;if(!r)return{x:0,y:0};const s=_r(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function DL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ne(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ne(n,t,r.max):Math.min(t,n)),t}function r_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function VL(t,{top:e,left:n,bottom:r,right:i}){return{x:r_(t.x,n,i),y:r_(t.y,e,r)}}function i_(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ML(t,e){return{x:i_(t.x,e.x),y:i_(t.y,e.y)}}function NL(t,e){let n=.5;const r=Nt(t),i=Nt(e);return i>r?n=xo(e.min,e.max-r,t.min):r>i&&(n=xo(t.min,t.max-i,e.min)),Ar(0,1,n)}function OL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hp=.35;function LL(t=Hp){return t===!1?t=0:t===!0&&(t=Hp),{x:s_(t,"left","right"),y:s_(t,"top","bottom")}}function s_(t,e,n){return{min:o_(t,e),max:o_(t,n)}}function o_(t,e){return typeof t=="number"?t:t[e]||0}const FL=new WeakMap;class jL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Kl(h).point)},s=(h,f)=>{const{drag:d,dragPropagation:m,onDragStart:_}=this.getProps();if(d&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DN(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(E=>{let y=this.getAxisMotionValue(E).get()||0;if(Xn.test(y)){const{projection:v}=this.visualElement;if(v&&v.layout){const x=v.layout.layoutBox[E];x&&(y=Nt(x)*(parseFloat(y)/100))}}this.originPoint[E]=y}),_&&Pe.postRender(()=>_(h,f)),Mp(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:d,dragDirectionLock:m,onDirectionLock:_,onDrag:w}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:E}=f;if(m&&this.currentDirection===null){this.currentDirection=BL(E),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",f.point,E),this.updateAxis("y",f.point,E),this.visualElement.render(),w&&w(h,f)},a=(h,f)=>this.stop(h,f),l=()=>un(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new jC(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Pe.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Bu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=DL(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&$s(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=VL(i.layoutBox,n):this.constraints=!1,this.elastic=LL(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&un(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=OL(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$s(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=RL(r,i.root,this.visualElement.getTransformPagePoint());let o=ML(i.layout.layoutBox,s);if(n){const a=n(wL(o));this.hasMutatedConstraints=!!a,a&&(o=VC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=un(h=>{if(!Bu(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const d=i?200:1e6,m=i?40:1e7,_={type:"inertia",velocity:r?e[h]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Mp(this.visualElement,e),r.start(oy(e,r,0,n,this.visualElement,!1))}stopAnimation(){un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){un(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){un(n=>{const{drag:r}=this.getProps();if(!Bu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$s(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};un(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=NL({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),un(o=>{if(!Bu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ne(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;FL.set(this.visualElement,this);const e=this.visualElement.current,n=Hs(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();$s(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pe.read(r);const o=Tl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(un(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Hp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Bu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function BL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class UL extends Ni{constructor(e){super(e),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new jL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const a_=t=>(e,n)=>{t&&Pe.postRender(()=>t(e,n))};class $L extends Ni{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(e){this.session=new jC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:a_(e),onStart:a_(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Pe.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Hs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function l_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ea={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(re.test(t))t=parseFloat(t);else return t;const n=l_(t,e.target.x),r=l_(t,e.target.y);return`${n}% ${r}%`}},zL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Si.parse(t);if(i.length>5)return r;const s=Si.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ne(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class HL extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;QM(WL),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Pe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Mg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UC(t){const[e,n]=CS(),r=P.useContext(Pg);return K.jsx(HL,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(DS),isPresent:e,safeToRemove:n})}const WL={borderRadius:{...Ea,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ea,borderTopRightRadius:Ea,borderBottomLeftRadius:Ea,borderBottomRightRadius:Ea,boxShadow:zL};function KL(t,e,n){const r=It(t)?t:_l(t);return r.start(oy("",r,e,n)),r.animation}function qL(t){return t instanceof SVGElement&&t.tagName!=="svg"}const GL=(t,e)=>t.depth-e.depth;class QL{constructor(){this.children=[],this.isDirty=!1}add(e){Qg(this.children,e),this.isDirty=!0}remove(e){Xg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GL),this.isDirty=!1,this.children.forEach(e)}}function XL(t,e){const n=Yn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(xi(r),t(s-e))};return Pe.read(r,!0),()=>xi(r)}const $C=["TopLeft","TopRight","BottomLeft","BottomRight"],YL=$C.length,u_=t=>typeof t=="string"?parseFloat(t):t,c_=t=>typeof t=="number"||re.test(t);function JL(t,e,n,r,i,s){i?(t.opacity=Ne(0,n.opacity!==void 0?n.opacity:1,ZL(r)),t.opacityExit=Ne(e.opacity!==void 0?e.opacity:1,0,eF(r))):s&&(t.opacity=Ne(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<YL;o++){const a=`border${$C[o]}Radius`;let l=h_(e,a),c=h_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||c_(l)===c_(c)?(t[a]=Math.max(Ne(u_(l),u_(c),r),0),(Xn.test(c)||Xn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ne(e.rotate||0,n.rotate||0,r))}function h_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ZL=zC(0,.5,aC),eF=zC(.5,.95,nn);function zC(t,e,n){return r=>r<t?0:r>e?1:n(xo(t,e,r))}function d_(t,e){t.min=e.min,t.max=e.max}function ln(t,e){d_(t.x,e.x),d_(t.y,e.y)}function f_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function p_(t,e,n,r,i){return t-=e,t=Yc(t,1/n,r),i!==void 0&&(t=Yc(t,1/i,r)),t}function tF(t,e=0,n=1,r=.5,i,s=t,o=t){if(Xn.test(e)&&(e=parseFloat(e),e=Ne(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ne(s.min,s.max,r);t===s&&(a-=e),t.min=p_(t.min,e,n,a,i),t.max=p_(t.max,e,n,a,i)}function m_(t,e,[n,r,i],s,o){tF(t,e[n],e[r],e[i],e.scale,s,o)}const nF=["x","scaleX","originX"],rF=["y","scaleY","originY"];function g_(t,e,n,r){m_(t.x,e,nF,n?n.x:void 0,r?r.x:void 0),m_(t.y,e,rF,n?n.y:void 0,r?r.y:void 0)}function y_(t){return t.translate===0&&t.scale===1}function HC(t){return y_(t.x)&&y_(t.y)}function v_(t,e){return t.min===e.min&&t.max===e.max}function iF(t,e){return v_(t.x,e.x)&&v_(t.y,e.y)}function w_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function WC(t,e){return w_(t.x,e.x)&&w_(t.y,e.y)}function __(t){return Nt(t.x)/Nt(t.y)}function E_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class sF{constructor(){this.members=[]}add(e){Qg(this.members,e),e.scheduleRender()}remove(e){if(Xg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oF(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:d,skewX:m,skewY:_}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),m&&(r+=`skewX(${m}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const uf=["","X","Y","Z"],aF={visibility:"hidden"},T_=1e3;let lF=0;function cf(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function KC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=eC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Pe,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&KC(r)}function qC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=lF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hF),this.nodes.forEach(gF),this.nodes.forEach(yF),this.nodes.forEach(dF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new QL)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Yg),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qL(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=XL(d,250),ac.hasAnimatedSinceResize&&(ac.hasAnimatedSinceResize=!1,this.nodes.forEach(S_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||TF,{onLayoutAnimationStart:E,onLayoutAnimationComplete:y}=h.getProps(),v=!this.targetLayout||!WC(this.targetLayout,_),x=!d&&m;if(this.options.layoutRoot||this.resumeFrom||x||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const b={...Wg(w,"layout"),onPlay:E,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else d||S_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vF),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(x_);return}this.isUpdating||this.nodes.forEach(pF),this.isUpdating=!1,this.nodes.forEach(mF),this.nodes.forEach(uF),this.nodes.forEach(cF),this.clearAllSnapshots();const a=Yn.now();ct.delta=Ar(0,1e3/60,a-ct.timestamp),ct.timestamp=a,ct.isProcessing=!0,Zd.update.process(ct),Zd.preRender.process(ct),Zd.render.process(ct),ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fF),this.sharedNodes.forEach(wF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!HC(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Hi(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),xF(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return He();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(SF))){const{scroll:h}=this.root;h&&(Ks(l.x,h.offset.x),Ks(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=He();if(ln(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:d}=h;h!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&ln(l,o),Ks(l.x,f.offset.x),Ks(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=He();ln(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&qs(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Hi(h.latestValues)&&qs(l,h.latestValues)}return Hi(this.latestValues)&&qs(l,this.latestValues),l}removeTransform(o){const a=He();ln(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Hi(c.latestValues))continue;$p(c.latestValues)&&c.updateSnapshot();const h=He(),f=c.measurePageBox();ln(h,f),g_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Hi(this.latestValues)&&g_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=ct.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),$a(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ln(this.target,this.layout.layoutBox),LC(this.target,this.targetDelta)):ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),$a(this.relativeTargetOrigin,this.target,m.target),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$p(this.parent.latestValues)||OC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ct.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;ln(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;AL(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=He());const{target:_}=a;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(f_(this.prevProjectionDelta.x,this.projectionDelta.x),f_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ua(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!E_(this.projectionDelta.x,this.prevProjectionDelta.x)||!E_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ws(),this.projectionDelta=Ws(),this.projectionDeltaWithTransform=Ws()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=Ws();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=He(),m=l?l.source:void 0,_=this.layout?this.layout.source:void 0,w=m!==_,E=this.getStack(),y=!E||E.members.length<=1,v=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(EF));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const k=b/1e3;C_(f.x,o.x,k),C_(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($a(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_F(this.relativeTarget,this.relativeTargetOrigin,d,k),x&&iF(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=He()),ln(x,this.relativeTarget)),w&&(this.animationValues=h,JL(h,c,this.latestValues,k,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{ac.hasAnimatedSinceResize=!0,this.currentAnimation=KL(0,T_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&GC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||He();const f=Nt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=Nt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}ln(a,l),qs(a,h),Ua(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sF),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&cf("z",o,c,this.animationValues);for(let h=0;h<uf.length;h++)cf(`rotate${uf[h]}`,o,c,this.animationValues),cf(`skew${uf[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aF;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=sc(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=sc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Hi(this.latestValues)&&(w.transform=h?h({},""):"none",this.hasProjected=!1),w}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=oF(this.projectionDeltaWithTransform,this.treeScale,d),h&&(c.transform=h(d,c.transform));const{x:m,y:_}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${_.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const w in yl){if(d[w]===void 0)continue;const{correct:E,applyTo:y,isCSSVariable:v}=yl[w],x=c.transform==="none"?d[w]:E(d[w],f);if(y){const b=y.length;for(let k=0;k<b;k++)c[y[k]]=x}else v?this.options.visualElement.renderState.vars[w]=x:c[w]=x}return this.options.layoutId&&(c.pointerEvents=f===this?sc(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(x_),this.root.sharedNodes.clear()}}}function uF(t){t.updateLayout()}function cF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?un(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],m=Nt(d);d.min=r[f].min,d.max=d.min+m}):GC(s,n.layoutBox,r)&&un(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],m=Nt(r[f]);d.max=d.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=Ws();Ua(a,r,n.layoutBox);const l=Ws();o?Ua(l,t.applyTransform(i,!0),n.measuredBox):Ua(l,r,n.layoutBox);const c=!HC(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:m}=f;if(d&&m){const _=He();$a(_,n.layoutBox,d.layoutBox);const w=He();$a(w,r,m.layoutBox),WC(_,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=_,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hF(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function dF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fF(t){t.clearSnapshot()}function x_(t){t.clearMeasurements()}function pF(t){t.isLayoutDirty=!1}function mF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function S_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gF(t){t.resolveTargetDelta()}function yF(t){t.calcProjection()}function vF(t){t.resetSkewAndRotation()}function wF(t){t.removeLeadSnapshot()}function C_(t,e,n){t.translate=Ne(e.translate,0,n),t.scale=Ne(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function P_(t,e,n,r){t.min=Ne(e.min,n.min,r),t.max=Ne(e.max,n.max,r)}function _F(t,e,n,r){P_(t.x,e.x,n.x,r),P_(t.y,e.y,n.y,r)}function EF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TF={duration:.45,ease:[.4,0,.1,1]},A_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),R_=A_("applewebkit/")&&!A_("chrome/")?Math.round:nn;function I_(t){t.min=R_(t.min),t.max=R_(t.max)}function xF(t){I_(t.x),I_(t.y)}function GC(t,e,n){return t==="position"||t==="preserve-aspect"&&!CL(__(e),__(n),.2)}function SF(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const CF=qC({attachResizeListener:(t,e)=>Tl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hf={current:void 0},QC=qC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hf.current){const t=new CF({});t.mount(window),t.setOptions({layoutScroll:!0}),hf.current=t}return hf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),PF={pan:{Feature:$L},drag:{Feature:UL,ProjectionNode:QC,MeasureLayout:UC}};function b_(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Pe.postRender(()=>s(e,Kl(e)))}class AF extends Ni{mount(){const{current:e}=this.node;e&&(this.unmount=PN(e,(n,r)=>(b_(this.node,r,"Start"),i=>b_(this.node,i,"End"))))}unmount(){}}class RF extends Ni{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wl(Tl(this.node.current,"focus",()=>this.onFocus()),Tl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function k_(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Pe.postRender(()=>s(e,Kl(e)))}class IF extends Ni{mount(){const{current:e}=this.node;e&&(this.unmount=bN(e,(n,r)=>(k_(this.node,r,"Start"),(i,{success:s})=>k_(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wp=new WeakMap,df=new WeakMap,bF=t=>{const e=Wp.get(t.target);e&&e(t)},kF=t=>{t.forEach(bF)};function DF({root:t,...e}){const n=t||document;df.has(n)||df.set(n,{});const r=df.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(kF,{root:t,...e})),r[i]}function VF(t,e,n){const r=DF(e);return Wp.set(t,n),r.observe(t),()=>{Wp.delete(t),r.unobserve(t)}}const MF={some:0,all:1};class NF extends Ni{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:MF[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),d=c?h:f;d&&d(l)};return VF(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(OF(e,n))&&this.startObserver()}unmount(){}}function OF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const LF={inView:{Feature:NF},tap:{Feature:IF},focus:{Feature:RF},hover:{Feature:AF}},FF={layout:{ProjectionNode:QC,MeasureLayout:UC}},Kp={current:null},XC={current:!1};function jF(){if(XC.current=!0,!!Ig)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kp.current=t.matches;t.addListener(e),e()}else Kp.current=!1}const BF=[...EC,Ct,Si],UF=t=>BF.find(_C(t)),$F=new WeakMap;function zF(t,e,n){for(const r in e){const i=e[r],s=n[r];if(It(i))t.addValue(r,i);else if(It(s))t.addValue(r,_l(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,_l(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const D_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ry,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Yn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Pe.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:h}=o;this.onUpdate=h,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=zh(n),this.isVariantNode=bS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const _=d[m];l[m]!==void 0&&It(_)&&_.set(l[m],!1)}}mount(e){this.current=e,$F.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),XC.current||jF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xi(this.notifyUpdate),xi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=gs.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in So){const n=So[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D_.length;r++){const i=D_[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=zF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_l(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(vC(i)||uC(i))?i=parseFloat(i):!UF(i)&&Si.test(n)&&(i=mC(e,n)),this.setBaseTarget(e,It(i)?i.get():i)),It(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=zg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!It(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Yg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class YC extends HF{constructor(){super(...arguments),this.KeyframeResolver=TC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;It(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function WF(t){return window.getComputedStyle(t)}class KF extends YC{constructor(){super(...arguments),this.type="html",this.renderInstance=US}readValueFromInstance(e,n){if(gs.has(n)){const r=ny(n);return r&&r.default||0}else{const r=WF(e),i=(Ng(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return FC(e,n)}build(e,n,r){Fg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Hg(e,n,r)}}class qF extends YC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=He,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&BS(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(gs.has(n)){const r=ny(n);return r&&r.default||0}return n=$S.has(n)?n:Vg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return HS(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Pe.postRender(this.updateDimensions)}build(e,n,r){Ug(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){zS(e,n,r,i)}mount(e){this.isSVGTag=$g(e.tagName),super.mount(e)}}const GF=(t,e)=>Bg(t)?new qF(e):new KF(e,{allowProjection:t!==P.Fragment}),QF=wN({...yL,...LF,...PF,...FF},GF),kU=NM(QF);var V_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},XF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ZC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(d=64)),r.push(n[h],n[f],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new YF;const d=s<<2|a>>4;if(r.push(d),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JF=function(t){const e=JC(t);return ZC.encodeByteArray(e,!0)},Jc=function(t){return JF(t).replace(/\./g,"")},ZF=function(t){try{return ZC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=()=>e4().__FIREBASE_DEFAULTS__,n4=()=>{if(typeof process>"u"||typeof V_>"u")return;const t=V_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},r4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZF(t[1]);return e&&JSON.parse(e)},ay=()=>{try{return t4()||n4()||r4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i4=t=>{var e,n;return(n=(e=ay())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s4=t=>{const e=i4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eP=()=>{var t;return(t=ay())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jc(JSON.stringify(n)),Jc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u4(){var t;const e=(t=ay())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c4(){return!u4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function h4(){try{return typeof indexedDB=="object"}catch{return!1}}function d4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="FirebaseError";class zo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=f4,Object.setPrototypeOf(this,zo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tP.prototype.create)}}class tP{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?p4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zo(i,a,r)}}function p4(t,e){return t.replace(m4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const m4=/\{\$([^}]+)}/g;function qp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(M_(s)&&M_(o)){if(!qp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function M_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t){return t&&t._delegate?t._delegate:t}class Sl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new o4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v4(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y4(t){return t===Wi?void 0:t}function v4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const _4={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},E4=me.INFO,T4={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},x4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=T4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nP{constructor(e){this.name=e,this._logLevel=E4,this._logHandler=x4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const S4=(t,e)=>e.some(n=>t instanceof n);let N_,O_;function C4(){return N_||(N_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P4(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rP=new WeakMap,Gp=new WeakMap,iP=new WeakMap,ff=new WeakMap,ly=new WeakMap;function A4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(di(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rP.set(n,t)}).catch(()=>{}),ly.set(e,t),e}function R4(t){if(Gp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Gp.set(t,e)}let Qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I4(t){Qp=t(Qp)}function b4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pf(this),e,...n);return iP.set(r,e.sort?e.sort():[e]),di(r)}:P4().includes(t)?function(...e){return t.apply(pf(this),e),di(rP.get(this))}:function(...e){return di(t.apply(pf(this),e))}}function k4(t){return typeof t=="function"?b4(t):(t instanceof IDBTransaction&&R4(t),S4(t,C4())?new Proxy(t,Qp):t)}function di(t){if(t instanceof IDBRequest)return A4(t);if(ff.has(t))return ff.get(t);const e=k4(t);return e!==t&&(ff.set(t,e),ly.set(e,t)),e}const pf=t=>ly.get(t);function D4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(di(o.result),l.oldVersion,l.newVersion,di(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const V4=["get","getKey","getAll","getAllKeys","count"],M4=["put","add","delete","clear"],mf=new Map;function L_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mf.get(e))return mf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=M4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V4.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return mf.set(e,s),s}I4(t=>({...t,get:(e,n,r)=>L_(e,n)||t.get(e,n,r),has:(e,n)=>!!L_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function O4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xp="@firebase/app",F_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new nP("@firebase/app"),L4="@firebase/app-compat",F4="@firebase/analytics-compat",j4="@firebase/analytics",B4="@firebase/app-check-compat",U4="@firebase/app-check",$4="@firebase/auth",z4="@firebase/auth-compat",H4="@firebase/database",W4="@firebase/data-connect",K4="@firebase/database-compat",q4="@firebase/functions",G4="@firebase/functions-compat",Q4="@firebase/installations",X4="@firebase/installations-compat",Y4="@firebase/messaging",J4="@firebase/messaging-compat",Z4="@firebase/performance",e9="@firebase/performance-compat",t9="@firebase/remote-config",n9="@firebase/remote-config-compat",r9="@firebase/storage",i9="@firebase/storage-compat",s9="@firebase/firestore",o9="@firebase/vertexai",a9="@firebase/firestore-compat",l9="firebase",u9="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="[DEFAULT]",c9={[Xp]:"fire-core",[L4]:"fire-core-compat",[j4]:"fire-analytics",[F4]:"fire-analytics-compat",[U4]:"fire-app-check",[B4]:"fire-app-check-compat",[$4]:"fire-auth",[z4]:"fire-auth-compat",[H4]:"fire-rtdb",[W4]:"fire-data-connect",[K4]:"fire-rtdb-compat",[q4]:"fire-fn",[G4]:"fire-fn-compat",[Q4]:"fire-iid",[X4]:"fire-iid-compat",[Y4]:"fire-fcm",[J4]:"fire-fcm-compat",[Z4]:"fire-perf",[e9]:"fire-perf-compat",[t9]:"fire-rc",[n9]:"fire-rc-compat",[r9]:"fire-gcs",[i9]:"fire-gcs-compat",[s9]:"fire-fst",[a9]:"fire-fst-compat",[o9]:"fire-vertex","fire-js":"fire-js",[l9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Map,h9=new Map,Jp=new Map;function j_(t,e){try{t.container.addComponent(e)}catch(n){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eh(t){const e=t.name;if(Jp.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,t);for(const n of Zc.values())j_(n,t);for(const n of h9.values())j_(n,t);return!0}function d9(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function f9(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new tP("app","Firebase",p9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=u9;function y9(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fi.create("bad-app-name",{appName:String(i)});if(n||(n=eP()),!n)throw fi.create("no-options");const s=Zc.get(i);if(s){if(qp(n,s.options)&&qp(r,s.config))return s;throw fi.create("duplicate-app",{appName:i})}const o=new w4(i);for(const l of Jp.values())o.addComponent(l);const a=new m9(n,r,o);return Zc.set(i,a),a}function v9(t=Yp){const e=Zc.get(t);if(!e&&t===Yp&&eP())return y9();if(!e)throw fi.create("no-app",{appName:t});return e}function no(t,e,n){var r;let i=(r=c9[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(a.join(" "));return}eh(new Sl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="firebase-heartbeat-database",_9=1,Cl="firebase-heartbeat-store";let gf=null;function sP(){return gf||(gf=D4(w9,_9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw fi.create("idb-open",{originalErrorMessage:t.message})})),gf}async function E9(t){try{const n=(await sP()).transaction(Cl),r=await n.objectStore(Cl).get(oP(t));return await n.done,r}catch(e){if(e instanceof zo)Rr.warn(e.message);else{const n=fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rr.warn(n.message)}}}async function B_(t,e){try{const r=(await sP()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(e,oP(t)),await r.done}catch(n){if(n instanceof zo)Rr.warn(n.message);else{const r=fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rr.warn(r.message)}}}function oP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=1024,x9=30;class S9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=U_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>x9){const o=A9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U_(),{heartbeatsToSend:r,unsentEntries:i}=C9(this._heartbeatsCache.heartbeats),s=Jc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Rr.warn(n),""}}}function U_(){return new Date().toISOString().substring(0,10)}function C9(t,e=T9){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h4()?d4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $_(t){return Jc(JSON.stringify({version:2,heartbeats:t})).length}function A9(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){eh(new Sl("platform-logger",e=>new N4(e),"PRIVATE")),eh(new Sl("heartbeat",e=>new S9(e),"PRIVATE")),no(Xp,F_,t),no(Xp,F_,"esm2017"),no("fire-js","")}R9("");var I9="firebase",b9="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no(I9,b9,"app");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pi,aP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function A(){}A.prototype=T.prototype,C.D=T.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(R,D,V){for(var I=Array(arguments.length-2),z=2;z<arguments.length;z++)I[z-2]=arguments[z];return T.prototype[D].apply(R,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,T,A){A||(A=0);var R=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)R[D]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(D=0;16>D;++D)R[D]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=C.g[0],A=C.g[1],D=C.g[2];var V=C.g[3],I=T+(V^A&(D^V))+R[0]+3614090360&4294967295;T=A+(I<<7&4294967295|I>>>25),I=V+(D^T&(A^D))+R[1]+3905402710&4294967295,V=T+(I<<12&4294967295|I>>>20),I=D+(A^V&(T^A))+R[2]+606105819&4294967295,D=V+(I<<17&4294967295|I>>>15),I=A+(T^D&(V^T))+R[3]+3250441966&4294967295,A=D+(I<<22&4294967295|I>>>10),I=T+(V^A&(D^V))+R[4]+4118548399&4294967295,T=A+(I<<7&4294967295|I>>>25),I=V+(D^T&(A^D))+R[5]+1200080426&4294967295,V=T+(I<<12&4294967295|I>>>20),I=D+(A^V&(T^A))+R[6]+2821735955&4294967295,D=V+(I<<17&4294967295|I>>>15),I=A+(T^D&(V^T))+R[7]+4249261313&4294967295,A=D+(I<<22&4294967295|I>>>10),I=T+(V^A&(D^V))+R[8]+1770035416&4294967295,T=A+(I<<7&4294967295|I>>>25),I=V+(D^T&(A^D))+R[9]+2336552879&4294967295,V=T+(I<<12&4294967295|I>>>20),I=D+(A^V&(T^A))+R[10]+4294925233&4294967295,D=V+(I<<17&4294967295|I>>>15),I=A+(T^D&(V^T))+R[11]+2304563134&4294967295,A=D+(I<<22&4294967295|I>>>10),I=T+(V^A&(D^V))+R[12]+1804603682&4294967295,T=A+(I<<7&4294967295|I>>>25),I=V+(D^T&(A^D))+R[13]+4254626195&4294967295,V=T+(I<<12&4294967295|I>>>20),I=D+(A^V&(T^A))+R[14]+2792965006&4294967295,D=V+(I<<17&4294967295|I>>>15),I=A+(T^D&(V^T))+R[15]+1236535329&4294967295,A=D+(I<<22&4294967295|I>>>10),I=T+(D^V&(A^D))+R[1]+4129170786&4294967295,T=A+(I<<5&4294967295|I>>>27),I=V+(A^D&(T^A))+R[6]+3225465664&4294967295,V=T+(I<<9&4294967295|I>>>23),I=D+(T^A&(V^T))+R[11]+643717713&4294967295,D=V+(I<<14&4294967295|I>>>18),I=A+(V^T&(D^V))+R[0]+3921069994&4294967295,A=D+(I<<20&4294967295|I>>>12),I=T+(D^V&(A^D))+R[5]+3593408605&4294967295,T=A+(I<<5&4294967295|I>>>27),I=V+(A^D&(T^A))+R[10]+38016083&4294967295,V=T+(I<<9&4294967295|I>>>23),I=D+(T^A&(V^T))+R[15]+3634488961&4294967295,D=V+(I<<14&4294967295|I>>>18),I=A+(V^T&(D^V))+R[4]+3889429448&4294967295,A=D+(I<<20&4294967295|I>>>12),I=T+(D^V&(A^D))+R[9]+568446438&4294967295,T=A+(I<<5&4294967295|I>>>27),I=V+(A^D&(T^A))+R[14]+3275163606&4294967295,V=T+(I<<9&4294967295|I>>>23),I=D+(T^A&(V^T))+R[3]+4107603335&4294967295,D=V+(I<<14&4294967295|I>>>18),I=A+(V^T&(D^V))+R[8]+1163531501&4294967295,A=D+(I<<20&4294967295|I>>>12),I=T+(D^V&(A^D))+R[13]+2850285829&4294967295,T=A+(I<<5&4294967295|I>>>27),I=V+(A^D&(T^A))+R[2]+4243563512&4294967295,V=T+(I<<9&4294967295|I>>>23),I=D+(T^A&(V^T))+R[7]+1735328473&4294967295,D=V+(I<<14&4294967295|I>>>18),I=A+(V^T&(D^V))+R[12]+2368359562&4294967295,A=D+(I<<20&4294967295|I>>>12),I=T+(A^D^V)+R[5]+4294588738&4294967295,T=A+(I<<4&4294967295|I>>>28),I=V+(T^A^D)+R[8]+2272392833&4294967295,V=T+(I<<11&4294967295|I>>>21),I=D+(V^T^A)+R[11]+1839030562&4294967295,D=V+(I<<16&4294967295|I>>>16),I=A+(D^V^T)+R[14]+4259657740&4294967295,A=D+(I<<23&4294967295|I>>>9),I=T+(A^D^V)+R[1]+2763975236&4294967295,T=A+(I<<4&4294967295|I>>>28),I=V+(T^A^D)+R[4]+1272893353&4294967295,V=T+(I<<11&4294967295|I>>>21),I=D+(V^T^A)+R[7]+4139469664&4294967295,D=V+(I<<16&4294967295|I>>>16),I=A+(D^V^T)+R[10]+3200236656&4294967295,A=D+(I<<23&4294967295|I>>>9),I=T+(A^D^V)+R[13]+681279174&4294967295,T=A+(I<<4&4294967295|I>>>28),I=V+(T^A^D)+R[0]+3936430074&4294967295,V=T+(I<<11&4294967295|I>>>21),I=D+(V^T^A)+R[3]+3572445317&4294967295,D=V+(I<<16&4294967295|I>>>16),I=A+(D^V^T)+R[6]+76029189&4294967295,A=D+(I<<23&4294967295|I>>>9),I=T+(A^D^V)+R[9]+3654602809&4294967295,T=A+(I<<4&4294967295|I>>>28),I=V+(T^A^D)+R[12]+3873151461&4294967295,V=T+(I<<11&4294967295|I>>>21),I=D+(V^T^A)+R[15]+530742520&4294967295,D=V+(I<<16&4294967295|I>>>16),I=A+(D^V^T)+R[2]+3299628645&4294967295,A=D+(I<<23&4294967295|I>>>9),I=T+(D^(A|~V))+R[0]+4096336452&4294967295,T=A+(I<<6&4294967295|I>>>26),I=V+(A^(T|~D))+R[7]+1126891415&4294967295,V=T+(I<<10&4294967295|I>>>22),I=D+(T^(V|~A))+R[14]+2878612391&4294967295,D=V+(I<<15&4294967295|I>>>17),I=A+(V^(D|~T))+R[5]+4237533241&4294967295,A=D+(I<<21&4294967295|I>>>11),I=T+(D^(A|~V))+R[12]+1700485571&4294967295,T=A+(I<<6&4294967295|I>>>26),I=V+(A^(T|~D))+R[3]+2399980690&4294967295,V=T+(I<<10&4294967295|I>>>22),I=D+(T^(V|~A))+R[10]+4293915773&4294967295,D=V+(I<<15&4294967295|I>>>17),I=A+(V^(D|~T))+R[1]+2240044497&4294967295,A=D+(I<<21&4294967295|I>>>11),I=T+(D^(A|~V))+R[8]+1873313359&4294967295,T=A+(I<<6&4294967295|I>>>26),I=V+(A^(T|~D))+R[15]+4264355552&4294967295,V=T+(I<<10&4294967295|I>>>22),I=D+(T^(V|~A))+R[6]+2734768916&4294967295,D=V+(I<<15&4294967295|I>>>17),I=A+(V^(D|~T))+R[13]+1309151649&4294967295,A=D+(I<<21&4294967295|I>>>11),I=T+(D^(A|~V))+R[4]+4149444226&4294967295,T=A+(I<<6&4294967295|I>>>26),I=V+(A^(T|~D))+R[11]+3174756917&4294967295,V=T+(I<<10&4294967295|I>>>22),I=D+(T^(V|~A))+R[2]+718787259&4294967295,D=V+(I<<15&4294967295|I>>>17),I=A+(V^(D|~T))+R[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+V&4294967295}r.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var A=T-this.blockSize,R=this.B,D=this.h,V=0;V<T;){if(D==0)for(;V<=A;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<T;)if(R[D++]=C.charCodeAt(V++),D==this.blockSize){i(this,R),D=0;break}}else for(;V<T;)if(R[D++]=C[V++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=T},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var A=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=A&255,A/=256;for(this.u(C),C=Array(16),T=A=0;4>T;++T)for(var R=0;32>R;R+=8)C[A++]=this.g[T]>>>R&255;return C};function s(C,T){var A=a;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=T(C)}function o(C,T){this.h=T;for(var A=[],R=!0,D=C.length-1;0<=D;D--){var V=C[D]|0;R&&V==T||(A[D]=V,R=!1)}this.g=A}var a={};function l(C){return-128<=C&&128>C?s(C,function(T){return new o([T|0],0>T?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return E(c(-C));for(var T=[],A=1,R=0;C>=A;R++)T[R]=C/A|0,A*=4294967296;return new o(T,0)}function h(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return E(h(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(T,8)),R=f,D=0;D<C.length;D+=8){var V=Math.min(8,C.length-D),I=parseInt(C.substring(D,D+V),T);8>V?(V=c(Math.pow(T,V)),R=R.j(V).add(c(I))):(R=R.j(A),R=R.add(c(I)))}return R}var f=l(0),d=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var C=0,T=1,A=0;A<this.g.length;A++){var R=this.i(A);C+=(0<=R?R:4294967296+R)*T,T*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(_(this))return"0";if(w(this))return"-"+E(this).toString(C);for(var T=c(Math.pow(C,6)),A=this,R="";;){var D=b(A,T).g;A=y(A,D.j(T));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=D,_(A))return V+R;for(;6>V.length;)V="0"+V;R=V+R}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function _(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=y(this,C),w(C)?-1:_(C)?0:1};function E(C){for(var T=C.g.length,A=[],R=0;R<T;R++)A[R]=~C.g[R];return new o(A,~C.h).add(d)}t.abs=function(){return w(this)?E(this):this},t.add=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0,D=0;D<=T;D++){var V=R+(this.i(D)&65535)+(C.i(D)&65535),I=(V>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);R=I>>>16,V&=65535,I&=65535,A[D]=I<<16|V}return new o(A,A[A.length-1]&-2147483648?-1:0)};function y(C,T){return C.add(E(T))}t.j=function(C){if(_(this)||_(C))return f;if(w(this))return w(C)?E(this).j(E(C)):E(E(this).j(C));if(w(C))return E(this.j(E(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var T=this.g.length+C.g.length,A=[],R=0;R<2*T;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<C.g.length;D++){var V=this.i(R)>>>16,I=this.i(R)&65535,z=C.i(D)>>>16,ae=C.i(D)&65535;A[2*R+2*D]+=I*ae,v(A,2*R+2*D),A[2*R+2*D+1]+=V*ae,v(A,2*R+2*D+1),A[2*R+2*D+1]+=I*z,v(A,2*R+2*D+1),A[2*R+2*D+2]+=V*z,v(A,2*R+2*D+2)}for(R=0;R<T;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=T;R<2*T;R++)A[R]=0;return new o(A,0)};function v(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function x(C,T){this.g=C,this.h=T}function b(C,T){if(_(T))throw Error("division by zero");if(_(C))return new x(f,f);if(w(C))return T=b(E(C),T),new x(E(T.g),E(T.h));if(w(T))return T=b(C,E(T)),new x(E(T.g),T.h);if(30<C.g.length){if(w(C)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var A=d,R=T;0>=R.l(C);)A=k(A),R=k(R);var D=M(A,1),V=M(R,1);for(R=M(R,2),A=M(A,2);!_(R);){var I=V.add(R);0>=I.l(C)&&(D=D.add(A),V=I),R=M(R,1),A=M(A,1)}return T=y(C,D.j(T)),new x(D,T)}for(D=f;0<=C.l(T);){for(A=Math.max(1,Math.floor(C.m()/T.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),V=c(A),I=V.j(T);w(I)||0<I.l(C);)A-=R,V=c(A),I=V.j(T);_(V)&&(V=d),D=D.add(V),C=y(C,I)}return new x(D,C)}t.A=function(C){return b(this,C).h},t.and=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)&C.i(R);return new o(A,this.h&C.h)},t.or=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)|C.i(R);return new o(A,this.h|C.h)},t.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),A=[],R=0;R<T;R++)A[R]=this.i(R)^C.i(R);return new o(A,this.h^C.h)};function k(C){for(var T=C.g.length+1,A=[],R=0;R<T;R++)A[R]=C.i(R)<<1|C.i(R-1)>>>31;return new o(A,C.h)}function M(C,T){var A=T>>5;T%=32;for(var R=C.g.length-A,D=[],V=0;V<R;V++)D[V]=0<T?C.i(V+A)>>>T|C.i(V+A+1)<<32-T:C.i(V+A);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,pi=o}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lP,Ra,uP,lc,Zp,cP,hP,dP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var g=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var N=u[S];if(!(N in g))break e;g=g[N]}u=u[u.length-1],S=g[u],p=p(S),p!=S&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var g=0,S=!1,N={next:function(){if(!S&&g<u.length){var L=g++;return{value:p(L,u[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,g){return u.call.apply(u.bind,arguments)}function f(u,p,g){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,S),u.apply(p,N)}}return function(){return u.apply(p,arguments)}}function d(u,p,g){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function m(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function _(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(S,N,L){for(var H=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)H[Se-2]=arguments[Se];return p.prototype[N].apply(S,H)}}function w(u){const p=u.length;if(0<p){const g=Array(p);for(let S=0;S<p;S++)g[S]=u[S];return g}return[]}function E(u,p){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const N=u.length||0,L=S.length||0;u.length=N+L;for(let H=0;H<L;H++)u[N+H]=S[H]}else u.push(S)}}class y{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function b(u){return b[" "](u),u}b[" "]=function(){};var k=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(u,p,g){for(const S in u)p.call(g,u[S],S,u)}function C(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function T(u){const p={};for(const g in u)p[g]=u[g];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,p){let g,S;for(let N=1;N<arguments.length;N++){S=arguments[N];for(g in S)u[g]=S[g];for(let L=0;L<A.length;L++)g=A[L],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function D(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function V(u){a.setTimeout(()=>{throw u},0)}function I(){var u=$;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class z{constructor(){this.h=this.g=null}add(p,g){const S=ae.get();S.set(p,g),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new y(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,O=!1,$=new z,X=()=>{const u=a.Promise.resolve(void 0);Y=()=>{u.then(G)}};var G=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(g){V(g)}var p=ae;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}O=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function Je(u,p){if(ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(k){e:{try{b(p.nodeName);var N=!0;break e}catch{}N=!1}N||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Je.aa.h.call(this)}}_(Je,ee);var ve={2:"touch",3:"pen",4:"mouse"};Je.prototype.h=function(){Je.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),On=0;function Ln(u,p,g,S,N){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!S,this.ha=N,this.key=++On,this.da=this.fa=!1}function qt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function or(u){this.src=u,this.g={},this.h=0}or.prototype.add=function(u,p,g,S,N){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var H=vn(u,p,S,N);return-1<H?(p=u[H],g||(p.fa=!1)):(p=new Ln(p,this.src,L,!!S,N),p.fa=g,u.push(p)),p};function Fn(u,p){var g=p.type;if(g in u.g){var S=u.g[g],N=Array.prototype.indexOf.call(S,p,void 0),L;(L=0<=N)&&Array.prototype.splice.call(S,N,1),L&&(qt(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function vn(u,p,g,S){for(var N=0;N<u.length;++N){var L=u[N];if(!L.da&&L.listener==p&&L.capture==!!g&&L.ha==S)return N}return-1}var ar="closure_lm_"+(1e6*Math.random()|0),Dr={};function wn(u,p,g,S,N){if(Array.isArray(p)){for(var L=0;L<p.length;L++)wn(u,p[L],g,S,N);return null}return g=Yo(g),u&&u[gt]?u.K(p,g,c(S)?!!S.capture:!!S,N):Go(u,p,g,!1,S,N)}function Go(u,p,g,S,N,L){if(!p)throw Error("Invalid event type");var H=c(N)?!!N.capture:!!N,Se=Vr(u);if(Se||(u[ar]=Se=new or(u)),g=Se.add(p,g,S,H,L),g.proxy)return g;if(S=Qo(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)Ae||(N=H),N===void 0&&(N=!1),u.addEventListener(p.toString(),S,N);else if(u.attachEvent)u.attachEvent(Yl(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Qo(){function u(g){return p.call(u.src,u.listener,g)}const p=sd;return u}function qe(u,p,g,S,N){if(Array.isArray(p))for(var L=0;L<p.length;L++)qe(u,p[L],g,S,N);else S=c(S)?!!S.capture:!!S,g=Yo(g),u&&u[gt]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],g=vn(L,g,S,N),-1<g&&(qt(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=Vr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=vn(p,g,S,N)),(g=-1<u?p[u]:null)&&jn(g))}function jn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[gt])Fn(p.i,u);else{var g=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(g,S,u.capture):p.detachEvent?p.detachEvent(Yl(g),S):p.addListener&&p.removeListener&&p.removeListener(S),(g=Vr(p))?(Fn(g,u),g.h==0&&(g.src=null,p[ar]=null)):qt(u)}}}function Yl(u){return u in Dr?Dr[u]:Dr[u]="on"+u}function sd(u,p){if(u.da)u=!0;else{p=new Je(p,this);var g=u.listener,S=u.ha||u.src;u.fa&&jn(u),u=g.call(S,p)}return u}function Vr(u){return u=u[ar],u instanceof or?u:null}var Xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yo(u){return typeof u=="function"?u:(u[Xo]||(u[Xo]=function(p){return u.handleEvent(p)}),u[Xo])}function Ge(){J.call(this),this.i=new or(this),this.M=this,this.F=null}_(Ge,J),Ge.prototype[gt]=!0,Ge.prototype.removeEventListener=function(u,p,g,S){qe(this,u,p,g,S)};function je(u,p){var g,S=u.F;if(S)for(g=[];S;S=S.F)g.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new ee(p,u);else if(p instanceof ee)p.target=p.target||u;else{var N=p;p=new ee(S,u),R(p,N)}if(N=!0,g)for(var L=g.length-1;0<=L;L--){var H=p.g=g[L];N=Oi(H,S,!0,p)&&N}if(H=p.g=u,N=Oi(H,S,!0,p)&&N,N=Oi(H,S,!1,p)&&N,g)for(L=0;L<g.length;L++)H=p.g=g[L],N=Oi(H,S,!1,p)&&N}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],S=0;S<g.length;S++)qt(g[S]);delete u.g[p],u.h--}}this.F=null},Ge.prototype.K=function(u,p,g,S){return this.i.add(String(u),p,!1,g,S)},Ge.prototype.L=function(u,p,g,S){return this.i.add(String(u),p,!0,g,S)};function Oi(u,p,g,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var N=!0,L=0;L<p.length;++L){var H=p[L];if(H&&!H.da&&H.capture==g){var Se=H.listener,lt=H.ha||H.src;H.fa&&Fn(u.i,H),N=Se.call(lt,S)!==!1&&N}}return N&&!S.defaultPrevented}function lr(u,p,g){if(typeof u=="function")g&&(u=d(u,g));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Jo(u){u.g=lr(()=>{u.g=null,u.i&&(u.i=!1,Jo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class od extends J{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Jo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){J.call(this),this.h=u,this.g={}}_(Mr,J);var Zo=[];function Jl(u){M(u.g,function(p,g){this.g.hasOwnProperty(g)&&jn(p)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Jl(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Li=a.JSON.stringify,Bn=a.JSON.parse,ad=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function se(){}se.prototype.h=null;function xe(u){return u.h||(u.h=u.i())}function Ee(){}var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jt(){ee.call(this,"d")}_(jt,ee);function Nr(){ee.call(this,"c")}_(Nr,ee);var ur={},jy=null;function Zl(){return jy=jy||new Ge}ur.La="serverreachability";function By(u){ee.call(this,ur.La,u)}_(By,ee);function ea(u){const p=Zl();je(p,new By(p))}ur.STAT_EVENT="statevent";function Uy(u,p){ee.call(this,ur.STAT_EVENT,u),this.stat=p}_(Uy,ee);function kt(u){const p=Zl();je(p,new Uy(p,u))}ur.Ma="timingevent";function $y(u,p){ee.call(this,ur.Ma,u),this.size=p}_($y,ee);function ta(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function na(){this.g=!0}na.prototype.xa=function(){this.g=!1};function BA(u,p,g,S,N,L){u.info(function(){if(u.g)if(L)for(var H="",Se=L.split("&"),lt=0;lt<Se.length;lt++){var ye=Se[lt].split("=");if(1<ye.length){var vt=ye[0];ye=ye[1];var wt=vt.split("_");H=2<=wt.length&&wt[1]=="type"?H+(vt+"="+ye+"&"):H+(vt+"=redacted&")}}else H=null;else H=L;return"XMLHTTP REQ ("+S+") [attempt "+N+"]: "+p+`
`+g+`
`+H})}function UA(u,p,g,S,N,L,H){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+N+"]: "+p+`
`+g+`
`+L+" "+H})}function Es(u,p,g,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+zA(u,g)+(S?" "+S:"")})}function $A(u,p){u.info(function(){return"TIMEOUT: "+p})}na.prototype.info=function(){};function zA(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var S=g[u];if(!(2>S.length)){var N=S[1];if(Array.isArray(N)&&!(1>N.length)){var L=N[0];if(L!="noop"&&L!="stop"&&L!="close")for(var H=1;H<N.length;H++)N[H]=""}}}}return Li(g)}catch{return p}}var eu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ld;function tu(){}_(tu,se),tu.prototype.g=function(){return new XMLHttpRequest},tu.prototype.i=function(){return{}},ld=new tu;function Or(u,p,g,S){this.j=u,this.i=p,this.l=g,this.R=S||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hy}function Hy(){this.i=null,this.g="",this.h=!1}var Wy={},ud={};function cd(u,p,g){u.L=1,u.v=su(cr(p)),u.m=g,u.P=!0,Ky(u,null)}function Ky(u,p){u.F=Date.now(),nu(u),u.A=cr(u.v);var g=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),ov(g.i,"t",S),u.C=0,g=u.j.J,u.h=new Hy,u.g=Sv(u.j,g?p:null,!u.m),0<u.O&&(u.M=new od(d(u.Y,u,u.g),u.O)),p=u.U,g=u.g,S=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(Zo[0]=N.toString()),N=Zo);for(var L=0;L<N.length;L++){var H=wn(g,N[L],S||p.handleEvent,!1,p.h||p);if(!H)break;p.g[H.key]=H}p=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ea(),BA(u.i,u.u,u.A,u.l,u.R,u.m)}Or.prototype.ca=function(u){u=u.target;const p=this.M;p&&hr(u)==3?p.j():this.Y(u)},Or.prototype.Y=function(u){try{if(u==this.g)e:{const wt=hr(this.g);var p=this.g.Ba();const Ss=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||fv(this.g)))){this.J||wt!=4||p==7||(p==8||0>=Ss?ea(3):ea(2)),hd(this);var g=this.g.Z();this.X=g;t:if(qy(this)){var S=fv(this.g);u="";var N=S.length,L=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fi(this),ra(this);var H="";break t}this.h.i=new a.TextDecoder}for(p=0;p<N;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(L&&p==N-1)});S.length=0,this.h.g+=u,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=g==200,UA(this.i,this.u,this.A,this.l,this.R,wt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,lt=this.g;if((Se=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Se)){var ye=Se;break t}}ye=null}if(g=ye)Es(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dd(this,g);else{this.o=!1,this.s=3,kt(12),Fi(this),ra(this);break e}}if(this.P){g=!0;let _n;for(;!this.J&&this.C<H.length;)if(_n=HA(this,H),_n==ud){wt==4&&(this.s=4,kt(14),g=!1),Es(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Wy){this.s=4,kt(15),Es(this.i,this.l,H,"[Invalid Chunk]"),g=!1;break}else Es(this.i,this.l,_n,null),dd(this,_n);if(qy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||H.length!=0||this.h.h||(this.s=1,kt(16),g=!1),this.o=this.o&&g,!g)Es(this.i,this.l,H,"[Invalid Chunked Response]"),Fi(this),ra(this);else if(0<H.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),vd(vt),vt.M=!0,kt(11))}}else Es(this.i,this.l,H,null),dd(this,H);wt==4&&Fi(this),this.o&&!this.J&&(wt==4?_v(this.j,this):(this.o=!1,nu(this)))}else aR(this.g),g==400&&0<H.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Fi(this),ra(this)}}}catch{}finally{}};function qy(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function HA(u,p){var g=u.C,S=p.indexOf(`
`,g);return S==-1?ud:(g=Number(p.substring(g,S)),isNaN(g)?Wy:(S+=1,S+g>p.length?ud:(p=p.slice(S,S+g),u.C=S+g,p)))}Or.prototype.cancel=function(){this.J=!0,Fi(this)};function nu(u){u.S=Date.now()+u.I,Gy(u,u.I)}function Gy(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ta(d(u.ba,u),p)}function hd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Or.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($A(this.i,this.A),this.L!=2&&(ea(),kt(17)),Fi(this),this.s=2,ra(this)):Gy(this,this.S-u)};function ra(u){u.j.G==0||u.J||_v(u.j,u)}function Fi(u){hd(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Jl(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function dd(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||fd(g.h,u))){if(!u.K&&fd(g.h,u)&&g.G==3){try{var S=g.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var N=S;if(N[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)hu(g),uu(g);else break e;yd(g),kt(18)}}else g.za=N[1],0<g.za-g.T&&37500>N[2]&&g.F&&g.v==0&&!g.C&&(g.C=ta(d(g.Za,g),6e3));if(1>=Yy(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Bi(g,11)}else if((u.K||g.g==u)&&hu(g),!v(p))for(N=g.Da.g.parse(p),p=0;p<N.length;p++){let ye=N[p];if(g.T=ye[0],ye=ye[1],g.G==2)if(ye[0]=="c"){g.K=ye[1],g.ia=ye[2];const vt=ye[3];vt!=null&&(g.la=vt,g.j.info("VER="+g.la));const wt=ye[4];wt!=null&&(g.Aa=wt,g.j.info("SVER="+g.Aa));const Ss=ye[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&(S=1.5*Ss,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const _n=u.g;if(_n){const fu=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fu){var L=S.h;L.g||fu.indexOf("spdy")==-1&&fu.indexOf("quic")==-1&&fu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(pd(L,L.h),L.h=null))}if(S.D){const wd=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;wd&&(S.ya=wd,Re(S.I,S.D,wd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var H=u;if(S.qa=xv(S,S.J?S.ia:null,S.W),H.K){Jy(S.h,H);var Se=H,lt=S.L;lt&&(Se.I=lt),Se.B&&(hd(Se),nu(Se)),S.g=H}else vv(S);0<g.i.length&&cu(g)}else ye[0]!="stop"&&ye[0]!="close"||Bi(g,7);else g.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Bi(g,7):gd(g):ye[0]!="noop"&&g.l&&g.l.ta(ye),g.v=0)}}ea(4)}catch{}}var WA=class{constructor(u,p){this.g=u,this.map=p}};function Qy(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yy(u){return u.h?1:u.g?u.g.size:0}function fd(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function pd(u,p){u.g?u.g.add(p):u.h=p}function Jy(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Qy.prototype.cancel=function(){if(this.i=Zy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zy(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return w(u.i)}function KA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,S=0;S<g;S++)p.push(u[S]);return p}p=[],g=0;for(S in u)p[g++]=u[S];return p}function qA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const S in u)p[g++]=S;return p}}}function ev(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=qA(u),S=KA(u),N=S.length,L=0;L<N;L++)p.call(void 0,S[L],g&&g[L],u)}var tv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GA(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var S=u[g].indexOf("="),N=null;if(0<=S){var L=u[g].substring(0,S);N=u[g].substring(S+1)}else L=u[g];p(L,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function ji(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ji){this.h=u.h,ru(this,u.j),this.o=u.o,this.g=u.g,iu(this,u.s),this.l=u.l;var p=u.i,g=new oa;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),nv(this,g),this.m=u.m}else u&&(p=String(u).match(tv))?(this.h=!1,ru(this,p[1]||"",!0),this.o=ia(p[2]||""),this.g=ia(p[3]||"",!0),iu(this,p[4]),this.l=ia(p[5]||"",!0),nv(this,p[6]||"",!0),this.m=ia(p[7]||"")):(this.h=!1,this.i=new oa(null,this.h))}ji.prototype.toString=function(){var u=[],p=this.j;p&&u.push(sa(p,rv,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(sa(p,rv,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(sa(g,g.charAt(0)=="/"?YA:XA,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",sa(g,ZA)),u.join("")};function cr(u){return new ji(u)}function ru(u,p,g){u.j=g?ia(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function iu(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function nv(u,p,g){p instanceof oa?(u.i=p,eR(u.i,u.h)):(g||(p=sa(p,JA)),u.i=new oa(p,u.h))}function Re(u,p,g){u.i.set(p,g)}function su(u){return Re(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ia(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function sa(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,QA),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function QA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rv=/[#\/\?@]/g,XA=/[#\?:]/g,YA=/[#\?]/g,JA=/[#\?@]/g,ZA=/#/g;function oa(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Lr(u){u.g||(u.g=new Map,u.h=0,u.i&&GA(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=oa.prototype,t.add=function(u,p){Lr(this),this.i=null,u=Ts(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function iv(u,p){Lr(u),p=Ts(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function sv(u,p){return Lr(u),p=Ts(u,p),u.g.has(p)}t.forEach=function(u,p){Lr(this),this.g.forEach(function(g,S){g.forEach(function(N){u.call(p,N,S,this)},this)},this)},t.na=function(){Lr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let S=0;S<p.length;S++){const N=u[S];for(let L=0;L<N.length;L++)g.push(p[S])}return g},t.V=function(u){Lr(this);let p=[];if(typeof u=="string")sv(this,u)&&(p=p.concat(this.g.get(Ts(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return Lr(this),this.i=null,u=Ts(this,u),sv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function ov(u,p,g){iv(u,p),0<g.length&&(u.i=null,u.g.set(Ts(u,p),w(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var S=p[g];const L=encodeURIComponent(String(S)),H=this.V(S);for(S=0;S<H.length;S++){var N=L;H[S]!==""&&(N+="="+encodeURIComponent(String(H[S]))),u.push(N)}}return this.i=u.join("&")};function Ts(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function eR(u,p){p&&!u.j&&(Lr(u),u.i=null,u.g.forEach(function(g,S){var N=S.toLowerCase();S!=N&&(iv(this,S),ov(this,N,g))},u)),u.j=p}function tR(u,p){const g=new na;if(a.Image){const S=new Image;S.onload=m(Fr,g,"TestLoadImage: loaded",!0,p,S),S.onerror=m(Fr,g,"TestLoadImage: error",!1,p,S),S.onabort=m(Fr,g,"TestLoadImage: abort",!1,p,S),S.ontimeout=m(Fr,g,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function nR(u,p){const g=new na,S=new AbortController,N=setTimeout(()=>{S.abort(),Fr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(L=>{clearTimeout(N),L.ok?Fr(g,"TestPingServer: ok",!0,p):Fr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(N),Fr(g,"TestPingServer: error",!1,p)})}function Fr(u,p,g,S,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),S(g)}catch{}}function rR(){this.g=new ad}function iR(u,p,g){const S=g||"";try{ev(u,function(N,L){let H=N;c(N)&&(H=Li(N)),p.push(S+L+"="+encodeURIComponent(H))})}catch(N){throw p.push(S+"type="+encodeURIComponent("_badmap")),N}}function ou(u){this.l=u.Ub||null,this.j=u.eb||!1}_(ou,se),ou.prototype.g=function(){return new au(this.l,this.j)},ou.prototype.i=function(u){return function(){return u}}({});function au(u,p){Ge.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(au,Ge),t=au.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,la(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,aa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,la(this)),this.g&&(this.readyState=3,la(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;av(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function av(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?aa(this):la(this),this.readyState==3&&av(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,aa(this))},t.Qa=function(u){this.g&&(this.response=u,aa(this))},t.ga=function(){this.g&&aa(this)};function aa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,la(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function la(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function lv(u){let p="";return M(u,function(g,S){p+=S,p+=":",p+=g,p+=`\r
`}),p}function md(u,p,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=lv(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Re(u,p,g))}function Be(u){Ge.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Be,Ge);var sR=/^https?$/i,oR=["POST","PUT"];t=Be.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ld.g(),this.v=this.o?xe(this.o):xe(ld),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){uv(this,L);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var N in S)g.set(N,S[N]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())g.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),N=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(oR,p,void 0))||S||N||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of g)this.g.setRequestHeader(L,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dv(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){uv(this,L)}};function uv(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,cv(u),lu(u)}function cv(u){u.A||(u.A=!0,je(u,"complete"),je(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,je(this,"complete"),je(this,"abort"),lu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lu(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hv(this):this.bb())},t.bb=function(){hv(this)};function hv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||hr(u)!=4||u.Z()!=2)){if(u.u&&hr(u)==4)lr(u.Ea,0,u);else if(je(u,"readystatechange"),hr(u)==4){u.h=!1;try{const H=u.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var S;if(S=H===0){var N=String(u.D).match(tv)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),S=!sR.test(N?N.toLowerCase():"")}g=S}if(g)je(u,"complete"),je(u,"success");else{u.m=6;try{var L=2<hr(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",cv(u)}}finally{lu(u)}}}}function lu(u,p){if(u.g){dv(u);const g=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||je(u,"ready");try{g.onreadystatechange=S}catch{}}}function dv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function hr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Bn(p)}};function fv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function aR(u){const p={};u=(u.g&&2<=hr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(v(u[S]))continue;var g=D(u[S]);const N=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=p[N]||[];p[N]=L,L.push(g)}C(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function pv(u){this.Aa=0,this.i=[],this.j=new na,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,u),this.cb=ua("retryDelaySeedMs",1e4,u),this.Wa=ua("forwardChannelMaxRetries",2,u),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Qy(u&&u.concurrentRequestLimit),this.Da=new rR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pv.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,S){kt(0),this.W=u,this.H=p||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=xv(this,null,this.W),cu(this)};function gd(u){if(mv(u),u.G==3){var p=u.U++,g=cr(u.I);if(Re(g,"SID",u.K),Re(g,"RID",p),Re(g,"TYPE","terminate"),ca(u,g),p=new Or(u,u.j,p),p.L=2,p.v=su(cr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=Sv(p.j,null),p.g.ea(p.v)),p.F=Date.now(),nu(p)}Tv(u)}function uu(u){u.g&&(vd(u),u.g.cancel(),u.g=null)}function mv(u){uu(u),u.u&&(a.clearTimeout(u.u),u.u=null),hu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function cu(u){if(!Xy(u.h)&&!u.s){u.s=!0;var p=u.Ga;Y||X(),O||(Y(),O=!0),$.add(p,u),u.B=0}}function lR(u,p){return Yy(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ta(d(u.Ga,u,p),Ev(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const N=new Or(this,this.j,u);let L=this.o;if(this.S&&(L?(L=T(L),R(L,this.S)):L=this.S),this.m!==null||this.O||(N.H=L,L=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=yv(this,N,p),g=cr(this.I),Re(g,"RID",u),Re(g,"CVER",22),this.D&&Re(g,"X-HTTP-Session-Id",this.D),ca(this,g),L&&(this.O?p="headers="+encodeURIComponent(String(lv(L)))+"&"+p:this.m&&md(g,this.m,L)),pd(this.h,N),this.Ua&&Re(g,"TYPE","init"),this.P?(Re(g,"$req",p),Re(g,"SID","null"),N.T=!0,cd(N,g,null)):cd(N,g,p),this.G=2}}else this.G==3&&(u?gv(this,u):this.i.length==0||Xy(this.h)||gv(this))};function gv(u,p){var g;p?g=p.l:g=u.U++;const S=cr(u.I);Re(S,"SID",u.K),Re(S,"RID",g),Re(S,"AID",u.T),ca(u,S),u.m&&u.o&&md(S,u.m,u.o),g=new Or(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=yv(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pd(u.h,g),cd(g,S,p)}function ca(u,p){u.H&&M(u.H,function(g,S){Re(p,S,g)}),u.l&&ev({},function(g,S){Re(p,S,g)})}function yv(u,p,g){g=Math.min(u.i.length,g);var S=u.l?d(u.l.Na,u.l,u):null;e:{var N=u.i;let L=-1;for(;;){const H=["count="+g];L==-1?0<g?(L=N[0].g,H.push("ofs="+L)):L=0:H.push("ofs="+L);let Se=!0;for(let lt=0;lt<g;lt++){let ye=N[lt].g;const vt=N[lt].map;if(ye-=L,0>ye)L=Math.max(0,N[lt].g-100),Se=!1;else try{iR(vt,H,"req"+ye+"_")}catch{S&&S(vt)}}if(Se){S=H.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,S}function vv(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Y||X(),O||(Y(),O=!0),$.add(p,u),u.v=0}}function yd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ta(d(u.Fa,u),Ev(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,wv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ta(d(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),uu(this),wv(this))};function vd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function wv(u){u.g=new Or(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=cr(u.qa);Re(p,"RID","rpc"),Re(p,"SID",u.K),Re(p,"AID",u.T),Re(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Re(p,"TO",u.ja),Re(p,"TYPE","xmlhttp"),ca(u,p),u.m&&u.o&&md(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=su(cr(p)),g.m=null,g.P=!0,Ky(g,u)}t.Za=function(){this.C!=null&&(this.C=null,uu(this),yd(this),kt(19))};function hu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function _v(u,p){var g=null;if(u.g==p){hu(u),vd(u),u.g=null;var S=2}else if(fd(u.h,p))g=p.D,Jy(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var N=u.B;S=Zl(),je(S,new $y(S,g)),cu(u)}else vv(u);else if(N=p.s,N==3||N==0&&0<p.X||!(S==1&&lR(u,p)||S==2&&yd(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),N){case 1:Bi(u,5);break;case 4:Bi(u,10);break;case 3:Bi(u,6);break;default:Bi(u,2)}}}function Ev(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function Bi(u,p){if(u.j.info("Error code "+p),p==2){var g=d(u.fb,u),S=u.Xa;const N=!S;S=new ji(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ru(S,"https"),su(S),N?tR(S.toString(),g):nR(S.toString(),g)}else kt(2);u.G=0,u.l&&u.l.sa(p),Tv(u),mv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Tv(u){if(u.G=0,u.ka=[],u.l){const p=Zy(u.h);(p.length!=0||u.i.length!=0)&&(E(u.ka,p),E(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function xv(u,p,g){var S=g instanceof ji?cr(g):new ji(g);if(S.g!="")p&&(S.g=p+"."+S.g),iu(S,S.s);else{var N=a.location;S=N.protocol,p=p?p+"."+N.hostname:N.hostname,N=+N.port;var L=new ji(null);S&&ru(L,S),p&&(L.g=p),N&&iu(L,N),g&&(L.l=g),S=L}return g=u.D,p=u.ya,g&&p&&Re(S,g,p),Re(S,"VER",u.la),ca(u,S),S}function Sv(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Be(new ou({eb:g})):new Be(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cv(){}t=Cv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function du(){}du.prototype.g=function(u,p){return new Gt(u,p)};function Gt(u,p){Ge.call(this),this.g=new pv(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!v(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new xs(this)}_(Gt,Ge),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){gd(this.g)},Gt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Li(u),u=g);p.i.push(new WA(p.Ya++,u)),p.G==3&&cu(p)},Gt.prototype.N=function(){this.g.l=null,delete this.j,gd(this.g),delete this.g,Gt.aa.N.call(this)};function Pv(u){jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_(Pv,jt);function Av(){Nr.call(this),this.status=1}_(Av,Nr);function xs(u){this.g=u}_(xs,Cv),xs.prototype.ua=function(){je(this.g,"a")},xs.prototype.ta=function(u){je(this.g,new Pv(u))},xs.prototype.sa=function(u){je(this.g,new Av)},xs.prototype.ra=function(){je(this.g,"b")},du.prototype.createWebChannel=du.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,dP=function(){return new du},hP=function(){return Zl()},cP=ur,Zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eu.NO_ERROR=0,eu.TIMEOUT=8,eu.HTTP_ERROR=6,lc=eu,zy.COMPLETE="complete",uP=zy,Ee.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,Ra=Ee,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,lP=Be}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",W_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new nP("@firebase/firestore");function Ps(){return hs.logLevel}function q(t,...e){if(hs.logLevel<=me.DEBUG){const n=e.map(uy);hs.debug(`Firestore (${Ho}): ${t}`,...n)}}function Ir(t,...e){if(hs.logLevel<=me.ERROR){const n=e.map(uy);hs.error(`Firestore (${Ho}): ${t}`,...n)}}function Po(t,...e){if(hs.logLevel<=me.WARN){const n=e.map(uy);hs.warn(`Firestore (${Ho}): ${t}`,...n)}}function uy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+t;throw Ir(e),new Error(e)}function _e(t,e){t||ie()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends zo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class D9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V9{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new fP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new Pt(e)}}class M9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class N9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new M9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O9{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,f9(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new K_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new K_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=L9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function Ao(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=-62135596800,G_=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*G_);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<q_)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G_}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new rt(0,0))}static max(){return new oe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class zn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=zn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=zn.isNumericId(e),i=zn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?zn.extractNumericId(e).compare(zn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pi.fromString(e.substring(4,e.length-2))}}class Ve extends zn{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const F9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends zn{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return F9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new dt([Q_])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ve.fromString(e))}static fromName(e){return new te(Ve.fromString(e).popFirst(5))}static empty(){return new te(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function j9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Ci(i,te.empty(),e)}function B9(t){return new Ci(t.readTime,t.key,Pl)}class Ci{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ci(oe.min(),te.empty(),Pl)}static max(){return new Ci(oe.max(),te.empty(),Pl)}}function U9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==$9)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function H9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-1;function Kh(t){return t==null}function th(t){return t===0&&1/t==-1/0}function W9(t){return typeof t=="number"&&Number.isInteger(t)&&!th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="";function K9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=X_(e)),e=q9(t.get(n),e);return X_(e)}function q9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case mP:n+="";break;default:n+=s}}return n}function X_(t){return t+mP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new it(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yP("Invalid base64 string: "+s):s}}(e);return new mt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const G9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(_e(!!t),typeof t=="string"){let e=0;const n=G9.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ai(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="server_timestamp",wP="__type__",_P="__previous_value__",EP="__local_write_time__";function hy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wP])===null||n===void 0?void 0:n.stringValue)===vP}function qh(t){const e=t.mapValue.fields[_P];return hy(e)?qh(e):e}function Al(t){const e=Pi(t.mapValue.fields[EP].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const nh="(default)";class Rl{constructor(e,n){this.projectId=e,this.database=n||nh}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===nh}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="__type__",xP="__max__",zu={mapValue:{fields:{__type__:{stringValue:xP}}}},SP="__vector__",rh="value";function Ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hy(t)?4:Y9(t)?9007199254740991:X9(t)?10:11:ie()}function rr(t,e){if(t===e)return!0;const n=Ri(t);if(n!==Ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Al(t).isEqual(Al(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Pi(i.timestampValue),a=Pi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ai(i.bytesValue).isEqual(Ai(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return We(i.geoPointValue.latitude)===We(s.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return We(i.integerValue)===We(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=We(i.doubleValue),a=We(s.doubleValue);return o===a?th(o)===th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ao(t.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Y_(o)!==Y_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!rr(o[l],a[l])))return!1;return!0}(t,e);default:return ie()}}function Il(t,e){return(t.values||[]).find(n=>rr(n,e))!==void 0}function Ro(t,e){if(t===e)return 0;const n=Ri(t),r=Ri(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=We(s.integerValue||s.doubleValue),l=We(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Z_(t.timestampValue,e.timestampValue);case 4:return Z_(Al(t),Al(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ai(s),l=Ai(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=fe(a[c],l[c]);if(h!==0)return h}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=fe(We(s.latitude),We(o.latitude));return a!==0?a:fe(We(s.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return eE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const f=s.fields||{},d=o.fields||{},m=(a=f[rh])===null||a===void 0?void 0:a.arrayValue,_=(l=d[rh])===null||l===void 0?void 0:l.arrayValue,w=fe(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:eE(m,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===zu.mapValue&&o===zu.mapValue)return 0;if(s===zu.mapValue)return 1;if(o===zu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=fe(l[f],h[f]);if(d!==0)return d;const m=Ro(a[l[f]],c[h[f]]);if(m!==0)return m}return fe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ie()}}function Z_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=Pi(t),r=Pi(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function eE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ro(n[i],r[i]);if(s)return s}return fe(n.length,r.length)}function Io(t){return em(t)}function em(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ai(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=em(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${em(n.fields[o])}`;return i+"}"}(t.mapValue):ie()}function uc(t){switch(Ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(t);return e?16+uc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ai(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+uc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ys(r.fields,(s,o)=>{i+=s.length+uc(o)}),i}(t.mapValue);default:throw ie()}}function tm(t){return!!t&&"integerValue"in t}function dy(t){return!!t&&"arrayValue"in t}function tE(t){return!!t&&"nullValue"in t}function nE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cc(t){return!!t&&"mapValue"in t}function X9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[TP])===null||n===void 0?void 0:n.stringValue)===SP}function za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=za(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Y9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(n)}setAll(e){let n=dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=za(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ys(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fn(za(this.value))}}function CP(t){const e=[];return ys(t.fields,(n,r)=>{const i=new dt([n]);if(cc(r)){const s=CP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Rt(e,0,oe.min(),oe.min(),oe.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new Rt(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new Rt(e,2,n,oe.min(),oe.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Rt(e,3,n,oe.min(),oe.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.position=e,this.inclusive=n}}function rE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Ro(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function J9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{}class tt extends PP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ej(e,n,r):n==="array-contains"?new rj(e,r):n==="in"?new ij(e,r):n==="not-in"?new sj(e,r):n==="array-contains-any"?new oj(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tj(e,r):new nj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ro(n,this.value)):n!==null&&Ri(this.value)===Ri(n)&&this.matchesComparison(Ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends PP{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ir(e,n)}matches(e){return AP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function AP(t){return t.op==="and"}function RP(t){return Z9(t)&&AP(t)}function Z9(t){for(const e of t.filters)if(e instanceof ir)return!1;return!0}function nm(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+Io(t.value);if(RP(t))return t.filters.map(e=>nm(e)).join(",");{const e=t.filters.map(n=>nm(n)).join(",");return`${t.op}(${e})`}}function IP(t,e){return t instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&rr(r.value,i.value)}(t,e):t instanceof ir?function(r,i){return i instanceof ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&IP(o,i.filters[a]),!0):!1}(t,e):void ie()}function bP(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`}(t):t instanceof ir?function(n){return n.op.toString()+" {"+n.getFilters().map(bP).join(" ,")+"}"}(t):"Filter"}class ej extends tt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class tj extends tt{constructor(e,n){super(e,"in",n),this.keys=kP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nj extends tt{constructor(e,n){super(e,"not-in",n),this.keys=kP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class rj extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dy(n)&&Il(n.arrayValue,this.value)}}class ij extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Il(this.value.arrayValue,n)}}class sj extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Il(this.value.arrayValue,n)}}class oj extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Il(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function sE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new aj(t,e,n,r,i,s,o)}function fy(t){const e=le(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Io(r)).join(",")),e.le=n}return e.le}function py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iE(t.startAt,e.startAt)&&iE(t.endAt,e.endAt)}function rm(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function lj(t,e,n,r,i,s,o,a){return new Gh(t,e,n,r,i,s,o,a)}function my(t){return new Gh(t)}function oE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uj(t){return t.collectionGroup!==null}function Ha(t){const e=le(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new sh(s,r))}),n.has(dt.keyField().canonicalString())||e.he.push(new sh(dt.keyField(),r))}return e.he}function Jn(t){const e=le(t);return e.Pe||(e.Pe=cj(e,Ha(t))),e.Pe}function cj(t,e){if(t.limitType==="F")return sE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sh(i.field,s)});const n=t.endAt?new ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ih(t.startAt.position,t.startAt.inclusive):null;return sE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function im(t,e,n){return new Gh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qh(t,e){return py(Jn(t),Jn(e))&&t.limitType===e.limitType}function DP(t){return`${fy(Jn(t))}|lt:${t.limitType}`}function As(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bP(i)).join(", ")}]`),Kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Io(i)).join(",")),`Target(${r})`}(Jn(t))}; limitType=${t.limitType})`}function Xh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):te.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ha(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=rE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ha(r),i)||r.endAt&&!function(o,a,l){const c=rE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ha(r),i))}(t,e)}function hj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VP(t){return(e,n)=>{let r=!1;for(const i of Ha(t)){const s=dj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function dj(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ro(l,c):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=new Fe(te.comparator);function br(){return fj}const MP=new Fe(te.comparator);function Ia(...t){let e=MP;for(const n of t)e=e.insert(n.key,n);return e}function NP(t){let e=MP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xi(){return Wa()}function OP(){return Wa()}function Wa(){return new vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const pj=new Fe(te.comparator),mj=new it(te.comparator);function de(...t){let e=mj;for(const n of t)e=e.add(n);return e}const gj=new it(fe);function yj(){return gj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(e)?"-0":e}}function LP(t){return{integerValue:""+t}}function vj(t,e){return W9(e)?LP(e):gy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function wj(t,e,n){return t instanceof oh?function(i,s){const o={fields:{[wP]:{stringValue:vP},[EP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&hy(s)&&(s=qh(s)),s&&(o.fields[_P]=s),{mapValue:o}}(n,e):t instanceof bl?jP(t,e):t instanceof kl?BP(t,e):function(i,s){const o=FP(i,s),a=aE(o)+aE(i.Ie);return tm(o)&&tm(i.Ie)?LP(a):gy(i.serializer,a)}(t,e)}function _j(t,e,n){return t instanceof bl?jP(t,e):t instanceof kl?BP(t,e):n}function FP(t,e){return t instanceof ah?function(r){return tm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class oh extends Yh{}class bl extends Yh{constructor(e){super(),this.elements=e}}function jP(t,e){const n=UP(e);for(const r of t.elements)n.some(i=>rr(i,r))||n.push(r);return{arrayValue:{values:n}}}class kl extends Yh{constructor(e){super(),this.elements=e}}function BP(t,e){let n=UP(e);for(const r of t.elements)n=n.filter(i=>!rr(i,r));return{arrayValue:{values:n}}}class ah extends Yh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function aE(t){return We(t.integerValue||t.doubleValue)}function UP(t){return dy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ej(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof bl&&i instanceof bl||r instanceof kl&&i instanceof kl?Ao(r.elements,i.elements,rr):r instanceof ah&&i instanceof ah?rr(r.Ie,i.Ie):r instanceof oh&&i instanceof oh}(t.transform,e.transform)}class Tj{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jh{}function $P(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HP(t.key,Zn.none()):new ql(t.key,t.data,Zn.none());{const n=t.data,r=fn.empty();let i=new it(dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ws(t.key,r,new Rn(i.toArray()),Zn.none())}}function xj(t,e,n){t instanceof ql?function(i,s,o){const a=i.value.clone(),l=uE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ws?function(i,s,o){if(!hc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=uE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(zP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,r){return t instanceof ql?function(s,o,a,l){if(!hc(s.precondition,o))return a;const c=s.value.clone(),h=cE(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ws?function(s,o,a,l){if(!hc(s.precondition,o))return a;const c=cE(s.fieldTransforms,l,o),h=o.data;return h.setAll(zP(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return hc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Sj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=FP(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function lE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ao(r,i,(s,o)=>Ej(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ql extends Jh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ws extends Jh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function zP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uE(t,e,n){const r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_j(o,a,n[i]))}return r}function cE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wj(s,o,e))}return r}class HP extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cj extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=$P(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(n,r)=>lE(n,r))&&Ao(this.baseMutations,e.baseMutations,(n,r)=>lE(n,r))}}class yy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return pj}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new yy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,pe;function Ij(t){switch(t){case B.OK:return ie();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ie()}}function WP(t){if(t===void 0)return Ir("GRPC error has no .code"),B.UNKNOWN;switch(t){case Qe.OK:return B.OK;case Qe.CANCELLED:return B.CANCELLED;case Qe.UNKNOWN:return B.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return B.INTERNAL;case Qe.UNAVAILABLE:return B.UNAVAILABLE;case Qe.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Qe.NOT_FOUND:return B.NOT_FOUND;case Qe.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Qe.ABORTED:return B.ABORTED;case Qe.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Qe.DATA_LOSS:return B.DATA_LOSS;default:return ie()}}(pe=Qe||(Qe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=new pi([4294967295,4294967295],0);function hE(t){const e=bj().encode(t),n=new aP;return n.update(e),new Uint8Array(n.digest())}function dE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pi([n,r],0),new pi([i,s],0)]}class vy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ba(`Invalid padding: ${n}`);if(r<0)throw new ba(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ba(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ba(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=pi.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(pi.fromNumber(r)));return i.compare(kj)===1&&(i=new pi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=hE(e),[r,i]=dE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new vy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=hE(e),[r,i]=dE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ba extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zh(oe.min(),i,new Fe(fe),br(),de())}}class Gl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gl(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class KP{constructor(e,n){this.targetId=e,this.ge=n}}class qP{constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fE{constructor(){this.pe=0,this.ye=pE(),this.we=mt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=de(),n=de(),r=de();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new Gl(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=pE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,_e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Dj{constructor(e){this.ke=e,this.qe=new Map,this.Qe=br(),this.$e=Hu(),this.Ke=Hu(),this.Ue=new Fe(fe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const s=i.target;if(rm(s))if(r===0){const o=new te(s.path);this.ze(n,o,Rt.newNoDocument(o,oe.min()))}else _e(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ai(r).toUint8Array()}catch(l){if(l instanceof yP)return Po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new vy(o,i,s)}catch(l){return Po(l instanceof ba?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&rm(a.target)){const l=new te(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,Rt.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=de();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const i=new Zh(e,n,this.Ue,this.Qe,r);return this.Qe=br(),this.$e=Hu(),this.Ke=Hu(),this.Ue=new Fe(fe),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new fE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new it(fe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new it(fe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new fE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Hu(){return new Fe(te.comparator)}function pE(){return new Fe(te.comparator)}const Vj={asc:"ASCENDING",desc:"DESCENDING"},Mj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nj={and:"AND",or:"OR"};class Oj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sm(t,e){return t.useProto3Json||Kh(e)?e:{value:e}}function lh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Lj(t,e){return lh(t,e.toTimestamp())}function er(t){return _e(!!t),oe.fromTimestamp(function(n){const r=Pi(n);return new rt(r.seconds,r.nanos)}(t))}function wy(t,e){return om(t,e).canonicalString()}function om(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QP(t){const e=Ve.fromString(t);return _e(eA(e)),e}function am(t,e){return wy(t.databaseId,e.path)}function yf(t,e){const n=QP(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(YP(n))}function XP(t,e){return wy(t.databaseId,e)}function Fj(t){const e=QP(t);return e.length===4?Ve.emptyPath():YP(e)}function lm(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YP(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function mE(t,e,n){return{name:am(t,e),fields:n.value.mapValue.fields}}function jj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(_e(h===void 0||typeof h=="string"),mt.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array),mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:WP(c.code);return new Z(h,c.message||"")}(o);n=new qP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yf(t,r.document.name),s=er(r.document.updateTime),o=r.document.createTime?er(r.document.createTime):oe.min(),a=new fn({mapValue:{fields:r.document.fields}}),l=Rt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new dc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yf(t,r.document),s=r.readTime?er(r.readTime):oe.min(),o=Rt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new dc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yf(t,r.document),s=r.removedTargetIds||[];n=new dc([],s,i,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Rj(i,s),a=r.targetId;n=new KP(a,o)}}return n}function Bj(t,e){let n;if(e instanceof ql)n={update:mE(t,e.key,e.value)};else if(e instanceof HP)n={delete:am(t,e.key)};else if(e instanceof ws)n={update:mE(t,e.key,e.data),updateMask:Qj(e.fieldMask)};else{if(!(e instanceof Cj))return ie();n={verify:am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof oh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ah)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Lj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function Uj(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?er(i.updateTime):er(s);return o.isEqual(oe.min())&&(o=er(s)),new Tj(o,i.transformResults||[])}(n,e))):[]}function $j(t,e){return{documents:[XP(t,e.path)]}}function zj(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XP(t,i);const s=function(c){if(c.length!==0)return ZP(ir.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:Rs(d.field),direction:Kj(d.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=sm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:i}}function Hj(t){let e=Fj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const d=JP(f);return d instanceof ir&&RP(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(d=>function(_){return new sh(Is(_.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,Kh(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,m=f.values||[];return new ih(m,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,m=f.values||[];return new ih(m,d)}(n.endAt)),lj(e,i,o,s,a,"F",l,c)}function Wj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Is(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Is(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Is(n.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Is(n.unaryFilter.field);return tt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(n){return tt.create(Is(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ir.create(n.compositeFilter.filters.map(r=>JP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(n.compositeFilter.op))}(t):ie()}function Kj(t){return Vj[t]}function qj(t){return Mj[t]}function Gj(t){return Nj[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Is(t){return dt.fromServerFormat(t.fieldPath)}function ZP(t){return t instanceof tt?function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:Rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(n.field),op:qj(n.op),value:n.value}}}(t):t instanceof ir?function(n){const r=n.getFilters().map(i=>ZP(i));return r.length===1?r[0]:{compositeFilter:{op:Gj(n.op),filters:r}}}(t):ie()}function Qj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n,r,i,s=oe.min(),o=oe.min(),a=mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e){this.Tt=e}}function Yj(t){const e=Hj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.Tn=new Zj}addToCollectionParentIndex(e,n){return this.Tn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Ci.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class Zj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tA=41943040;class Bt{static withCacheSize(e){return new Bt(e,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bt.DEFAULT_COLLECTION_PERCENTILE=10,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bt.DEFAULT=new Bt(tA,Bt.DEFAULT_COLLECTION_PERCENTILE,Bt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bt.DISABLED=new Bt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new bo(0)}static Un(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",e5=1048576;function vE([t,e],[n,r]){const i=fe(t,n);return i===0?fe(e,r):i}class t5{constructor(e){this.Hn=e,this.buffer=new it(vE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class n5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){q(yE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?q(yE,"Ignoring IndexedDB error during garbage collection: ",n):await Wo(n)}await this.er(3e5)})}}class r5{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Wh.ae);const r=new t5(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(gE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ps()<=me.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function i5(t,e){return new r5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.changes=new vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ka(r.mutation,i,Rn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=Xi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ia();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=br();const o=Wa(),a=function(){return Wa()}();return n.forEach((l,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ws)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ka(h.mutation,c,h.mutation.getFieldMask(),rt.now())):o.set(c.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new o5(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wa();let i=new Fe((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||Rn.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=OP();h.forEach(d=>{if(!s.has(d)){const m=$P(n.get(d),r.get(d));m!==null&&f.set(d,m),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(Xi());let a=Pl,l=s;return o.next(c=>F.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,de())).next(h=>({batchId:a,changes:NP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Ia();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ia();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const c=function(f,d){return new Gh(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,d)=>{o=o.insert(f,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Rt.newInvalidDocument(h)))});let a=Ia();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Ka(h.mutation,c,Rn.empty(),rt.now()),Xh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return F.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:er(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:Yj(i.bundledQuery),readTime:er(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(){this.overlays=new Fe(te.comparator),this.Rr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xi();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Xi(),s=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Xi(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Xi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return F.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Aj(n,r));let s=this.Rr.get(n);s===void 0&&(s=de(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.Vr=new it(st.mr),this.gr=new it(st.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new st(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new st(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new te(new Ve([])),r=new st(n,e),i=new st(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new te(new Ve([])),r=new st(n,e),i=new st(n,e+1);let s=de();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new st(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class st{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return te.comparator(e.key,n.key)||fe(e.Cr,n.Cr)}static pr(e,n){return fe(e.Cr,n.Cr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new it(st.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Pj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Mr=this.Mr.add(new st(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?cy:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new st(n,0),i=new st(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{const a=this.Or(o.Cr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(fe);return n.forEach(i=>{const s=new st(i,0),o=new st(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),F.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;te.isDocumentKey(s)||(s=s.child(""));const o=new st(new te(s),0);let a=new it(fe);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},o),F.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return F.forEach(n.mutations,i=>{const s=new st(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new st(n,0),i=this.Mr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.kr=e,this.docs=function(){return new Fe(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Rt.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Rt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=br();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||U9(B9(h),r)<=0||(i.has(h.key)||Xh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie()}qr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new f5(this)}getSize(e){return F.resolve(this.size)}}class f5 extends s5{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.persistence=e,this.Qr=new vs(n=>fy(n),py),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new _y,this.targetCount=0,this.Ur=bo.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),F.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.zn(n),F.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Wh(0),this.zr=!1,this.zr=!0,this.jr=new c5,this.referenceDelegate=e(this),this.Hr=new p5(this),this.indexManager=new Jj,this.remoteDocumentCache=function(i){return new d5(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Xj(n),this.Yr=new l5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new h5(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new m5(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return F.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class m5 extends z9{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.ti=new _y,this.ni=null}static ri(e){return new Ey(e)}get ii(){if(this.ni)return this.ni;throw ie()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),F.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,r=>{const i=te.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return F.or([()=>F.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class uh{constructor(e,n){this.persistence=e,this.oi=new vs(r=>K9(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=i5(this,n)}static ri(e,n){return new uh(e,n)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return F.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,oe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),F.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uc(e.data.value)),n}ar(e,n,r){return F.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ty(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return c4()?8:H9(l4())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new g5;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Ps()<=me.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",As(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(Ps()<=me.DEBUG&&q("QueryEngine","Query:",As(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Ps()<=me.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",As(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(n))):F.resolve())}rs(e,n){if(oE(n))return F.resolve(null);let r=Jn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=im(n,null,"F"),r=Jn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,im(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return oE(n)||i.isEqual(oe.min())?F.resolve(null):this.ns.getDocuments(e,r).next(s=>{const o=this.cs(n,s);return this.ls(n,o,r,i)?F.resolve(null):(Ps()<=me.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),As(n)),this.hs(e,o,n,j9(i,Pl)).next(a=>a))})}cs(e,n){let r=new it(VP(e));return n.forEach((i,s)=>{Xh(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return Ps()<=me.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",As(n)),this.ns.getDocumentsMatchingQuery(e,n,Ci.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="LocalStore",v5=3e8;class w5{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new Fe(fe),this.Is=new vs(s=>fy(s),py),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a5(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function _5(t,e,n,r){return new w5(t,e,n,r)}async function rA(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const c of i){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function E5(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,d=f.keys();let m=F.resolve();return d.forEach(_=>{m=m.next(()=>h.getEntry(l,_)).next(w=>{const E=c.docVersions.get(_);_e(E!==null),w.version.compareTo(E)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),h.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function iA(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function T5(t,e){const n=le(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const a=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;a.push(n.Hr.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(s,h.addedDocuments,f)));let m=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(mt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(f,m),function(w,E,y){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=v5?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,m,h)&&a.push(n.Hr.updateTargetData(s,m))});let l=br(),c=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(x5(s,o,e.documentUpdates).next(h=>{l=h.Vs,c=h.fs})),!r.isEqual(oe.min())){const h=n.Hr.getLastRemoteSnapshotVersion(s).next(f=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ts=i,s))}function x5(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=br();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(xy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function S5(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function C5(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new ni(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function um(t,e,n){const r=le(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ko(o))throw o;q(xy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function wE(t,e,n){const r=le(t);let i=oe.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=le(l),d=f.Is.get(h);return d!==void 0?F.resolve(f.Ts.get(d)):f.Hr.getTargetData(c,h)}(r,o,Jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:oe.min(),n?s:de())).next(a=>(P5(r,hj(e),a),{documents:a,gs:s})))}function P5(t,e,n){let r=t.Es.get(e)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}class _E{constructor(){this.activeTargetIds=yj()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A5{constructor(){this.ho=new _E,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new _E,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="ConnectivityMonitor";class TE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){q(EE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){q(EE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function cm(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="RestConnection",I5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b5{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===nh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){const o=cm(),a=this.bo(e,n.toUriEncodedString());q(vf,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(c=>(q(vf,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Po(vf,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){const r=I5[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class D5 extends b5{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const s=cm();return new Promise((o,a)=>{const l=new lP;l.setWithCredentials(!0),l.listenOnce(uP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lc.NO_ERROR:const h=l.getResponseJson();q(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case lc.TIMEOUT:q(xt,`RPC '${e}' ${s} timed out`),a(new Z(B.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const f=l.getStatus();if(q(xt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const _=function(E){const y=E.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(m.status);a(new Z(_,m.message))}else a(new Z(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(B.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{q(xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);q(xt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=cm(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dP(),a=hP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");q(xt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=o.createWebChannel(h,l);let d=!1,m=!1;const _=new k5({Fo:E=>{m?q(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(d||(q(xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),q(xt,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},Mo:()=>f.close()}),w=(E,y,v)=>{E.listen(y,x=>{try{v(x)}catch(b){setTimeout(()=>{throw b},0)}})};return w(f,Ra.EventType.OPEN,()=>{m||(q(xt,`RPC '${e}' stream ${i} transport opened.`),_.Qo())}),w(f,Ra.EventType.CLOSE,()=>{m||(m=!0,q(xt,`RPC '${e}' stream ${i} transport closed`),_.Ko())}),w(f,Ra.EventType.ERROR,E=>{m||(m=!0,Po(xt,`RPC '${e}' stream ${i} transport errored:`,E),_.Ko(new Z(B.UNAVAILABLE,"The operation could not be completed")))}),w(f,Ra.EventType.MESSAGE,E=>{var y;if(!m){const v=E.data[0];_e(!!v);const x=v,b=(x==null?void 0:x.error)||((y=x[0])===null||y===void 0?void 0:y.error);if(b){q(xt,`RPC '${e}' stream ${i} received error:`,b);const k=b.status;let M=function(A){const R=Qe[A];if(R!==void 0)return WP(R)}(k),C=b.message;M===void 0&&(M=B.INTERNAL,C="Unknown error status: "+k+" with message "+b.message),m=!0,_.Ko(new Z(M,C)),f.close()}else q(xt,`RPC '${e}' stream ${i} received:`,v),_.Uo(v)}}),w(a,cP.STAT_EVENT,E=>{E.stat===Zp.PROXY?q(xt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Zp.NOPROXY&&q(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){return new Oj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="PersistentStream";class oA{constructor(e,n,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new sA(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return q(xE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(q(xE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V5 extends oA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=jj(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?er(o.readTime):oe.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=lm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=rm(l)?{documents:$j(s,l)}:{query:zj(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GP(s,o.resumeToken);const c=sm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=lh(s,o.snapshotVersion.toTimestamp());const c=sm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Wj(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=lm(this.serializer),n.removeTarget=e,this.I_(n)}}class M5 extends oA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return _e(!!e.streamToken),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Uj(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=lm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Bj(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{}class O5 extends N5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,om(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(B.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,om(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(B.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class L5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ir(n),this.N_=!1):q("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="RemoteStore";class F5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(async()=>{_s(this)&&(q(ds,"Restarting streams for network reachability change."),await async function(l){const c=le(l);c.W_.add(4),await Ql(c),c.j_.set("Unknown"),c.W_.delete(4),await td(c)}(this))})}),this.j_=new L5(r,i)}}async function td(t){if(_s(t))for(const e of t.G_)await e(!0)}async function Ql(t){for(const e of t.G_)await e(!1)}function aA(t,e){const n=le(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Ay(n)?Py(n):qo(n).c_()&&Cy(n,e))}function Sy(t,e){const n=le(t),r=qo(n);n.U_.delete(e),r.c_()&&lA(n,e),n.U_.size===0&&(r.c_()?r.P_():_s(n)&&n.j_.set("Unknown"))}function Cy(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qo(t).y_(e)}function lA(t,e){t.H_.Ne(e),qo(t).w_(e)}function Py(t){t.H_=new Dj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),qo(t).start(),t.j_.B_()}function Ay(t){return _s(t)&&!qo(t).u_()&&t.U_.size>0}function _s(t){return le(t).W_.size===0}function uA(t){t.H_=void 0}async function j5(t){t.j_.set("Online")}async function B5(t){t.U_.forEach((e,n)=>{Cy(t,e)})}async function U5(t,e){uA(t),Ay(t)?(t.j_.q_(e),Py(t)):t.j_.set("Unknown")}async function $5(t,e,n){if(t.j_.set("Online"),e instanceof qP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.U_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))}(t,e)}catch(r){q(ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ch(t,r)}else if(e instanceof dc?t.H_.We(e):e instanceof KP?t.H_.Ze(e):t.H_.je(e),!n.isEqual(oe.min()))try{const r=await iA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.U_.get(c);h&&s.U_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.U_.get(l);if(!h)return;s.U_.set(l,h.withResumeToken(mt.EMPTY_BYTE_STRING,h.snapshotVersion)),lA(s,l);const f=new ni(h.target,l,c,h.sequenceNumber);Cy(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(ds,"Failed to raise snapshot:",r),await ch(t,r)}}async function ch(t,e,n){if(!Ko(e))throw e;t.W_.add(1),await Ql(t),t.j_.set("Offline"),n||(n=()=>iA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(ds,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await td(t)})}function cA(t,e){return e().catch(n=>ch(t,n,e))}async function nd(t){const e=le(t),n=Ii(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:cy;for(;z5(e);)try{const i=await S5(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,H5(e,i)}catch(i){await ch(e,i)}hA(e)&&dA(e)}function z5(t){return _s(t)&&t.K_.length<10}function H5(t,e){t.K_.push(e);const n=Ii(t);n.c_()&&n.S_&&n.b_(e.mutations)}function hA(t){return _s(t)&&!Ii(t).u_()&&t.K_.length>0}function dA(t){Ii(t).start()}async function W5(t){Ii(t).C_()}async function K5(t){const e=Ii(t);for(const n of t.K_)e.b_(n.mutations)}async function q5(t,e,n){const r=t.K_.shift(),i=yy.from(r,e,n);await cA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nd(t)}async function G5(t,e){e&&Ii(t).S_&&await async function(r,i){if(function(o){return Ij(o)&&o!==B.ABORTED}(i.code)){const s=r.K_.shift();Ii(r).h_(),await cA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await nd(r)}}(t,e),hA(t)&&dA(t)}async function SE(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),q(ds,"RemoteStore received new credentials");const r=_s(n);n.W_.add(3),await Ql(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await td(n)}async function Q5(t,e){const n=le(t);e?(n.W_.delete(2),await td(n)):e||(n.W_.add(2),await Ql(n),n.j_.set("Unknown"))}function qo(t){return t.J_||(t.J_=function(n,r,i){const s=le(n);return s.M_(),new V5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:j5.bind(null,t),No:B5.bind(null,t),Lo:U5.bind(null,t),p_:$5.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Ay(t)?Py(t):t.j_.set("Unknown")):(await t.J_.stop(),uA(t))})),t.J_}function Ii(t){return t.Y_||(t.Y_=function(n,r,i){const s=le(n);return s.M_(),new M5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:W5.bind(null,t),Lo:G5.bind(null,t),D_:K5.bind(null,t),v_:q5.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await nd(t)):(await t.Y_.stop(),t.K_.length>0&&(q(ds,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Ry(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(t,e){if(Ir("AsyncQueue",`${e}: ${t}`),Ko(t))return new Z(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Ia(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.Z_=new Fe(te.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ie():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ko{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ko(e,n,ro.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Y5{constructor(){this.queries=PE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=PE(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(r)})})(this,new Z(B.ABORTED,"Firestore shutting down"))}}function PE(){return new vs(t=>DP(t),Qh)}async function J5(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new X5,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Iy(o,`Initialization of query '${As(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&by(n)}async function Z5(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eB(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&by(n)}function tB(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(e)}function by(t){t.ia.forEach(e=>{e.next()})}var hm,AE;(AE=hm||(hm={}))._a="default",AE.Cache="cache";class nB{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.key=e}}class pA{constructor(e){this.key=e}}class rB{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=de(),this.mutatedKeys=de(),this.ya=VP(e),this.wa=new ro(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new CE,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),m=Xh(this.query,f)?f:null,_=!!d&&this.mutatedKeys.has(d.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;d&&m?d.data.isEqual(m.data)?_!==w&&(r.track({type:3,doc:m}),E=!0):this.va(d,m)||(r.track({type:2,doc:m}),E=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),E=!0):d&&!m&&(r.track({type:1,doc:d}),E=!0,(l||c)&&(a=!0)),E&&(m?(o=o.add(m),s=w?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((h,f)=>function(m,_){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return w(m)-w(_)}(h.type,f.type)||this.ya(h.doc,f.doc)),this.Ca(r),i=i!=null&&i;const a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new ko(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new CE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=de(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new pA(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new fA(r))}),n}Oa(e){this.fa=e.gs,this.pa=de();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return ko.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ky="SyncEngine";class iB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class sB{constructor(e){this.key=e,this.Ba=!1}}class oB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new vs(a=>DP(a),Qh),this.qa=new Map,this.Qa=new Set,this.$a=new Fe(te.comparator),this.Ka=new Map,this.Ua=new _y,this.Wa={},this.Ga=new Map,this.za=bo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function aB(t,e,n=!0){const r=_A(t);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await mA(r,e,n,!0),i}async function lB(t,e){const n=_A(t);await mA(n,e,!0,!1)}async function mA(t,e,n,r){const i=await C5(t.localStore,Jn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await uB(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&aA(t.remoteStore,i),a}async function uB(t,e,n,r,i){t.Ha=(f,d,m)=>async function(w,E,y,v){let x=E.view.ba(y);x.ls&&(x=await wE(w.localStore,E.query,!1).then(({documents:C})=>E.view.ba(C,x)));const b=v&&v.targetChanges.get(E.targetId),k=v&&v.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(x,w.isPrimaryClient,b,k);return IE(w,E.targetId,M.Ma),M.snapshot}(t,f,d,m);const s=await wE(t.localStore,e,!0),o=new rB(e,s.gs),a=o.ba(s.documents),l=Gl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);IE(t,n,c.Ma);const h=new iB(e,n,o);return t.ka.set(e,h),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function cB(t,e,n){const r=le(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!Qh(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await um(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sy(r.remoteStore,i.targetId),dm(r,i.targetId)}).catch(Wo)):(dm(r,i.targetId),await um(r.localStore,i.targetId,!0))}async function hB(t,e){const n=le(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sy(n.remoteStore,r.targetId))}async function dB(t,e,n){const r=wB(t);try{const i=await function(o,a){const l=le(o),c=rt.now(),h=a.reduce((m,_)=>m.add(_.key),de());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=br(),w=de();return l.ds.getEntries(m,h).next(E=>{_=E,_.forEach((y,v)=>{v.isValidDocument()||(w=w.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(E=>{f=E;const y=[];for(const v of a){const x=Sj(v,f.get(v.key).overlayedDocument);x!=null&&y.push(new ws(v.key,x,CP(x.value.mapValue),Zn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,y,a)}).next(E=>{d=E;const y=E.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(m,E.batchId,y)})}).then(()=>({batchId:d.batchId,changes:NP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new Fe(fe)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Xl(r,i.changes),await nd(r.remoteStore)}catch(i){const s=Iy(i,"Failed to persist write");n.reject(s)}}async function gA(t,e){const n=le(t);try{const r=await T5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ka.get(s);o&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?_e(o.Ba):i.removedDocuments.size>0&&(_e(o.Ba),o.Ba=!1))}),await Xl(n,r,e)}catch(r){await Wo(r)}}function RE(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=le(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.ta)d.sa(a)&&(c=!0)}),c&&by(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function fB(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ka.get(e),s=i&&i.key;if(s){let o=new Fe(te.comparator);o=o.insert(s,Rt.newNoDocument(s,oe.min()));const a=de().add(s),l=new Zh(oe.min(),new Map,new Fe(fe),o,a);await gA(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),Dy(r)}else await um(r.localStore,e,!1).then(()=>dm(r,e,n)).catch(Wo)}async function pB(t,e){const n=le(t),r=e.batch.batchId;try{const i=await E5(n.localStore,e);vA(n,r,null),yA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xl(n,i)}catch(i){await Wo(i)}}async function mB(t,e,n){const r=le(t);try{const i=await function(o,a){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(_e(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);vA(r,e,n),yA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xl(r,i)}catch(i){await Wo(i)}}function yA(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function vA(t,e,n){const r=le(t);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function dm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||wA(t,r)})}function wA(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Sy(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),Dy(t))}function IE(t,e,n){for(const r of n)r instanceof fA?(t.Ua.addReference(r.key,e),gB(t,r)):r instanceof pA?(q(ky,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||wA(t,r.key)):ie()}function gB(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(q(ky,"New document in limbo: "+n),t.Qa.add(r),Dy(t))}function Dy(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new te(Ve.fromString(e)),r=t.za.next();t.Ka.set(r,new sB(n)),t.$a=t.$a.insert(n,r),aA(t.remoteStore,new ni(Jn(my(n.path)),r,"TargetPurposeLimboResolution",Wh.ae))}}async function Xl(t,e,n){const r=le(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Ty.Yi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.La.p_(i),await async function(l,c){const h=le(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,d=>F.forEach(d.Hi,m=>h.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>F.forEach(d.Ji,m=>h.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!Ko(f))throw f;q(xy,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const m=h.Ts.get(d),_=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(_);h.Ts=h.Ts.insert(d,w)}}}(r.localStore,s))}async function yB(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){q(ky,"User change. New user:",e.toKey());const r=await rA(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new Z(B.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xl(n,r.Rs)}}function vB(t,e){const n=le(t),r=n.Ka.get(e);if(r&&r.Ba)return de().add(r.key);{let i=de();const s=n.qa.get(e);if(!s)return i;for(const o of s){const a=n.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function _A(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fB.bind(null,e),e.La.p_=eB.bind(null,e.eventManager),e.La.Ja=tB.bind(null,e.eventManager),e}function wB(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mB.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return _5(this.persistence,new y5,e.initialUser,this.serializer)}Xa(e){return new nA(Ey.ri,this.serializer)}Za(e){return new A5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class _B extends hh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){_e(this.persistence.referenceDelegate instanceof uh);const r=this.persistence.referenceDelegate.garbageCollector;return new n5(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Bt.withCacheSize(this.cacheSizeBytes):Bt.DEFAULT;return new nA(r=>uh.ri(r,n),this.serializer)}}class fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yB.bind(null,this.syncEngine),await Q5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Y5}()}createDatastore(e){const n=ed(e.databaseInfo.databaseId),r=function(s){return new D5(s)}(e.databaseInfo);return function(s,o,a,l){return new O5(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new F5(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>RE(this.syncEngine,n,0),function(){return TE.D()?new TE:new R5}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,h){const f=new oB(i,s,o,a,l,c);return h&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);q(ds,"RemoteStore shutting down."),s.W_.add(5),await Ql(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="FirestoreClient";class TB{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=pP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(bi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(bi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Iy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _f(t,e){t.asyncQueue.verifyOperationInProgress(),q(bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xB(t);q(bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>SE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>SE(e.remoteStore,i)),t._onlineComponents=e}async function xB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(bi,"Using user provided OfflineComponentProvider");try{await _f(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await _f(t,new hh)}}else q(bi,"Using default OfflineComponentProvider"),await _f(t,new _B(void 0));return t._offlineComponents}async function EA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(bi,"Using user provided OnlineComponentProvider"),await bE(t,t._uninitializedComponentsProvider._online)):(q(bi,"Using default OnlineComponentProvider"),await bE(t,new fm))),t._onlineComponents}function SB(t){return EA(t).then(e=>e.syncEngine)}async function CB(t){const e=await EA(t),n=e.eventManager;return n.onListen=aB.bind(null,e.syncEngine),n.onUnlisten=cB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hB.bind(null,e.syncEngine),n}function PB(t,e,n={}){const r=new mi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new EB({next:d=>{h.su(),o.enqueueAndForget(()=>Z5(s,f));const m=d.docs.has(a);!m&&d.fromCache?c.reject(new Z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&d.fromCache&&l&&l.source==="server"?c.reject(new Z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new nB(my(a.path),h,{includeMetadataChanges:!0,Ta:!0});return J5(s,f)}(await CB(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e,n){if(!n)throw new Z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AB(t,e,n,r){if(e===!0&&r===!0)throw new Z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DE(t){if(!te.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VE(t){if(te.isDocumentKey(t))throw new Z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Vy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function Do(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vy(t);throw new Z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firestore.googleapis.com",ME=!0;class NE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SA,this.ssl=ME}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ME;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e5)throw new Z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k9;switch(r.type){case"firstParty":return new N9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kE.get(n);r&&(q("ComponentProvider","Removing Datastore"),kE.delete(n),r.terminate())}(this),Promise.resolve()}}function RB(t,e,n,r={}){var i;const s=(t=Do(t,rd))._getSettings(),o=`${e}:${n}`;if(s.host!==SA&&s.host!==o&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Pt.MOCK_USER;else{a=a4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Pt(c)}t._authCredentials=new D9(new fP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new My(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class gi extends My{constructor(e,n,r){super(e,n,my(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new te(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function VU(t,e,...n){if(t=xl(t),xA("collection","path",e),t instanceof rd){const r=Ve.fromString(e,...n);return VE(r),new gi(t,null,r)}{if(!(t instanceof rn||t instanceof gi))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return VE(r),new gi(t.firestore,null,r)}}function IB(t,e,...n){if(t=xl(t),arguments.length===1&&(e=pP.newId()),xA("doc","path",e),t instanceof rd){const r=Ve.fromString(e,...n);return DE(r),new rn(t,null,new te(r))}{if(!(t instanceof rn||t instanceof gi))throw new Z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return DE(r),new rn(t.firestore,t instanceof gi?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="AsyncQueue";class LE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new sA(this,"async_queue_retry"),this.Su=()=>{const r=wf();r&&q(OE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new mi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ko(e))throw e;q(OE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ir("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=Ry.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&ie()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class id extends rd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new LE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new LE(e),this._firestoreClient=void 0,await e}}}function MU(t,e){const n=typeof t=="object"?t:v9(),r=typeof t=="string"?t:nh,i=d9(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=s4("firestore");s&&RB(i,...s)}return i}function CA(t){if(t._terminated)throw new Z(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||bB(t),t._firestoreClient}function bB(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,h){return new Q9(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new TB(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(mt.fromBase64String(e))}catch(n){throw new Z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vo(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=/^__.*__$/;class DB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new ql(e,this.data,n,this.fieldTransforms)}}function AA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class Fy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return dh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(AA(this.Lu)&&kB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class VB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ed(e)}ju(e,n,r,i=!1){return new Fy({Lu:e,methodName:n,zu:r,path:dt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RA(t){const e=t._freezeSettings(),n=ed(t._databaseId);return new VB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IA(t,e,n,r,i,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);VA("Data must be an object, but it was:",o,r);const a=kA(r,o);let l,c;if(s.merge)l=new Rn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const d=MB(e,f,n);if(!o.contains(d))throw new Z(B.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);OB(h,d)||h.push(d)}l=new Rn(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new DB(new fn(a),l,c)}function bA(t,e){if(DA(t=xl(t)))return VA("Unsupported field value:",e,t),kA(t,e);if(t instanceof PA)return function(r,i){if(!AA(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=bA(a,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xl(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rt.fromDate(r);return{timestampValue:lh(i.serializer,s)}}if(r instanceof rt){const s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lh(i.serializer,s)}}if(r instanceof Oy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vo)return{bytesValue:GP(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ly)return function(o,a){return{mapValue:{fields:{[TP]:{stringValue:SP},[rh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return gy(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Vy(r)}`)}(t,e)}function kA(t,e){const n={};return gP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(t,(r,i)=>{const s=bA(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function DA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Oy||t instanceof Vo||t instanceof rn||t instanceof PA||t instanceof Ly)}function VA(t,e,n){if(!DA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Vy(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function MB(t,e,n){if((e=xl(e))instanceof Ny)return e._internalPath;if(typeof e=="string")return MA(t,e);throw dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const NB=new RegExp("[~\\*/\\[\\]]");function MA(t,e,n){if(e.search(NB)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ny(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Z(B.INVALID_ARGUMENT,a+t+l)}function OB(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(OA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LB extends NA{data(){return super.data()}}function OA(t,e){return typeof e=="string"?MA(t,e):e instanceof Ny?e._internalPath:e._delegate._internalPath}class FB{convertValue(e,n="none"){switch(Ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ys(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[rh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>We(o.doubleValue));return new Ly(s)}convertGeoPoint(e){return new Oy(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Al(e));default:return null}}convertTimestamp(e){const n=Pi(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);_e(eA(r));const i=new Rl(r.get(1),r.get(3)),s=new te(r.popFirst(5));return i.isEqual(n)||Ir(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FA extends NA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new BB(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(OA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class BB extends FA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){t=Do(t,rn);const e=Do(t.firestore,id);return PB(CA(e),t._key).then(n=>$B(e,t,n))}class UB extends FB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function OU(t,e,n){t=Do(t,rn);const r=Do(t.firestore,id),i=LA(t.converter,e,n);return jA(r,[IA(RA(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Zn.none())])}function LU(t,e){const n=Do(t.firestore,id),r=IB(t),i=LA(t.converter,e);return jA(n,[IA(RA(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}function jA(t,e){return function(r,i){const s=new mi;return r.asyncQueue.enqueueAndForget(async()=>dB(await SB(r),i,s)),s.promise}(CA(t),e)}function $B(t,e,n){const r=n.docs.get(e._key),i=new UB(t);return new FA(t,i,e._key,r,new jB(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ho=i})(g9),eh(new Sl("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new id(new V9(r.getProvider("auth-internal")),new O9(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),no(H_,W_,e),no(H_,W_,"esm2017")})();export{XB as A,rU as B,YB as C,QB as D,iU as E,tU as F,ZB as G,$l as H,sU as I,TU as J,CU as K,PU as L,SU as M,dM as N,Ob as O,WB as P,EU as Q,qB as R,GB as T,aU as U,KB as V,uU as X,JB as a,hU as b,Pk as c,dU as d,vU as e,yU as f,RU as g,eU as h,y9 as i,K as j,MU as k,VU as l,kU as m,rt as n,LU as o,IB as p,NU as q,P as r,OU as s,cU as t,ES as u,xU as v,AU as w,lU as x,oU as y,nU as z};
//# sourceMappingURL=vendor-BQJsfRFD.js.map
